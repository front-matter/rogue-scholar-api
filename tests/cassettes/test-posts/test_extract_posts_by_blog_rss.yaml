interactions:
- request:
    body: '{}'
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '2'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: GET
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/blogs?select=id%2C%20slug%2C%20feed_url%2C%20current_feed_url%2C%20home_page_url%2C%20archive_prefix%2C%20feed_format%2C%20created_at%2C%20updated_at%2C%20registered_at%2C%20generator%2C%20generator_raw%2C%20language%2C%20category%2C%20favicon%2C%20title%2C%20description%2C%20category%2C%20status%2C%20user_id%2C%20authors%2C%20use_api%2C%20relative_url%2C%20filter%2C%20secure&slug=eq.tarleb
  response:
    content: '{"id":"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8","slug":"tarleb","feed_url":"https://tarleb.com/index.xml","current_feed_url":null,"home_page_url":"https://tarleb.com/index.html","archive_prefix":"https://wayback.archive-it.org/22161/20231101171515/","feed_format":"application/rss+xml","created_at":1681948800,"updated_at":1679616000,"registered_at":1700486796,"generator":"Quarto","generator_raw":"Quarto
      1.4.554","language":"en","category":"computerAndInformationSciences","favicon":null,"title":"tarleb","description":"tarleb''s
      blog","category":"computerAndInformationSciences","status":"active","user_id":"dead81b3-8a8b-45c9-85fe-f01bb3948c77","authors":null,"use_api":null,"relative_url":null,"filter":null,"secure":true}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc0efe69f95c-DUS
      content-location:
      - /blogs?select=id%2C%20slug%2C%20feed_url%2C%20current_feed_url%2C%20home_page_url%2C%20archive_prefix%2C%20feed_format%2C%20created_at%2C%20updated_at%2C%20registered_at%2C%20generator%2C%20generator_raw%2C%20language%2C%20category%2C%20favicon%2C%20title%2C%20description%2C%20category%2C%20status%2C%20user_id%2C%20authors%2C%20use_api%2C%20relative_url%2C%20filter%2C%20secure&slug=eq.tarleb
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:38 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '0'
      x-kong-upstream-latency:
      - '7'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      connection:
      - keep-alive
      host:
      - tarleb.com
      user-agent:
      - python-httpx/0.27.2
    method: GET
    uri: https://tarleb.com/index.xml
  response:
    content: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<rss  xmlns:atom=\"http://www.w3.org/2005/Atom\"
      \n      xmlns:media=\"http://search.yahoo.com/mrss/\" \n      xmlns:content=\"http://purl.org/rss/1.0/modules/content/\"
      \n      xmlns:dc=\"http://purl.org/dc/elements/1.1/\" \n      version=\"2.0\">\n<channel>\n<title>tarleb</title>\n<link>https://tarleb.com/</link>\n<atom:link
      href=\"https://tarleb.com/index.xml\" rel=\"self\" type=\"application/rss+xml\"/>\n<description>tarleb&#39;s
      blog</description>\n<generator>quarto-1.4.554</generator>\n<lastBuildDate>Fri,
      24 Mar 2023 00:00:00 GMT</lastBuildDate>\n<item>\n  <title>Typst Musings</title>\n
      \ <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/typst-musings/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p><a href=\"https://typst.app\">Typst</a>,
      the new writing tool, was open sourced a couple of days ago. This is right up
      my alley of course, and I have a couple of thoughts on it, which I share here.</p>\n<section
      id=\"what-is-it\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"what-is-it\">What
      is it?</h2>\n<p>Typst is a writing tool that\u2019s described as a LaTeX alternative:
      it takes plain-text markup as input and can produce nice looking PDFs from that.
      The open-sourcing of the code created a lot of excitement and interest, with
      the <a href=\"https://github.com/typst/typst\">GitHub repository</a> getting
      starred over 9,000 times in just a few days.</p>\n<p>The tool comes with fresh
      and interesting ideas, impressive technology, and a good bit of hype\u2014so
      let\u2019s take a closer look.</p>\n</section>\n<section id=\"how-does-it-work\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"how-does-it-work\">How
      does it work?</h2>\n<p>Typst is written in <a href=\"https://www.rust-lang.org/\">Rust</a>,
      a comparatively low-level programming language that fixes many shortcomings
      of other languages operating in the same domain. One interesting feature of
      Rust that Typst makes use of is compilation to web assembly, which allows us
      to run Rust programs in the browser. This is how Typst can do the blazing fast
      PDF generation <em>in the browser!</em></p>\n<p>Of course this only works if
      it is Rust all the way down, which has important consequences. My first thought
      when I looked at the code was that it suffered from some serious <a href=\"https://en.wikipedia.org/wiki/Not_invented_here\">nih</a>
      syndrome: basically the whole stack is built on libraries written by the Typst
      team, even when high-qualitify open source libraries were available and could
      have been used with Rust.</p>\n<p>But, while nih still seems relevant here and
      there, the majority of libraries make sense when viewed through the lens of
      wasm-compilation. My understanding is that it\u2019s not always easy to compile
      C libraries to wasm. And with a complex system like Typst, it is often essential
      to have full control over the underlying libraries. So I think most choices
      are quite reasonable.</p>\n</section>\n<section id=\"what-makes-it-popular\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"what-makes-it-popular\">What
      makes it popular?</h2>\n<p>The Typst announcements on sites like <a href=\"https://news.ycombinator.com/item?id=35250210\">Hacker
      News</a> and <a href=\"https://lobste.rs/s/ko1yjj/typst_new_markup_based_typesetting\">lobste.rs</a>
      ranked \u2116\u20091, and the tool was mentioned in basically every social media
      circle and chat that I happen to be part of. There\u2019s clearly <em>a lot</em>
      of interest in a modernized version of LaTeX. Good ol\u2019 TeX and it\u2019s
      children have been around for a long while, and have essentially held the monopoly
      on PDF production for typographically advanced documents (tools like HTML-to-PDF
      converters like <a href=\"https://weasyprint.org/\">WeasyPrint</a> notwithstanding).</p>\n<p>But
      the need for a nicer PDF generator is probably not the only reason why Typst
      gained so much traction. I believe that a lot of interest from the programmer
      community is fueled by the technological choices: Rust has the aura of a new
      and shiny tool that <a href=\"https://stackoverflow.blog/2023/01/26/comparing-tag-trends-with-our-most-loved-programming-languages/\">everyone
      would like to use</a>, <em>especially</em> the regulars on the aforementioned
      sites, who share an interest in the latest tools. An otherwise equivalent project
      written in a \u201Cboring\u201D language like Python would likely have sparked
      less interest.</p>\n<p>I find it also important to note that Typst comes with
      <em>extensive documentation</em> that makes it easy to dive right in. It is
      far too common in the programming world to release some cool new tool into the
      wild, while treating documentation as an unimportant afterthought. Yes, I\u2019m
      guilty of that, too. Even the best tool can be unusable when its docs are missing
      or sparse. Typst didn\u2019t make this mistake, and I think it paid off.</p>\n</section>\n<section
      id=\"personal-opinions\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"personal-opinions\">Personal
      opinions</h2>\n<p>This wouldn\u2019t be a proper \u201Cold man shakes fist at
      the clouds\u201D tech blog post if it didn\u2019t come with a number of \u201CI
      see room for improvements\u201D comments. Here we go.</p>\n<section id=\"scripting\"
      class=\"level3\">\n<h3 class=\"anchored\" data-anchor-id=\"scripting\">Scripting</h3>\n<p>One
      of my main concerns is the scripting language: It seems well designed, but I\u2019m
      not convinced that it was necessary to create a completely new language. I actually
      believe that something like Lua, which is established<sup>1</sup> but flexlible,
      would have worked well here. But what\u2019s more is that, if we accept that
      it was necessary to have a custom language, I would have preferred one that
      isn\u2019t Turing complete, i.e., one where we can be sure that document rendering
      will terminate. Something like <a href=\"https://dhall-lang.org/\">Dhall</a>.</p>\n<p>As
      it currently stands we can neither reuse pre-existing code, nor do we have a
      guarantee that the document will stop evaluating at some point. It feels like
      a missed opportunity.</p>\n</section>\n<section id=\"notebooks\" class=\"level3\">\n<h3
      class=\"anchored\" data-anchor-id=\"notebooks\">Notebooks</h3>\n<p>Notebooks
      are a great tool to improve reproducibility in science writing. The code for
      analyses is collocated with the descriptive text in a single place. The data
      is closely linked to the final tables and graphics. It is one of the great features
      of <a href=\"https://quarto.org/\">Quarto</a>, <a href=\"https://jupyter.org/\">Jupyter</a>,
      <a href=\"https://orgmode.org/\">Org</a>, <a href=\"https://stenci.la/\">Stencila</a>,
      Mathematica, and so on, which makes them well suited for scientific writing
      in fields like medicine, psychology, and the natural sciences.</p>\n<p>This
      could be an <a href=\"https://github.com/typst/typst/issues/117\">issue</a>
      for Typst, but I believe that it won\u2019t be a problem when Typst is used
      in combination with other tools. John MacFarlane (of <a href=\"https://commonmark.org\">CommonMark</a>
      and <a href=\"https://pandoc.org/\">pandoc</a> fame) has <a href=\"https://github.com/jgm/pandoc/issues/8713\">started
      work</a> on a Typst pandoc writer, which will convert existing Markdown documents
      to Typst, and could enable the use of Typst as PDF generator while still writing
      Markdown and Python code in Quarto.</p>\n</section>\n<section id=\"accessibility-and-metadata\"
      class=\"level3\">\n<h3 class=\"anchored\" data-anchor-id=\"accessibility-and-metadata\">Accessibility
      and metadata</h3>\n<p>It\u2019s good practice to make PDFs accessible, which
      requires adding semantic information to a PDF instead of \u201Cjust\u201D placing
      characters on a page. Accessibility is even a legal requirement for government-issued
      documents in many countries. There are standards like PDF/A-1a and PDF/UA that
      ensure people with disabilities can access the information contained in the
      PDF. This is currently not supperted in Typst. LaTeX is still trying to catch
      up there, too, while <a href=\"https://wiki.contextgarden.net/\">ConTeXt</a>
      and <a href=\"https://speedata.de/\">speedata</a> are doing well, for example.</p>\n</section>\n</section>\n<section
      id=\"predictions\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"predictions\">Predictions</h2>\n<p>I
      believe Typst will succeed, but not as a full-fledged writing tool. The greatest
      value I see is in the <strong>responsive, interactive, and even collaborative
      styling of PDFs</strong>. That feature is truly unique and sets Typst appart
      from all other software out there. The tool obviously has the potential to reach
      the critical mass of contributors to become a sustainable open source project,
      and the tech choices help to attract more developers. Last but not least, the
      app is shiny, works well, and makes people want to use it.</p>\n<p>At the same
      time, I believe that the Typst writing app won\u2019t take hold in scientific
      writing. Most of the current enthusiasm is contained to technical circles, and
      scientists don\u2019t have strong reasons to switch yet. To the contrary, journals
      expect paper submissions to be done in Word or LaTeX, not PDF. This won\u2019t
      change anytime soon. Typst will have to insert itself into the current publishing
      landscape, and that\u2019s not a trivial task.</p>\n<p>For example, <a href=\"https://sciflow.net/\">SciFlow</a>
      and <a href=\"https://overleaf.com/\">Overleaf</a> already exist, cover most
      of the market needs, have a solid headstart, and \u2013 this is the important
      part \u2013 are well aligned with the needs of science publishers. Any new tool
      has to compete with them. Also, let\u2019s not forget all the other tools that
      I mentioned above.</p>\n<p>Regardless, I\u2019m optimistic that Typst can carve
      out its own business niche to occupy. For example, hardly any of my points above
      matter in print publishing. An indie book publisher that allows authors to use
      Typst for layouting would be amazing.</p>\n<p>I hope that the Typst team\u2019s
      hard work will pay off, and I will continue to follow their progress with great
      interest.</p>\n</section>\n<section id=\"acknowledgements\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"acknowledgements\">Acknowledgements</h2>\n<p>Heart-felt
      thanks to <a href=\"https://hachyderm.io/@maegul\">@maegul@hachyderm.io</a>
      for the insightful feedback on an earlier version of this post, and to <a href=\"https://ilonasilverwood.github.io/\">Ilona
      Silverwood</a> for her skillful editing. This post became much better thanks
      to their input.</p>\n</section>\n<section id=\"updates\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"updates\">Updates</h2>\n<p>An earlier version
      listed <a href=\"https://www.authorea.com/\">Authorea</a> as an authoring tool,
      but the platform has shifted focus since I last looked at it, so I\u2019ve removed
      it.</p>\n\n\n</section>\n\n\n<div id=\"quarto-appendix\" class=\"default\"><section
      id=\"footnotes\" class=\"footnotes footnotes-end-of-document\"><h2 class=\"anchored
      quarto-appendix-heading\">Footnotes</h2>\n\n<ol>\n<li id=\"fn1\"><p>I consider
      <a href=\"https://lua.org/\">Lua</a> to be <em>the</em> language of publishing
      tools. It fuels <a href=\"https://pandoc.org/\">pandoc</a>, <a href=\"https://quarto.org/\">Quarto</a>,
      <a href=\"https://wiki.contextgarden.net/\">ConTeXt</a>, <a href=\"http://luatex.org/\">LuaLaTeX</a>,
      <a href=\"https://speedata.de/\">speedata</a>, <a href=\"https://sile-typesetter.org/\">SILE</a>,
      and probably a few more.\u21A9\uFE0E</p></li>\n</ol>\n</section></div> ]]></description>\n
      \ <category>PDF</category>\n  <guid>https://tarleb.com/posts/typst-musings/</guid>\n
      \ <pubDate>Fri, 24 Mar 2023 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Auto-numbered
      list continuations</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/list-continuation/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>Pandoc\u2019s Markdown allows for \u201Cfancy
      lists\u201D, i.e., lists with different styles used for the marker of ordered
      list items.</p>\n<p>E.g., the list</p>\n<div class=\"sourceCode\" id=\"cb1\"
      style=\"background: #f1f3f5;\"><pre class=\"sourceCode markdown code-with-copy\"><code
      class=\"sourceCode markdown\"><span id=\"cb1-1\">(I)  primus</span>\n<span id=\"cb1-2\">(#)
      \ secundus</span>\n<span id=\"cb1-3\">(#)  tertius</span></code></pre></div>\n<p>uses
      uppercase roman numerals and double parentheses for the markers. It gets rendered
      as</p>\n<blockquote class=\"blockquote\">\n<ol type=\"I\">\n<li>primus</li>\n<li>secundus</li>\n<li>tertius</li>\n</ol>\n</blockquote>\n<section
      id=\"continuations\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"continuations\">Continuations</h2>\n<p>The
      fancy lists feature also allows to continue lists after an intermediate paragraph:</p>\n<div
      class=\"sourceCode\" id=\"cb2\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      markdown code-with-copy\"><code class=\"sourceCode markdown\"><span id=\"cb2-1\">i.
      \  one</span>\n<span id=\"cb2-2\">#.   another</span>\n<span id=\"cb2-3\"></span>\n<span
      id=\"cb2-4\">Interruption; not part of any list.</span>\n<span id=\"cb2-5\"></span>\n<span
      id=\"cb2-6\">iii. continue</span>\n<span id=\"cb2-7\">#.   keep counting</span></code></pre></div>\n<p>This
      becomes</p>\n<blockquote class=\"blockquote\">\n<ol type=\"i\">\n<li>one</li>\n<li>another</li>\n</ol>\n<p>Interruption;
      not part of any list.</p>\n<ol start=\"3\" type=\"i\">\n<li>continue</li>\n<li>keep
      counting</li>\n</ol>\n</blockquote>\n<p>While very convenient, this requires
      us to carefully keep book of the number of items in previous parts, or risk
      the item numbering to become inconsistent. Imagine having to find and update
      all other list parts after adding a single item somewhere. Tedious work, that
      gets tiresome quickly.</p>\n</section>\n<section id=\"convention\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"convention\">Convention</h2>\n<p>Wanting
      none of this, we magicked a method that allows us to mark a list as a continuation.
      This way, we can search for those lists with a Lua filter and let pandoc do
      the counting and numbering for us.</p>\n<p>Our convention is this: any list
      that starts with a number of 90 or above is treated as the continuation of a
      previous list. Why 90? Because it\u2019s large, but still easy to express using
      roman numerals, should one be inclined to use those.</p>\n<div class=\"sourceCode\"
      id=\"cb3\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode markdown code-with-copy\"><code
      class=\"sourceCode markdown\"><span id=\"cb3-1\">i.  primus</span>\n<span id=\"cb3-2\">ii.
      secundus</span>\n<span id=\"cb3-3\"></span>\n<span id=\"cb3-4\">Lorem ipsum.</span>\n<span
      id=\"cb3-5\"></span>\n<span id=\"cb3-6\">xc. alius item</span>\n<span id=\"cb3-7\">#.
      \ ut custodians iens</span></code></pre></div>\n</section>\n<section id=\"lua-doing-the-counting\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"lua-doing-the-counting\">Lua
      doing the counting</h2>\n<p>The next step is to let pandoc do the counting with
      the help of a Lua filter. In its simplest form, the filter will step through
      all ordered lists in the document, remember the number of items it has encountered,
      and renumber any list whose start is above our chosen threshold.</p>\n<div class=\"sourceCode\"
      id=\"cb4\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code
      class=\"sourceCode lua\"><span id=\"cb4-1\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span> <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">next_start</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"dv\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">1</span></span>\n<span id=\"cb4-2\"></span>\n<span
      id=\"cb4-3\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">function</span> OrderedList <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">(</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb4-4\">  <span class=\"cf\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">if</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">start</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">&gt;=</span> <span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">90</span>
      <span class=\"cf\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">then</span></span>\n<span id=\"cb4-5\">    <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">ol</span><span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">start</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">next_start</span></span>\n<span id=\"cb4-6\">
      \   <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">next_start</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">next_start</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span> <span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">#</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">ol</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">content</span></span>\n<span
      id=\"cb4-7\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">else</span></span>\n<span id=\"cb4-8\">    <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">next_start</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">#</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span> <span class=\"dv\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span></span>\n<span
      id=\"cb4-9\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">end</span></span>\n<span id=\"cb4-10\">  <span
      class=\"cf\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">return</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">ol</span></span>\n<span id=\"cb4-11\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">end</span></span></code></pre></div>\n<p>Applied
      to the example above, the filter produces the desired result:</p>\n<blockquote
      class=\"blockquote\">\n<ol type=\"i\">\n<li>primus</li>\n<li>secundus</li>\n</ol>\n<p>Lorem
      ipsum.</p>\n<ol start=\"3\" type=\"i\">\n<li>alius item</li>\n<li>ut custodians
      iens</li>\n</ol>\n</blockquote>\n</section>\n<section id=\"refinements\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"refinements\">Refinements</h2>\n<p>This
      is fairly good already. But what happens if there are <em>other</em> lists appearing
      in the intermediate blocks?</p>\n<pre><code>1. First item\n\n- Nested list:\n\n
      \   a. alfa\n    b. bravo\n    c. charlie\n\nWhich list will be continued?\n\n99.
      ???</code></pre>\n<p>With the current state of our filter, the last item will
      be numbered <code>d.</code>, which is most likely not what we want. So let\u2019s
      make the filter sensitive to the list style; only a list with the matching style
      will be continued.</p>\n<p>The style and delimiter of ordered list markers can
      be accessed via the element\u2019s <code>style</code> and <code>delimiter</code>
      property, respectively. We use those values to construct a string key under
      which the start number of the next continuation is stored in table <code>next_starts</code>.</p>\n<div
      class=\"sourceCode\" id=\"cb6\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      lua code-with-copy\"><code class=\"sourceCode lua\"><span id=\"cb6-1\"><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">next_starts</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">{}</span></span>\n<span id=\"cb6-2\"></span>\n<span
      id=\"cb6-3\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">function</span> OrderedList <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">(</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb6-4\">  <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">key</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">style</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">..</span> <span class=\"st\"
      style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'|'</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">..</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">delimiter</span></span>\n<span id=\"cb6-5\">  <span
      class=\"cf\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">if</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">start</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">&gt;=</span> <span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">90</span>
      <span class=\"cf\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">then</span></span>\n<span id=\"cb6-6\">    <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">ol</span><span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">start</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">next_starts</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">key</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">or</span> <span class=\"dv\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">1</span></span>\n<span id=\"cb6-7\">    <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">next_starts</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">key</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">start</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span> <span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">#</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">ol</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">content</span></span>\n<span
      id=\"cb6-8\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">else</span></span>\n<span id=\"cb6-9\">    <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">next_starts</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">key</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">#</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">ol</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span> <span class=\"dv\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span></span>\n<span
      id=\"cb6-10\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">end</span></span>\n<span id=\"cb6-11\"></span>\n<span
      id=\"cb6-12\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">ol</span></span>\n<span
      id=\"cb6-13\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">end</span></span></code></pre></div>\n<p>This
      way we can keep track of multiple lists, distinguishing between lists by using
      the style of their markers. The above now gets output as</p>\n<blockquote class=\"blockquote\">\n<ol
      type=\"1\">\n<li>First item</li>\n</ol>\n<ul>\n<li><p>Nested list:</p>\n<ol
      type=\"a\">\n<li>alfa</li>\n<li>bravo</li>\n<li>charlie</li>\n</ol></li>\n</ul>\n<p>Which
      list will be continued?</p>\n<ol start=\"2\" type=\"1\">\n<li>???</li>\n</ol>\n</blockquote>\n<p>Just
      what we want. Happy list writing!</p>\n\n\n</section>\n\n ]]></description>\n
      \ <category>Markdown</category>\n  <category>pandoc</category>\n  <category>filter</category>\n
      \ <guid>https://tarleb.com/posts/list-continuation/</guid>\n  <pubDate>Mon,
      28 Nov 2022 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Semantic line
      breaks</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/semantic-line-breaks/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>Line breaks usually have no semantic meaning
      within a Markdown paragraph. However, using line breaks to mark the end of a
      sentece can help with productivity for various reasons.<sup>1</sup> Documents
      with one sentence per line are also called \u201Cventilated prose\u201D, and
      the <a href=\"https://writetheasciidocs.netlify.app\">Write the {Ascii}Docs</a>
      website has a <a href=\"https://writetheasciidocs.netlify.app/ventilated-prose\">good
      article on that topic</a>.</p>\n<p>A question came up in a Slack channel, asking
      whether it was possible to convert existing Markdown docs to this style. Naturally,
      the answer is \u201Cpandoc can do that\u201D, but that isn\u2019t obvious here.</p>\n<p>The
      solution that I came up with is centered around pandoc\u2019s <em>SoftBreak</em>
      AST element. Pandoc uses SoftBreak elements internally to mark the place where
      line breaks occured in the input, but only if those breaks should be treated
      like spaces in most situations. The way to make those breaks visible in the
      output is to call pandoc with <code>--wrap=preserve</code> \u2013 only then
      will a line break in the input result in a break in the output in the same location.</p>\n<pre><code>$
      printf 'Hello\\npandoc' | pandoc --to=markdown\n\u21D2 Hello pandoc\n\n$ printf
      'Hello\\npandoc' | pandoc --to=markdown --wrap=preserve\n\u21D2 Hello\n\u21D2
      pandoc</code></pre>\n<p>We are going to use SoftBreak for semantic line breaks,
      so the first step is to get rid of the SoftBreak elements created during parsing.
      A Lua filter can do so with</p>\n<div class=\"sourceCode\" id=\"cb2\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code class=\"sourceCode
      lua\"><span id=\"cb2-1\"><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">SoftBreak</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">()</span> <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>Space<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">()</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">end</span></span></code></pre></div>\n<p>Then we check for strings
      that end with a period and are followed by a space. The space in such a combination
      is then turned into a SoftBreak.</p>\n<div class=\"sourceCode\" id=\"cb3\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code class=\"sourceCode
      lua\"><span id=\"cb3-1\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">local</span> <span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span> semantic_line_feeds
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">(</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">el</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb3-2\">  <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">inlines</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">el</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content</span></span>\n<span id=\"cb3-3\">  <span
      class=\"cf\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">for</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">i</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"dv\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">2</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">,</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">#</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">inlines</span> <span class=\"cf\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">do</span></span>\n<span
      id=\"cb3-4\">    <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">if</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">inlines</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">i</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">].</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">t</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">==</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">'Space'</span> <span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">and</span></span>\n<span
      id=\"cb3-5\">       <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">inlines</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">i</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">-</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">].</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">t</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">==</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">'Str'</span> <span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">and</span></span>\n<span
      id=\"cb3-6\">       <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">inlines</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">i</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">-</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">].</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">text</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">match</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'%.$'</span> <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">then</span></span>\n<span id=\"cb3-7\">      <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">inlines</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">i</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">pandoc</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>SoftBreak<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">()</span></span>\n<span
      id=\"cb3-8\">    <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">end</span></span>\n<span id=\"cb3-9\">  <span
      class=\"cf\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">end</span></span>\n<span
      id=\"cb3-10\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">el</span></span>\n<span
      id=\"cb3-11\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">end</span></span>\n<span id=\"cb3-12\"></span>\n<span
      id=\"cb3-13\"><span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">{</span></span>\n<span
      id=\"cb3-14\">  <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- remove soft breaks inserted during parsing.</span></span>\n<span
      id=\"cb3-15\">  <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">{</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">SoftBreak</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">()</span> <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>Space<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">()</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">end</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">},</span></span>\n<span id=\"cb3-16\">  <span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">--
      insert semantic soft breaks</span></span>\n<span id=\"cb3-17\">  <span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">{</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">Para</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">semantic_line_feeds</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">,</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">Plain</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">semantic_line_feeds</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">},</span></span>\n<span
      id=\"cb3-18\"><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">}</span></span></code></pre></div>\n<p>This filter
      can then be combined with the <code>--wrap=preserve</code> option to get the
      desired semantic line breaks.</p>\n<div class=\"sourceCode\" id=\"cb4\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code class=\"sourceCode
      bash\"><span id=\"cb4-1\"><span class=\"bu\" style=\"color: null;\nbackground-color:
      null;\nfont-style: inherit;\">printf</span> <span class=\"st\" style=\"color:
      #20794D;\nbackground-color: null;\nfont-style: inherit;\">'This. And that.'</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">|</span> <span class=\"ex\" style=\"color: null;\nbackground-color:
      null;\nfont-style: inherit;\">pandoc</span> <span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">-L</span> semlf.lua
      <span class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style:
      inherit;\">--wrap</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span>preserve</span>\n<span id=\"cb4-2\"><span
      class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">\u21D2</span>
      This.</span>\n<span id=\"cb4-3\"><span class=\"ex\" style=\"color: null;\nbackground-color:
      null;\nfont-style: inherit;\">\u21D2</span> And that.</span></code></pre></div>\n<p>There,
      mission accomplished.<sup>2</sup></p>\n\n\n\n\n<div id=\"quarto-appendix\" class=\"default\"><section
      id=\"footnotes\" class=\"footnotes footnotes-end-of-document\"><h2 class=\"anchored
      quarto-appendix-heading\">Footnotes</h2>\n\n<ol>\n<li id=\"fn1\"><p>It\u2019s
      not my cup of tea, but I can see why people might like the concept.\u21A9\uFE0E</p></li>\n<li
      id=\"fn2\"><p>There are some cases in which the filter does not give the correct
      result, for example when using American-style punctuation after quotes, or when
      a full sentence is emphasized. It should be possible to fix the filter for these
      edge cases, but it doesn\u2019t seem worth the effort: the presented solution
      should work fine for 95&nbsp;% of all use cases.\u21A9\uFE0E</p></li>\n</ol>\n</section></div>
      ]]></description>\n  <category>Markdown</category>\n  <category>pandoc</category>\n
      \ <guid>https://tarleb.com/posts/semantic-line-breaks/</guid>\n  <pubDate>Sun,
      30 Oct 2022 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Install pandoc
      in custom Docker images</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n
      \ <link>https://tarleb.com/posts/tip-install-in-docker/</link>\n  <description><![CDATA[
      \n\n\n\n\n<p>When pandoc is used in larger pipelines, e.g.&nbsp;in combination
      with <a href=\"https://sphinx-doc.org\">Sphinx</a>, it can be useful to pack
      everything up into one neat container. One option is to base the container on
      a pandoc image like <code>pandoc/core</code>, but this may be difficult due
      to other dependencies. In this case, the easiest option is to do this:</p>\n<div
      class=\"sourceCode\" id=\"cb1\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      dockerfile code-with-copy\"><code class=\"sourceCode dockerfile\"><span id=\"cb1-1\"><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">COPY</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">--from=pandoc/minimal:2.19.2</span> /pandoc /usr/bin/pandoc</span></code></pre></div>\n<p>The
      snippet, when added to a Dockerfile, copies a statically compiled executable
      from an official build to <code>/usr/bin/pandoc</code>. The static pandoc binary
      can run on all Linux distributions, so it does not matter what distro the custom
      build is based on.</p>\n<p>The documentation for the <a href=\"https://hub.docker.com/r/pandoc/minimal\"
      class=\"uri\">https://hub.docker.com/r/pandoc/minimal</a> has more info, including
      a list of supported versions (tags).</p>\n\n\n\n ]]></description>\n  <category>pandoc</category>\n
      \ <category>tip</category>\n  <category>Docker</category>\n  <guid>https://tarleb.com/posts/tip-install-in-docker/</guid>\n
      \ <pubDate>Wed, 07 Sep 2022 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Haskell
      usedata objects</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/haskell-lua-objects/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>When extending pandoc (or Quarto) with
      Lua filters, we interact with so-called Lua userdata objects. These objects
      are used to wrap document AST elements, making them accessible from Lua scripts.
      They mostly behave like normal Lua tables. This post is intended as a quick
      overview, listing interesting properties of userdata objects.</p>\n<section
      id=\"userdata-objects\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"userdata-objects\">Userdata
      objects</h2>\n<p>Haskell-generated userdata objects have three main components:
      a type <em>name</em>, <em>properties</em>, and <em>methods</em>:</p>\n<section
      id=\"type-name\" class=\"level3\">\n<h3 class=\"anchored\" data-anchor-id=\"type-name\">Type
      name</h3>\n<p>The <em>name</em> can be retrieved with <code>pandoc.utils.type</code>.
      It should be treated as a read-only constant. Internally, the <em>name</em>
      is used as a type tag, which is important when retrieving an object from a Lua
      script back into the main program. It is possible to access the name through
      the debug interface, e.g.,</p>\n<div class=\"sourceCode\" id=\"cb1\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code class=\"sourceCode
      lua\"><span id=\"cb1-1\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">function</span> typename <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">x</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span></span>\n<span
      id=\"cb1-2\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">debug.getmetatable</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">x</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">).</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">__name</span></span>\n<span
      id=\"cb1-3\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">end</span></span></code></pre></div>\n<p>The above <code>typename</code>
      function is actually a bit faster than <code>pandoc.utils.type</code>. It can
      improve performance when accessing this info in a tight loop, but its use is
      not recommended.</p>\n</section>\n<section id=\"properties\" class=\"level3\">\n<h3
      class=\"anchored\" data-anchor-id=\"properties\">Properties</h3>\n<p><em>Properties</em>,
      e.g., the <code>content</code> fields of <em>Para</em> elements, are \u201Clazy\u201D:
      the property value is marshaled to Lua when the property is accessed for the
      first time. We are usually interested in no more than one or two element properties,
      so this is a big performance improvement for most scripts. Lazy properties are
      especially useful with large objects like <em>Pandoc</em>, which would otherwise
      take a long time to marshal and unmarshal with all their child elements.</p>\n<p>However,
      this lazy marshaling is slower if all properties will be accessed anyway. If
      there are performance issues due to lazy properties, then please let me know,
      and I\u2019ll try to find a fix.</p>\n</section>\n<section id=\"methods\" class=\"level3\">\n<h3
      class=\"anchored\" data-anchor-id=\"methods\">Methods</h3>\n<p><em>Methods</em>
      are wrapped Haskell functions: when calling a method, the arguments are unmarshaled
      back into Haskell objects, which are then passed to the wrapped function and
      processed in Haskell. The computation\u2019s result is then pushed back to Lua.</p>\n<p>This
      may sound weirdly complicated. While <em>it is</em> slow for very simple functions
      (like <code>pandoc.utils.type</code>), it\u2019s very fast and convenient for
      complex methods like <code>Pandoc:walk</code>: objects with lazy properties
      are fast to unmarshal, the main Haskell code is fast, and it frees us from having
      to re-implement Haskell algorithms in Lua.</p>\n</section>\n<section id=\"iterating\"
      class=\"level3\">\n<h3 class=\"anchored\" data-anchor-id=\"iterating\">Iterating</h3>\n<p>The
      properties and methods are listed when iterating with <code>pairs</code>. The
      iteration order is defined at compile time, with properties listed first, followed
      by methods. We usually try to keep each of these lists sorted alphabetically,
      but there may be exceptions.</p>\n<p>Calling <code>pairs</code> on a Haskell
      userdata object will always succeed, even if it has neither methods nor properties;
      the result will be the empty iterator in that case.</p>\n</section>\n<section
      id=\"aliases\" class=\"level3\">\n<h3 class=\"anchored\" data-anchor-id=\"aliases\">Aliases</h3>\n<p>Some
      objects also have property aliases: E.g., <code>div.classes</code> is really
      just an alias for <code>div.attr.classes</code>. Both entries point to the same
      list object. Aliases are not included in the iterator generated by <code>pairs</code>.
      See the internals on how to get a hold of them.</p>\n</section>\n<section id=\"list-behavior\"
      class=\"level3\">\n<h3 class=\"anchored\" data-anchor-id=\"list-behavior\">List
      behavior</h3>\n<p>Userdata objects can be made to behave like lists, but iterating
      over those \u201Clists\u201D is comparatively slow. That\u2019s why the only
      object that uses this feature is <code>PANDOC_VERSION</code>: for example, we
      can write <code>PANDOC_VERSION[2] &gt;= 19</code> to check <em>just</em> the
      major version.<sup>1</sup></p>\n</section>\n<section id=\"internals\" class=\"level3\">\n<h3
      class=\"anchored\" data-anchor-id=\"internals\">Internals</h3>\n<p>Each type
      has a metatable, which defines its behavior. Most users should not need to access
      the metatable, so the <code>getmetatable</code> function returns <code>true</code>
      instead of the actual metatable when called on a Haskell userdata object. As
      we\u2019ve seen with type names, It\u2019s still possible to inspect the userdata
      metatable with the help of <code>debug.getmetatable</code>.</p>\n<p>The metatable
      has four interesting fields: <code>methods</code>, <code>aliases</code>, <code>getters</code>,
      and <code>setters</code>. The fields contain just what you\u2019d expect.</p>\n<p>E.g.,
      we can inspect the list of aliases defined for Inline objects with</p>\n<div
      class=\"sourceCode\" id=\"cb2\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      lua code-with-copy\"><code class=\"sourceCode lua\"><span id=\"cb2-1\"><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">InlineMT</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">debug.getmetatable</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>Str
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">''</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb2-2\"><span class=\"cf\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">for</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">name</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">,</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">keys</span> <span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">in</span> <span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">pairs</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">InlineMT</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">aliases</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span>
      <span class=\"cf\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">do</span></span>\n<span id=\"cb2-3\">  <span class=\"co\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">-- print the alias
      name and the alias value</span></span>\n<span id=\"cb2-4\">  <span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">print</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">name</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">,</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'is an alias for'</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">,</span> <span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">table.concat</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">keys</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">,</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'.'</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">))</span></span>\n<span id=\"cb2-5\"><span class=\"cf\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">end</span></span></code></pre></div>\n<p>Do
      not rely on the internal structure, and do not modify the metatable. Here be
      dragons.</p>\n\n\n</section>\n</section>\n\n\n<div id=\"quarto-appendix\" class=\"default\"><section
      id=\"footnotes\" class=\"footnotes footnotes-end-of-document\"><h2 class=\"anchored
      quarto-appendix-heading\">Footnotes</h2>\n\n<ol>\n<li id=\"fn1\"><p>This feature
      exists only to ensure backwards compatibility. It is better to do comparisons
      in like <code>PANDOC_VERSION &gt;= '2.19'</code> instead.\u21A9\uFE0E</p></li>\n</ol>\n</section></div>
      ]]></description>\n  <category>Haskell</category>\n  <category>Lua</category>\n
      \ <category>pandoc</category>\n  <category>Quarto</category>\n  <guid>https://tarleb.com/posts/haskell-lua-objects/</guid>\n
      \ <pubDate>Wed, 07 Sep 2022 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Document
      font</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/tip-document-font/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>Setting the document font this way works
      for ConTeXt, LaTeX, and HTML output. The fonts used in docx or odt output must
      be controlled with the reference document instead.</p>\n<p>The default LaTeX
      engine is pdflatex, which only supports TeX\u2019s own font format and cannot
      use the TrueType or OpenType fonts installed on the system. However, XeLaTeX
      was written with that in mind; switching to that engine allows to specify any
      font available on the system.</p>\n<p>A good source for free fonts is the <a
      href=\"https://fonts.google.com\">Google Fonts</a> repository.</p>\n\n\n\n ]]></description>\n
      \ <category>pandoc</category>\n  <category>tip</category>\n  <category>PDF</category>\n
      \ <category>HTML</category>\n  <guid>https://tarleb.com/posts/tip-document-font/</guid>\n
      \ <pubDate>Wed, 07 Sep 2022 00:00:00 GMT</pubDate>\n  <media:content url=\"https://tarleb.com/images/pandoc-logo.png\"
      medium=\"image\" type=\"image/png\" height=\"144\" width=\"144\"/>\n</item>\n<item>\n
      \ <title>Generating a sitemap with Quarto</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n
      \ <link>https://tarleb.com/posts/quarto-sitemap/</link>\n  <description><![CDATA[
      \n\n\n\n\n<p>Sitemaps are an easy way to list all pages that a search engine
      should crawl and index. Quarto supports the standard, XML based <a href=\"https://www.sitemaps.org/protocol.html\">Sitemap
      Protocol</a>, although that fact is a bit hidden in the docs.</p>\n<p>Quarto
      will automatically produce a sitemap if the website\u2019s URL is given as <code>site-url</code>
      property:</p>\n<div class=\"sourceCode\" id=\"cb1\" style=\"background: #f1f3f5;\"><pre
      class=\"sourceCode yaml code-with-copy\"><code class=\"sourceCode yaml\"><span
      id=\"cb1-1\"><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">website</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span></span>\n<span id=\"cb1-2\"><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">  </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">title</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      tarleb</span></span>\n<span id=\"cb1-3\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">site-url</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'https://tarleb.com'</span></span>\n<span
      id=\"cb1-4\"><span class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style:
      inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">site-path</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'/'</span></span></code></pre></div>\n<p>The
      URL will contain a colon <code>:</code>, which is why the YAML value must be
      put in quotes.</p>\n<p>You\u2019ll find the <code>sitemap.xml</code> file in
      your <code>_site</code> folder after re-rendering your pages with <code>quarto
      render</code>.</p>\n\n\n\n ]]></description>\n  <category>quarto</category>\n
      \ <guid>https://tarleb.com/posts/quarto-sitemap/</guid>\n  <pubDate>Wed, 24
      Aug 2022 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Pandoc resources</title>\n
      \ <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/pandoc-resources/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>These are the resources that I\u2019d
      want to have if I was to learn about <a href=\"https://pandoc.org/\">pandoc
      (the universal document converter)</a> all over again:</p>\n<section id=\"installing\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"installing\">Installing</h2>\n<dl>\n<dt><a
      href=\"https://github.com/jgm/pandoc/releases/latest\">latest release</a></dt>\n<dd>\nThe
      GitHub release page has installers for Windows, macOS, and Linux.\n</dd>\n<dt><a
      href=\"https://hub.docker.com/u/pandoc\">Docker images</a></dt>\n<dd>\n<p>There
      are three types of pandoc Docker images:</p>\n<ul>\n<li><a href=\"https://hub.docker.com/r/pandoc/minimal\">minimal</a>
      \u2013 very small, just the bare pandoc binary;</li>\n<li><a href=\"https://hub.docker.com/r/pandoc/core\">core</a>
      \u2013 includes pandoc-crossref and helpers programs, e.g. those used by pandoc
      for SVG image conversion;</li>\n<li><a href=\"https://hub.docker.com/r/pandoc/latex\">latex</a>
      \u2013 like core, plus TeXLive with all packages required by the default template.</li>\n</ul>\n<p>These
      images can be used as an alternative to a system-wide installation. The image
      repository descriptions also explain how the images can be used.</p>\n</dd>\n</dl>\n</section>\n<section
      id=\"documentation\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"documentation\">Documentation</h2>\n<dl>\n<dt><a
      href=\"https://pandoc.org/MANUAL.html\">manual</a></dt>\n<dd>\n<p>The <a href=\"https://pandoc.org/MANUAL.html\">official
      pandoc manual</a>. When in doubt, this should always be the first resource to
      check. It covers all command line options, defaults files settings, format extensions,
      etc.</p>\n<p>Note that this always documents the latest pandoc version. If something
      isn\u2019t working as documented, you may need to update.</p>\n</dd>\n<dt><a
      href=\"https://pandoc.org/faqs.html\">FAQs</a></dt>\n<dd>\nFrequently Asked
      Questions; click on the questions to see the answer.\n</dd>\n<dt><a href=\"https://github.com/jgm/pandoc/wiki\">Wiki</a></dt>\n<dd>\nPandoc\u2019s
      GitHub wiki; contains many additional resources, links, and tips.\n</dd>\n<dt><a
      href=\"https://pandoc.org/lua-filters\">Lua filters</a></dt>\n<dd>\nHow to modify
      a document programmatically; also documents all constructors and utility functions
      exposed by pandoc.\n</dd>\n<dt><a href=\"https://pandoc.org/custom-readers\">Custom
      reader</a></dt>\n<dd>\nInterface that allows to write parsers for otherwise
      unsupported formats.\n</dd>\n<dt><a href=\"https://pandoc.org/custom-writers\">Custom
      writers</a></dt>\n<dd>\nInterface that allows to use pandoc to convert to a
      custom output format.\n</dd>\n<dt>Format-specific documentation</dt>\n<dd>\n<p>The
      support for some formats is tune-able enough to warrant additional documentation.</p>\n<ul>\n<li><a
      href=\"https://pandoc.org/epub.html\">EPUB</a> \u2013 How to make an ebook</li>\n<li><a
      href=\"https://pandoc.org/org.html\">Org</a> \u2013 Emacs Org-mode</li>\n<li><a
      href=\"https://pandoc.org/jats.html\">JATS</a> \u2013 The Journal Article Tag
      Set</li>\n</ul>\n</dd>\n</dl>\n</section>\n<section id=\"getting-help\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"getting-help\">Getting help</h2>\n<p>Please
      make sure to search the web before posting.</p>\n<dl>\n<dt><a href=\"https://groups.google.com/g/pandoc-discuss\">pandoc-discuss</a></dt>\n<dd>\n<p>Official
      pandoc mailing list; usually the best way to get help. The main developers and
      many seasoned users lurk here and answer questions.</p>\n<p>The web interface
      makes it seem like a Google account is required to post, but this isn\u2019t
      so: Write a mail to <span class=\"obfuscated-mail-address\" data-domain=\"googlegroups.com\"
      data-user=\"pandoc-discuss+subscribe\"><em>obfuscated mail address</em></span>
      to subscribe to the list with any mail address.</p>\n</dd>\n<dt><a href=\"https://stackoverflow.com/tags/pandoc/\">StackOverflow</a></dt>\n<dd>\nPost
      here to reach a more programming oriented group of people. Please <em>do not</em>
      cross-post, many people that follow the <a href=\"https://stackoverflow.com/tags/pandoc/\">pandoc
      tag</a> have also subscribed to the mailing list.\n</dd>\n<dt><a href=\"https://tex.stackexchange.com/\">TeX/LaTeX
      Stack Exchange</a></dt>\n<dd>\nThis is a good place to ask for help when pandoc
      is used to generate PDFs via LaTeX. Be sure to include the (relevant parts)
      of the generated LaTeX output in your question, as most people there do not
      use pandoc. Some even seem to actively dislike it, so be prepared.\n</dd>\n</dl>\n</section>\n<section
      id=\"misc\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"misc\">Misc</h2>\n<dl>\n<dt><a
      href=\"https://fosstodon.org/@pandoc\">pandoc in the fediverse</a></dt>\n<dd>\nI
      use this Mastodon account to post small tips and updates.\n</dd>\n<dt><a href=\"https://quarto.org\">Quarto</a></dt>\n<dd>\nScientific
      and technical publishing system based on pandoc.\n</dd>\n<dt><a href=\"https://zettlr.com\">Zettlr</a></dt>\n<dd>\nMarkdown
      editor with \u201Czettelkasten\u201D functionality.\n</dd>\n</dl>\n</section>\n<section
      id=\"edits\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"edits\">Edits</h2>\n<ul>\n<li><em>2022-12-09</em>:
      Added Mastodon account in favor of Twitter; the account on the latter platform
      is no longer updated.</li>\n</ul>\n\n\n</section>\n\n ]]></description>\n  <category>pandoc</category>\n
      \ <guid>https://tarleb.com/posts/pandoc-resources/</guid>\n  <pubDate>Tue, 23
      Aug 2022 00:00:00 GMT</pubDate>\n  <media:content url=\"https://tarleb.com/posts/pandoc-resources/pandoc.png\"
      medium=\"image\" type=\"image/png\" height=\"144\" width=\"144\"/>\n</item>\n<item>\n
      \ <title>Quarto Website with GitHub Actions</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n
      \ <link>https://tarleb.com/posts/quarto-with-gh-pages/</link>\n  <description><![CDATA[
      \n\n\n\n\n<p><a href=\"https://quarto.org\">Quarto</a> makes it very easy to
      publish a website via GitHub Pages: It is as simple as running <code>quarto
      publish gh-pages</code>. Here we explore a slightly different method that uses
      a GitHub Action to publish the website automatically every time it is updated.</p>\n<section
      id=\"classic-github-pages\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"classic-github-pages\">Classic
      GitHub Pages</h2>\n<p>The classic way to publish a website via GitHub pages
      is to maintain a separate branch <code>gh-pages</code>. The branch is used to
      store the rendered HTML pages, and GitHub will publish the branch\u2019s contents
      as website everytime that branch is updated.</p>\n<p>Quarto uses this mechanism
      when called with</p>\n<div class=\"sourceCode\" id=\"cb1\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code class=\"sourceCode
      bash\"><span id=\"cb1-1\"><span class=\"ex\" style=\"color: null;\nbackground-color:
      null;\nfont-style: inherit;\">quarto</span> publish gh-pages</span></code></pre></div>\n<p>We
      can combine this with GitHub Actions easily, ensuring that the site is updated
      every time new content is pushed to the main branch.</p>\n<div class=\"sourceCode\"
      id=\"cb2\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode yaml code-with-copy\"><code
      class=\"sourceCode yaml\"><span id=\"cb2-1\"><span class=\"co\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># file: .github/workflows/publish.yml</span></span>\n<span
      id=\"cb2-2\"><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Publish Website</span></span>\n<span id=\"cb2-3\"></span>\n<span
      id=\"cb2-4\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\"># Allow one concurrent deployment</span></span>\n<span id=\"cb2-5\"><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">concurrency</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb2-6\"><span class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style:
      inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">group</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"pages\"</span></span>\n<span
      id=\"cb2-7\"><span class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style:
      inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">cancel-in-progress</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"ch\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">true</span></span>\n<span
      id=\"cb2-8\"></span>\n<span id=\"cb2-9\"><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">on</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span></span>\n<span id=\"cb2-10\"><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">  </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">push</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb2-11\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">    </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">branches</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'main'</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">]</span></span>\n<span
      id=\"cb2-12\"></span>\n<span id=\"cb2-13\"><span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">jobs</span><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb2-14\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">quarto-publish</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb2-15\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">    </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Publish with Quarto</span></span>\n<span id=\"cb2-16\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \   </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">runs-on</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> ubuntu-latest</span></span>\n<span id=\"cb2-17\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \   </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">steps</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span></span>\n<span id=\"cb2-18\"><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">      </span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">-</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Checkout repository</span></span>\n<span id=\"cb2-19\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">uses</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> actions/checkout@v3</span></span>\n<span id=\"cb2-20\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \     </span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">-</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Install Quarto</span></span>\n<span id=\"cb2-21\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">uses</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> quarto-dev/quarto-actions/setup@v2</span></span>\n<span
      id=\"cb2-22\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">      </span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">-</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">name</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      Publish to GitHub Pages</span></span>\n<span id=\"cb2-23\"><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">        </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">uses</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      quarto-dev/quarto-actions/publish@v2</span></span>\n<span id=\"cb2-24\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">with</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span></span>\n<span id=\"cb2-25\"><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">          </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">target</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      gh-pages</span></span></code></pre></div>\n<p>The <code>quart-dev/quart-actions/publish</code>
      action calls <code>quarto publish</code> internally. This is short, to the point,
      and won\u2019t interfere with local calls to <code>quarto publish gh-pages</code>.</p>\n</section>\n<section
      id=\"actions-only-pages-beta\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"actions-only-pages-beta\">Actions-only
      Pages (Beta)</h2>\n<p>GitHub recently added support for GitHub Pages that do
      not require an extra <code>gh-pages</code> branch. Instead, the website is compiled
      and pushed directly from an action.</p>\n<p>This takes slightly more code to
      set up, as the action must be granted the necessary permissions. However, it
      is still fairly short and quick to do.</p>\n<div class=\"sourceCode\" id=\"cb3\"
      style=\"background: #f1f3f5;\"><pre class=\"sourceCode yaml code-with-copy\"><code
      class=\"sourceCode yaml\"><span id=\"cb3-1\"><span class=\"co\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># file: .github/workflows/publish.yml</span></span>\n<span
      id=\"cb3-2\"><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Publish Website</span></span>\n<span id=\"cb3-3\"></span>\n<span
      id=\"cb3-4\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\"># Allow one concurrent deployment</span></span>\n<span id=\"cb3-5\"><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">concurrency</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb3-6\"><span class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style:
      inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">group</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"pages\"</span></span>\n<span
      id=\"cb3-7\"><span class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style:
      inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">cancel-in-progress</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"ch\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">true</span></span>\n<span
      id=\"cb3-8\"></span>\n<span id=\"cb3-9\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># Sets permissions of the GITHUB_TOKEN to allow
      deployment to GitHub Pages</span></span>\n<span id=\"cb3-10\"><span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">permissions</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb3-11\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">contents</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> read</span></span>\n<span
      id=\"cb3-12\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">pages</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> write</span></span>\n<span
      id=\"cb3-13\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">id-token</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> write</span></span>\n<span
      id=\"cb3-14\"></span>\n<span id=\"cb3-15\"><span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">on</span><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb3-16\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">push</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span></span>\n<span id=\"cb3-17\"><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">    </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">branches</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      </span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">[</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">'main'</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">]</span></span>\n<span
      id=\"cb3-18\"></span>\n<span id=\"cb3-19\"><span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">jobs</span><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb3-20\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">  </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">quarto</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb3-21\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">    </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">runs-on</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> ubuntu-latest</span></span>\n<span
      id=\"cb3-22\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">    </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">environment</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb3-23\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">      </span><span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">name</span><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      github-pages</span></span>\n<span id=\"cb3-24\"><span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">      </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">url</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      ${{ steps.deployment.outputs.page_url }}</span></span>\n<span id=\"cb3-25\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \   </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">steps</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span></span>\n<span id=\"cb3-26\"><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">      </span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">-</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Checkout repository</span></span>\n<span id=\"cb3-27\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">uses</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> actions/checkout@v3</span></span>\n<span id=\"cb3-28\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \     </span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">-</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Install Quarto</span></span>\n<span id=\"cb3-29\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">uses</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> quarto-dev/quarto-actions/setup@v2</span></span>\n<span
      id=\"cb3-30\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">      </span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">-</span><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\"> </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">name</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      Setup Pages</span></span>\n<span id=\"cb3-31\"><span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">        </span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">uses</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      actions/configure-pages@v1</span></span>\n<span id=\"cb3-32\"><span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">      </span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">-</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Render Website</span></span>\n<span id=\"cb3-33\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">run</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> quarto render</span></span>\n<span id=\"cb3-34\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \     </span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">-</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Upload artifact</span></span>\n<span id=\"cb3-35\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">uses</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> actions/upload-pages-artifact@v1</span></span>\n<span
      id=\"cb3-36\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">        </span><span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">with</span><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span></span>\n<span
      id=\"cb3-37\"><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">          </span><span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">path</span><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      </span><span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'_site'</span></span>\n<span id=\"cb3-38\"><span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">      </span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">-</span><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">name</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> Deploy to GitHub Pages</span></span>\n<span id=\"cb3-39\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">id</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> deployment</span></span>\n<span id=\"cb3-40\"><span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">
      \       </span><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">uses</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">:</span><span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\"> actions/deploy-pages@main</span></span></code></pre></div>\n<p>Now
      we must change the setting to use the new publishing workflow:</p>\n<p>Under
      <em>Settings</em> \u2192 <em>Pages</em> \u2192 <em>Build and deployment</em>
      the source must be switched to \u201CGitHub Action\u201D:</p>\n<div class=\"quarto-figure
      quarto-figure-center\">\n<figure class=\"figure\">\n<p><img src=\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\"
      class=\"img-fluid figure-img\"></p>\n<figcaption>Required setting to enable
      the new method</figcaption>\n</figure>\n</div>\n<p>The <code>gh-pages</code>
      branch is no longer needed and can be deleted.</p>\n</section>\n<section id=\"trade-offs\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"trade-offs\">Trade-offs</h2>\n<p>The
      branch-based method for GitHub pages always felt slightly inelegant. I prefer
      the new method, as it does not require an extra branch and feels much cleaner.
      We lose the ability to update the website via <code>quarto publish</code>, but
      as I usually rely on GitHub Actions to perform the updates, it doesn\u2019t
      affect me much: <code>git push</code> has the same effect. However, it seems
      important to be aware of this trade-off.</p>\n\n\n</section>\n\n ]]></description>\n
      \ <category>quarto</category>\n  <guid>https://tarleb.com/posts/quarto-with-gh-pages/</guid>\n
      \ <pubDate>Mon, 08 Aug 2022 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Santa\u2019s
      Little Lua Scripts</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/santas-little-lua-scripts/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>Santa sighted deeply as worry and uncertainty
      gave way, leaving a feeling of relieve and accomplishment. The year was one
      of the worst he\u2019d seen so far. Large numbers of his helpers were moving
      from the North Pole to Antarctica to satisfy their ambient temperature preferences.
      There would be many telecommuting Elves this year, and each helper enjoyed additional
      autonomy. Tying everything together was a challenge. But he had succeeded: the
      wishes processing program was finished, and the elves would be able to help
      Santa from the comfort of their new homes.</p>\n<section id=\"wishes\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"wishes\">Wishes</h2>\n<p>The part of the
      wishes system that Santa had been working on was focused on classic toys: wooden
      bricks, dolls, and train sets.</p>\n<div class=\"sourceCode\" id=\"cb1\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode haskell code-with-copy\"><code class=\"sourceCode
      haskell\"><span id=\"cb1-1\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">data</span> <span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Toy</span> <span class=\"ot\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">=</span>
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Bricks</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">|</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">TrainSet</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">|</span> <span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Doll</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">deriving</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Show</span></span></code></pre></div>\n<p>The
      system also kept track of basic data about the children:</p>\n<div class=\"sourceCode\"
      id=\"cb2\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode haskell code-with-copy\"><code
      class=\"sourceCode haskell\"><span id=\"cb2-1\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">data</span> <span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Behavior</span>
      <span class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Nice</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">|</span> <span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Naughty</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">deriving</span> (<span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Eq</span>, <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Show</span>)</span>\n<span id=\"cb2-2\"></span>\n<span
      id=\"cb2-3\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">data</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Child</span> <span class=\"ot\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Child</span></span>\n<span
      id=\"cb2-4\">  {<span class=\"ot\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\"> childName     ::</span> <span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Text</span></span>\n<span
      id=\"cb2-5\">  ,<span class=\"ot\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\"> childBehavior ::</span> <span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Behavior</span></span>\n<span
      id=\"cb2-6\">  } <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">deriving</span> (<span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Show</span>)</span></code></pre></div>\n<p>Children
      and toys were tied together in a wish.</p>\n<div class=\"sourceCode\" id=\"cb3\"
      style=\"background: #f1f3f5;\"><pre class=\"sourceCode haskell code-with-copy\"><code
      class=\"sourceCode haskell\"><span id=\"cb3-1\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">data</span> <span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Wish</span>
      <span class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Wish</span></span>\n<span id=\"cb3-2\">  {<span
      class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">
      wishingChild ::</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Child</span></span>\n<span id=\"cb3-3\">  ,<span
      class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">
      wishedToy    ::</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Toy</span></span>\n<span id=\"cb3-4\">  } <span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">deriving</span>
      (<span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Show</span>)</span></code></pre></div>\n<p>It was most elegant. The
      problem for Santa was that the Elves, being independent and autonomous workers,
      needed to access and process the data in very custom ways. Unfortunately for
      him, very few Elves had a Haskell build environment installed, so he had to
      distribute the binary. Writing a completely custom processing language seemed
      like an enormous rabbit hole.</p>\n</section>\n<section id=\"lua\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"lua\">Lua</h2>\n<p>Fortunately, Santa had
      a better idea: <a href=\"https://lua.org/\">Lua</a>, an embeddable scripting
      language. He had been using it for some projects<sup>1</sup> and also made use
      of it in <a href=\"https://pandoc.org/lua-filters.html\">pandoc</a>, which he
      used to answer his mails. Santa would just need to expose the relevant parts
      of the Haskell system, so the Elves could access and script it as their hearts
      desired. He looked for a library, found <a href=\"https://github.com/hslua/hslua\">HsLua</a>,
      and got to work.</p>\n</section>\n<section id=\"exposing-data\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"exposing-data\">Exposing data</h2>\n<p>Lua
      has a simple, yet powerful, stack-based <a href=\"https://www.lua.org/manual/5.4/manual.html#4\">API</a>.
      The first step towards exposing Haskell data was to push them to the Lua stack.
      Keeping things simple, Santa chose strings to represent toys:</p>\n<div class=\"sourceCode\"
      id=\"cb4\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode haskell code-with-copy\"><code
      class=\"sourceCode haskell\"><span id=\"cb4-1\"><span class=\"ot\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">pushToy ::</span>
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Toy</span> <span class=\"ot\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">-&gt;</span> <span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Lua</span> ()</span>\n<span
      id=\"cb4-2\">pushToy <span class=\"ot\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> pushString <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span> <span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">show</span></span></code></pre></div>\n<p>Lua
      offers only a single construct to structure data: tables. So that\u2019s what
      Child and Wish were represented with.</p>\n<div class=\"sourceCode\" id=\"cb5\"
      style=\"background: #f1f3f5;\"><pre class=\"sourceCode haskell code-with-copy\"><code
      class=\"sourceCode haskell\"><span id=\"cb5-1\"><span class=\"ot\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">pushChild ::</span>
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Child</span> <span class=\"ot\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">-&gt;</span> <span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Lua</span> ()</span>\n<span
      id=\"cb5-2\">pushChild (<span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Child</span> name behavior) <span class=\"ot\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">=</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">do</span></span>\n<span id=\"cb5-3\">  <span class=\"co\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">-- create new Lua
      table on the stack</span></span>\n<span id=\"cb5-4\">  newtable</span>\n<span
      id=\"cb5-5\">  <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- push string to stack</span></span>\n<span id=\"cb5-6\">
      \ pushText name</span>\n<span id=\"cb5-7\">  <span class=\"co\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">-- table now in position
      2; assign string to field in table</span></span>\n<span id=\"cb5-8\">  setfield
      (nth <span class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">2</span>) <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"name\"</span></span>\n<span id=\"cb5-9\"></span>\n<span
      id=\"cb5-10\">  <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- push boolean to stack</span></span>\n<span
      id=\"cb5-11\">  pushBool (behavior <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">==</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Nice</span>)</span>\n<span id=\"cb5-12\">  setfield
      (nth <span class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">2</span>) <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"nice\"</span></span>\n<span id=\"cb5-13\"></span>\n<span
      id=\"cb5-14\"><span class=\"ot\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">pushWish ::</span> <span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Wish</span> <span
      class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">-&gt;</span>
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Lua</span> ()</span>\n<span id=\"cb5-15\">pushWish (<span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Wish</span>
      child toy) <span class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">do</span></span>\n<span id=\"cb5-16\">  newtable</span>\n<span
      id=\"cb5-17\">  pushChild child</span>\n<span id=\"cb5-18\">  setfield (nth
      <span class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">2</span>) <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"child\"</span></span>\n<span id=\"cb5-19\">
      \ pushToy toy</span>\n<span id=\"cb5-20\">  setfield (nth <span class=\"dv\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">2</span>)
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">\"toy\"</span></span></code></pre></div>\n</section>\n<section id=\"running-scripts\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"running-scripts\">Running
      scripts</h2>\n<p>Santa\u2019s goal for now was to allow his Elves to filter
      the list of wishes so each finds the ones relevant to them. For example, if
      an Elf only cares about wishes for train sets from children who were nice, then
      they should be able to use a script to filter those wishes out.</p>\n<div class=\"sourceCode\"
      id=\"cb6\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code
      class=\"sourceCode lua\"><span id=\"cb6-1\"><span class=\"cf\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">return</span> <span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">(</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">wish</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb6-2\">  <span class=\"cf\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">return</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">wish</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">child</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">nice</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">and</span></span>\n<span id=\"cb6-3\">    <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">wish</span><span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">toy</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">==</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">'TrainSet'</span></span>\n<span id=\"cb6-4\"><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">end</span></span></code></pre></div>\n<p>The
      script returns a (lambda) function that serves as a predicate for wishes. The
      function can be thought of having the type <code>Wish -&gt; IO Bool</code>.
      Santa needed to turn the Lua lambda function into an actual Haskell function
      <code>runPredicate :: Wish -&gt; Lua Bool</code>. If Santa assumed that the
      lambda function was at the top of the Lua stack, then he could push a <code>Wish</code>
      value to the Lua stack, call the function, and retrieve the result value from
      the stack.</p>\n<div class=\"sourceCode\" id=\"cb7\" style=\"background: #f1f3f5;\"><pre
      class=\"sourceCode haskell code-with-copy\"><code class=\"sourceCode haskell\"><span
      id=\"cb7-1\"><span class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">runPredicate ::</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Wish</span> <span class=\"ot\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">-&gt;</span> <span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Lua</span>
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Bool</span></span>\n<span id=\"cb7-2\">runPredicate wish <span class=\"ot\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">=</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">do</span></span>\n<span id=\"cb7-3\">  <span class=\"co\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">-- Assume filter function
      is at the top of the stack;</span></span>\n<span id=\"cb7-4\">  <span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">--
      create a copy so we can re-use it.</span></span>\n<span id=\"cb7-5\">  pushvalue
      top</span>\n<span id=\"cb7-6\">  pushWish wish</span>\n<span id=\"cb7-7\">  <span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">--
      Call the function. There is one argument on the stack,</span></span>\n<span
      id=\"cb7-8\">  <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- and we expect one result to be returned.</span></span>\n<span
      id=\"cb7-9\">  call (<span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">NumArgs</span> <span class=\"dv\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span>) (<span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">NumResults</span>
      <span class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">1</span>)</span>\n<span id=\"cb7-10\">  toboolean top <span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">&lt;*</span>
      pop <span class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">1</span></span></code></pre></div>\n<p>What remained was loading
      the Elves\u2019 script files. Santa did this with <a href=\"https://hackage.haskell.org/package/hslua/docs/Foreign-Lua-Core.html#v:dofile\"><code>dofile</code></a>
      of type <code>FilePath -&gt; Lua Status</code>. The predicate then ends up on
      the top of the Lua stack, and can be called through <code>runPredicate</code>,
      e.g.&nbsp;to select a subset of wishes via <a href=\"https://hackage.haskell.org/package/base/docs/Control-Monad.html#v:filterM\"><code>filterM</code></a>.</p>\n<div
      class=\"sourceCode\" id=\"cb8\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      haskell code-with-copy\"><code class=\"sourceCode haskell\"><span id=\"cb8-1\"><span
      class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">main
      ::</span> <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">IO</span> ()</span>\n<span id=\"cb8-2\">main <span class=\"ot\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">do</span></span>\n<span
      id=\"cb8-3\">  filterFile <span class=\"ot\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">&lt;-</span> <span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">fmap</span> (<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">!!</span>
      <span class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">0</span>) getArgs <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- get first argument</span></span>\n<span id=\"cb8-4\">
      \ result <span class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">&lt;-</span> run <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">$</span> <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">do</span></span>\n<span id=\"cb8-5\">    _status
      <span class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">&lt;-</span> dofile filterFile</span>\n<span id=\"cb8-6\">    filterM
      runPredicate wishes</span>\n<span id=\"cb8-7\">  <span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">print</span> result</span></code></pre></div>\n<p>Santa
      tested his creation on a short list of wishes</p>\n<div class=\"sourceCode\"
      id=\"cb9\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode haskell code-with-copy\"><code
      class=\"sourceCode haskell\"><span id=\"cb9-1\"><span class=\"ot\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">wishes ::</span> [<span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Wish</span>]</span>\n<span
      id=\"cb9-2\">wishes <span class=\"ot\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">=</span></span>\n<span id=\"cb9-3\">  [ <span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Wish</span>
      (<span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Child</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"Theodor\"</span> <span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Nice</span>) <span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Bricks</span></span>\n<span
      id=\"cb9-4\">  , <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Wish</span> (<span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Child</span> <span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"Philine\"</span>
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Nice</span>) <span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">TrainSet</span></span>\n<span id=\"cb9-5\">  ,
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Wish</span> (<span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">Child</span> <span class=\"st\" style=\"color:
      #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"Steve\"</span> <span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">Naughty</span>)
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">Doll</span></span>\n<span id=\"cb9-6\">  ]</span></code></pre></div>\n<p>by
      running <code>runhaskell wish-filter predicate.lua</code>. To his uttermost
      satisfaction, the terminal echoed the right information back to him.</p>\n<pre><code>[Wish
      {wishingChild = Child {childName = \"Philine\", childBehavior = Nice}, wishedToy
      = TrainSet}]</code></pre>\n<p>He reclined in his chair, shut down his device,
      and enjoyed a double chocolate chip cookie of which he felt very deserving now.</p>\n<hr>\n<p>Santa\u2019s
      full code, as presented here, is available as part of the examples at <a href=\"https://github.com/hslua/hslua\"
      class=\"uri\">https://github.com/hslua/hslua</a>.</p>\n\n\n</section>\n\n\n<div
      id=\"quarto-appendix\" class=\"default\"><section id=\"footnotes\" class=\"footnotes
      footnotes-end-of-document\"><h2 class=\"anchored quarto-appendix-heading\">Footnotes</h2>\n\n<ol>\n<li
      id=\"fn1\"><p>Santa learned about Lua from his game-devs. Now he uses it to
      keep his security teams on their toes with <a href=\"https://nmap.org\">nmap</a>
      and <a href=\"https://wireshark.org/\">Wireshark</a>; many of the North Pole\u2019s
      servers contain custom Lua scripts, too (<a href=\"https://redis.io/commands/eval\">redis</a>,
      <a href=\"https://github.com/openresty\">nginx/OpenResty</a>, <a href=\"https://www.haproxy.com/blog/5-ways-to-extend-haproxy-with-lua/\">HAProxy</a>,
      <a href=\"https://doc.powerdns.com/authoritative/lua-records/index.html\">PowerDNS</a>).\u21A9\uFE0E</p></li>\n</ol>\n</section></div>
      ]]></description>\n  <category>lua</category>\n  <category>hslua</category>\n
      \ <category>example</category>\n  <guid>https://tarleb.com/posts/santas-little-lua-scripts/</guid>\n
      \ <pubDate>Sun, 06 Dec 2020 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>PDF
      Version of the Lua Manual</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n
      \ <link>https://tarleb.com/posts/pdf-of-the-lua-manual/</link>\n  <description><![CDATA[
      \n\n\n\n\n<p>A question came up on the Lua mailing list, asking whether there
      was a PDF version of the <a href=\"https://lua.org/manual/5.4/manual.html\">Lua
      manual</a>. This is, of course, the home domain of pandoc, and I got nerd-sniped
      into producing a PDF (and ePUB) version of the manual.</p>\n<p>This is a good
      opportunity to showcase some pandoc features. The post describes the process
      of going from an HTML web page to a PDF file via LaTeX and pandoc. We will see
      how to</p>\n<ol type=\"1\">\n<li>quickly convert documents with pandoc;</li>\n<li>use
      Lua filters to improve the result by modifying the document; and</li>\n<li>fine-tune
      the output by setting appropriate pandoc options.</li>\n</ol>\n<section id=\"invoking-pandoc\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"invoking-pandoc\">Invoking
      pandoc</h2>\n<p>The first step is to call pandoc on the Lua manual website.
      Even when keeping everything bare-bones, the result is already decent:</p>\n<pre><code>pandoc
      --pdf-engine=xelatex --output=lua-manual.pdf \\\n    \"https://lua.org/manual/5.4/manual.html\"</code></pre>\n<p>Produces</p>\n<div
      class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><img
      src=\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\"
      class=\"img-fluid figure-img\"></p>\n<figcaption>First page of unoptimized PDF</figcaption>\n</figure>\n</div>\n<p>This
      requires a somewhat recent version of pandoc as well as XeLaTeX to be installed.
      It is possible to forgo the trouble of installing the requirements by using
      the <em>pandoc/latex</em> Docker image:</p>\n<pre><code>docker run --rm -v \"$PWD\":/data
      -u $(id -u):$(id -g) pandoc/latex:2.9.2.1 \\\n    --pdf-engine=xelatex --output=lua-manual.pdf
      \\\n    \"https://lua.org/manual/5.4/manual.html\"</code></pre>\n</section>\n<section
      id=\"replacing-characters\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"replacing-characters\">Replacing
      characters</h2>\n<p>The above commands will produce warnings about characters
      which are unavailable in the default fonts. We don\u2019t want characters to
      go missing, of course, so let\u2019s fix that first. The warnings are:</p>\n<pre><code>[WARNING]
      Missing character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\n[WARNING]
      Missing character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\n[WARNING]
      Missing character: There is no \u03C0 (U+03C0) in font [lmroman10-italic]:mapping=tex-text;!</code></pre>\n<p>Searching
      the page for <code>\u2264</code> shows that it is used in inline code, while
      <code>\u03C0</code> occurs as emphasized character in the description of <code>math.pi</code>.
      We could, of course, search for a font which has the appropriate glyphs and
      instruct pandoc/LaTeX to use it. But we\u2019ll go a different route.</p>\n<p>A
      good way to improve the result of a converstion is to use a pandoc <a href=\"https://pandoc.org/lua-filters.html\">Lua
      filter</a>. We create a file called <code>beautify-manual.lua</code> and pass
      it to pandoc via the <code>--lua-filter=beautify-manual.lua</code> command line
      option.</p>\n<p>Handling <code>\u2264</code> is straight forward, we just replace
      the char with the slightly uglier looking ASCII sequence <code>&lt;=</code>
      in all code elements.</p>\n<div class=\"sourceCode\" id=\"cb4\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code class=\"sourceCode
      lua\"><span id=\"cb4-1\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">function</span> Code <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">c</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span></span>\n<span
      id=\"cb4-2\">  <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">c</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">text</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">c</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">text</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">gsub</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'\u2264'</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">,</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'&lt;='</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb4-3\">  <span class=\"cf\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">return</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">c</span></span>\n<span id=\"cb4-4\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">end</span></span></code></pre></div>\n<p>While
      there is no italics version <code>\u03C0</code> in the default font, there <em>is</em>
      such a glyph in the default math font. Pandoc\u2019s internal representation
      for <em>\u03C0</em> is <code>Emph [Str \"\u03C0\"]</code>, which we replace
      with a math element holding the same content.</p>\n<div class=\"sourceCode\"
      id=\"cb5\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code
      class=\"sourceCode lua\"><span id=\"cb5-1\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span> Emph
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">(</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">e</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb5-2\">  <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">s</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">e</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span class=\"dv\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span></span>\n<span
      id=\"cb5-3\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">if</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">#</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">e</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">==</span> <span class=\"dv\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">and</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">s</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">tag</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">==</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">'Str'</span> <span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">and</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">s</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">text</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">==</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">'\u03C0'</span> <span class=\"cf\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">then</span></span>\n<span
      id=\"cb5-4\">    <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>Math<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'InlineMath'</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">,</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'\u03C0'</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb5-5\">  <span class=\"cf\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">end</span></span>\n<span
      id=\"cb5-6\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">end</span></span></code></pre></div>\n<p>The document now compiles
      without warnings, and all characters are properly included.</p>\n</section>\n<section
      id=\"add-table-of-contents\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"add-table-of-contents\">Add
      Table of Contents</h2>\n<p>The Lua manual is long, often used as a reference,
      and, in its HTML version, comes with a table of contents on a separate page.
      The PDF, for it to be useful as a reference, should have a table of contents
      as well. Pandoc can be told to generate a table of contents by adding the <code>--toc</code>
      command line flag. The toc depth is controlled via <code>--toc-depth</code>;
      <code>2</code> is a good setting here. However, in this case, the result is
      neither pleasing nor informative:</p>\n<div class=\"quarto-figure quarto-figure-center\">\n<figure
      class=\"figure\">\n<p><img src=\"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\"
      class=\"img-fluid figure-img\"></p>\n<figcaption>Bad looking table of contents</figcaption>\n</figure>\n</div>\n<p>Something
      is terribly wrong. By inspecting the parsed document by running <code>pandoc
      --to=native \u2026</code>, we see that all <em>Header</em>s contain a <em>Span</em>.
      That span holds the actual contents. Apparently LaTeX does not like this and
      omits the content of the span when generating the toc.</p>\n<p>The span also
      has the id used by links to the header. Numbered sections start with the section
      number, which we\u2019d rather produce via pandoc.</p>\n<div class=\"sourceCode\"
      id=\"cb6\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code
      class=\"sourceCode lua\"><span id=\"cb6-1\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span> Header
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">(</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">h</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb6-2\">  <span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">--
      Unnumbered sections have the main contents as the first element.</span></span>\n<span
      id=\"cb6-3\">  <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- Numbered sections start with the number and
      an em-dash, so</span></span>\n<span id=\"cb6-4\">  <span class=\"co\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">-- the Span is the
      fifth element (Lua multipass).</span></span>\n<span id=\"cb6-5\">  <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">span</span></span>\n<span id=\"cb6-6\">  <span class=\"cf\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">if</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">h</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">content</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">].</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">tag</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">==</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">'Str'</span> <span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">and</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">h</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">content</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">].</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">text</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">match</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'[%d%.]+'</span> <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">then</span></span>\n<span id=\"cb6-7\">    <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">span</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">h</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span class=\"dv\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">5</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span></span>\n<span
      id=\"cb6-8\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">else</span></span>\n<span id=\"cb6-9\">    <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">span</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">h</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span class=\"dv\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span></span>\n<span
      id=\"cb6-10\">    <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">h</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">classes</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">insert</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'unnumbered'</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span></span>\n<span
      id=\"cb6-11\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">end</span></span>\n<span id=\"cb6-12\"></span>\n<span
      id=\"cb6-13\">  <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">h</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">identifier</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">span</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">identifier</span></span>\n<span
      id=\"cb6-14\">  <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">h</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">span</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">content</span></span>\n<span
      id=\"cb6-15\"></span>\n<span id=\"cb6-16\">  <span class=\"cf\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">return</span> <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">h</span></span>\n<span
      id=\"cb6-17\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">end</span></span></code></pre></div>\n<p>The filter
      also removes the section numbering. We add it back by passing <code>--number-sections</code>
      to pandoc.</p>\n<div class=\"quarto-figure quarto-figure-center\">\n<figure
      class=\"figure\">\n<p><img src=\"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\"
      class=\"img-fluid figure-img\"></p>\n<figcaption>less-bad table of contents</figcaption>\n</figure>\n</div>\n<p>Not
      bad.</p>\n</section>\n<section id=\"improve-title-and-metadata\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"improve-title-and-metadata\">Improve title
      and metadata</h2>\n<p>The PDF is already quite usable, let\u2019s prettify it
      a bit more: It would be important to properly list the authors in the title
      and metadata, remove the unnecessary first header, and maybe add the Lua logo
      to the title. All this is easiest when acting on the full document.</p>\n<div
      class=\"sourceCode\" id=\"cb7\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      lua code-with-copy\"><code class=\"sourceCode lua\"><span id=\"cb7-1\"><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span>
      Pandoc <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">(</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">doc</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span></span>\n<span id=\"cb7-2\">  <span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">--
      comma separated authors</span></span>\n<span id=\"cb7-3\">  <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">authors</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">doc</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">blocks</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span class=\"dv\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">2</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span></span>\n<span
      id=\"cb7-4\">  <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">authors</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">content</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">remove</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span>
      \ <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">-- remove 'by'</span></span>\n<span id=\"cb7-5\">  <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">doc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">meta</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">author</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">pandoc</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>List<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">()</span></span>\n<span
      id=\"cb7-6\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">for</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">author</span> <span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">in</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">utils</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>stringify<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">authors</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">):</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">gmatch</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'[^,]+'</span> <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">do</span></span>\n<span id=\"cb7-7\">    <span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">doc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">meta</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">author</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">insert</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">author</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span></span>\n<span
      id=\"cb7-8\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">end</span></span>\n<span id=\"cb7-9\"></span>\n<span
      id=\"cb7-10\">  <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- Remove unnecessary blocks</span></span>\n<span
      id=\"cb7-11\">  <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">doc</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">blocks</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">remove</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">4</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span>
      <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">-- menubar</span></span>\n<span id=\"cb7-12\">  <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">doc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">blocks</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">remove</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">2</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span>
      <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">-- authors paragraph</span></span>\n<span id=\"cb7-13\">  <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">doc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">blocks</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">:</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">remove</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">1</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span>
      <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">-- title header</span></span>\n<span id=\"cb7-14\"></span>\n<span
      id=\"cb7-15\">  <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- add subtitle image</span></span>\n<span id=\"cb7-16\">
      \ <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">doc</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">meta</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">.</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">subtitle</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>MetaInlines<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">{</span></span>\n<span
      id=\"cb7-17\">    <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">pandoc</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>RawInline<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'latex'</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">,</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'</span><span class=\"sc\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">\\\\</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">vspace{1em}'</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">),</span></span>\n<span
      id=\"cb7-18\">    <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">pandoc</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>Image<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"Lua
      logo\"</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">,</span> <span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- \"https://www.lua.org/images/lua-logo.gif\")</span></span>\n<span
      id=\"cb7-19\">  <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">}</span></span>\n<span id=\"cb7-20\">  <span class=\"cf\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">return</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">doc</span></span>\n<span id=\"cb7-21\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">end</span></span></code></pre></div>\n</section>\n<section
      id=\"final-touch\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"final-touch\">Final
      touch</h2>\n<p>Finally, we may want the PDF to add a little more visible structure,
      e.g., starting top-level sections on their own page.</p>\n<p>The command used
      by pandoc to create the top level headings can be controlled with the <code>--top-level-division</code>
      option. Setting that option to <code>chapter</code> ensures that each major
      section starts on a new page. However, the default document class used by LaTeX
      doesn\u2019t allow chapters, so a different class has to be set with <code>--variable
      documentclass=report</code>.</p>\n</section>\n<section id=\"summary\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"summary\">Summary</h2>\n<p>For completeness,
      <a href=\"lua-manual-cleanup.lua\">here is the complete filter</a>, and this
      is the full pandoc command used to generate the PDF:</p>\n<div class=\"sourceCode\"
      id=\"cb8\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code
      class=\"sourceCode bash\"><span id=\"cb8-1\"><span class=\"ex\" style=\"color:
      null;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span> <span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">\\</span></span>\n<span
      id=\"cb8-2\">  <span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">--toc</span> <span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">\\</span></span>\n<span
      id=\"cb8-3\">  <span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">--toc-depth</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>2 <span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">\\</span></span>\n<span
      id=\"cb8-4\">  <span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">--metadata</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>documentclass=report
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">\\</span></span>\n<span id=\"cb8-5\">  <span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">--pdf-engine</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>xelatex
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">\\</span></span>\n<span id=\"cb8-6\">  <span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">--lua-filter</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>lua-manual-cleanup.lua
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">\\</span></span>\n<span id=\"cb8-7\">  <span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">--number-sections</span>
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">\\</span></span>\n<span id=\"cb8-8\">  <span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">--top-level-division</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>chapter
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">\\</span></span>\n<span id=\"cb8-9\">  <span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">--output</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>lua-5.4-manual.pdf
      <span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">\\</span></span>\n<span id=\"cb8-10\">  <span class=\"st\" style=\"color:
      #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"https://lua.org/manual/5.4/manual.html\"</span></span></code></pre></div>\n<p>One
      of the big advantages of pandoc is that it offers a lot of freedom. Since we
      already cleaned the content up, we can now also create other formats, like an
      ebook, just by changing the name of the output file. The final results are available
      below:</p>\n<ul>\n<li><a href=\"lua-5.4-manual.pdf\">Lua 5.4 manual (PDF)</a></li>\n<li><a
      href=\"lua-5.4-manual.epub\">Lua 5.4 manual (EPUB)</a></li>\n</ul>\n\n\n</section>\n\n
      ]]></description>\n  <category>pandoc</category>\n  <category>lua</category>\n
      \ <category>pdf</category>\n  <guid>https://tarleb.com/posts/pdf-of-the-lua-manual/</guid>\n
      \ <pubDate>Sat, 11 Jul 2020 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Extending
      pandoc with Lua</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/extending-pandoc-with-lua/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>My first exposure to Lua has been as a
      pandoc user, and adding new Lua features to pandoc turned Lua into one of my
      favorite languages. In this post I will take a look at <a href=\"https://pandoc.org/\">pandoc</a>,
      the universal document converter, and explore how one can script and extend
      it with Lua. Pandoc includes a Lua interpreter since 2012, but the integration
      of Lua has been expanded significantly with the latest 2.0 release. My hope
      for this article is to highlight the beauty of these systems.</p>\n<section
      id=\"the-universal-document-converter\" class=\"level2\">\n<h2 class=\"anchored\"
      data-anchor-id=\"the-universal-document-converter\">The universal document converter</h2>\n<p><a
      href=\"https://pandoc.org/\">Pandoc</a> \u2013 written and maintained by <a
      href=\"https://johnmacfarlane.net\">John MacFarlane</a> \u2013 is an relatively
      old project. It has grown considerably since the first version was published
      in 2006: at the time of writing, pandoc can read 27 different document formats
      and dialects, and can write 49 formats. Besides serving as a one-off document
      conversions tool, pandoc also frequently features as the central part of publishing
      pipelines. For example, Pandoc is used in <a href=\"https://github.com/mfenner/jekyll-pandoc\">static</a>
      <a href=\"https://jaspervdj.be/hakyll/\">site generators</a> and is frequently
      used <a href=\"https://programminghistorian.org/lessons/sustainable-authorship-in-plain-text-using-pandoc-and-markdown\">by
      academic writers</a>, due also to its excellent support for citations.</p>\n<p>As
      a brief example, consider the following commands which transform Markdown input
      into docx, HTML, or PDF:</p>\n<div class=\"sourceCode\" id=\"cb1\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code class=\"sourceCode
      bash\"><span id=\"cb1-1\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># command to convert a markdown file to docx</span></span>\n<span
      id=\"cb1-2\"><span class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">pandoc</span> input-file.md <span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">--output</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>output-file.docx</span>\n<span
      id=\"cb1-3\"></span>\n<span id=\"cb1-4\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># convert to HTML</span></span>\n<span id=\"cb1-5\"><span
      class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span>
      input-file.md <span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">--standalone</span> <span class=\"at\" style=\"color:
      #657422;\nbackground-color: null;\nfont-style: inherit;\">--output</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>output-file.html</span>\n<span
      id=\"cb1-6\"></span>\n<span id=\"cb1-7\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># convert to PDF (via LaTeX)</span></span>\n<span
      id=\"cb1-8\"><span class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">pandoc</span> input-file.md <span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">--output</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>output-file.pdf</span></code></pre></div>\n<p>Many
      conversion tasks need to alter the default behavior or require special conversion
      features. This highlights the importance of good customization support for a
      conversion tool, one of the areas in which Lua shines.</p>\n<p>Pandoc is unusual
      for a Lua-extendable program, in that it is written in Haskell. Using Haskell
      is very productive, but is less suitable as an extension language: its concepts
      are often alien to users of other languages, and shipping a full Haskell interpreter
      with pandoc would result in considerable bloat. Lua is an excellent choice here,
      as it is lightweight, simple, and beautiful. It should be noted, however, that
      <a href=\"https://github.com/hslua\">bridging Haskell and Lua</a> is its own
      can of worms and worth a separate blog post.</p>\n</section>\n<section id=\"pandocs-document-ast\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"pandocs-document-ast\">Pandoc\u2019s
      document AST</h2>\n<p>An important factor in pandoc\u2019s immense transformation
      powers is its use of a unifying document representation: Every input is parsed
      into this document AST, which is then rendered in the desired output format.
      While a direct conversion between any of <em>n</em> input and <em>m</em> output
      formats would require <em>n </em> m* converters, using an intermediate representation
      reduces complexity to <em>n + m</em>.</p>\n<p>There are additional advantages
      to this: as we\u2019ll see, it becomes much simpler to work with a unified document
      representation than it would be to work with any of the input or output formats
      directly.</p>\n<p>There are four main types in pandoc\u2019s document model:
      inlines, blocks, document metadata, and the full document.</p>\n<ul>\n<li><p>Inline
      elements represent text and text markup. Examples are <em>Space</em> for inter-word
      spaces, <em>Str</em> for (usually non-whitespace) text, and <em>Emph</em> for
      emphasized text.</p></li>\n<li><p>Blocks are elements like paragraphs, lists,
      code listings, and headers. They are usually rendered in lines or blocks of
      their own; many block elements contain lists of inline elements.</p></li>\n<li><p>Meta
      information is a simple mapping from string keys to meta values. Meta values
      can be thought of as a special JSON or YAML object.</p></li>\n<li><p>Last but
      not least, the <em>Pandoc</em> type represents a full document. A <em>Pandoc</em>
      element consists of a lists of block elements, plus additional document metadata.</p></li>\n</ul>\n<p>Pandoc\u2019s
      Lua features revolve around modifying or converting these elements. The oldest
      use of Lua in pandoc enables the conversion of AST elements into strings as
      to output any document format.</p>\n</section>\n<section id=\"custom-writers\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"custom-writers\">Custom
      writers</h2>\n<p>Users can define custom writers in Lua to render any document
      format. Each of the aforementioned AST elements is transformed to a string by
      calling a Lua function of the same name as the element. E.g., this example demonstrates
      how emphasized text can be rendered as HTML:</p>\n<div class=\"sourceCode\"
      id=\"cb2\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code
      class=\"sourceCode lua\"><span id=\"cb2-1\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span> Emph<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">content_string</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span></span>\n<span
      id=\"cb2-2\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"st\" style=\"color:
      #20794D;\nbackground-color: null;\nfont-style: inherit;\">'&lt;em&gt;'</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">..</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">content_string</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">..</span> <span class=\"st\"
      style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'&lt;/em&gt;'</span></span>\n<span
      id=\"cb2-3\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">end</span></span></code></pre></div>\n<p>A full custom writer is
      defined by specifying functions for all document AST elements. Example writers
      using this method include <a href=\"https://github.com/lilydjwg/2bbcode\">2bbcode</a>
      by <a href=\"https://github.com/lilydjwg\">@lilydjwg (\u4F9D \u4E91)</a>, as
      well as pandoc\u2019s <code>sample.lua</code>. The latter is a well documented
      starting point for authors of new custom writers. The file can be produced by
      calling <code>pandoc --print-default-data-file=sample.lua</code>.</p>\n<p>The
      <a href=\"https://pandoc-scholar.github.io/\">pandoc-scholar</a> project serves
      as an example for the power offered by custom writers. It is a publishing tool
      intended to <a href=\"https://doi.org/10.7717/peerj-cs.112\">help authors of
      scholarly articles</a> and was created with custom Lua writers. The tool leans
      on the custom writers feature in ways that writers were not intended to be used,
      which resulted in the development of lua filters.</p>\n</section>\n<section
      id=\"filters\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"filters\">Filters</h2>\n<p>An
      additional benefit of a unified document type is that the document can be modified
      programmatically, regardless of which input and output format is chosen. Pandoc
      provides two interfaces for this.</p>\n<section id=\"json-filters\" class=\"level3\">\n<h3
      class=\"anchored\" data-anchor-id=\"json-filters\">JSON Filters</h3>\n<p>The
      first \u2013 very flexible \u2013 method is based on JSON. Pandoc can serialize
      the document to JSON; other programs <a href=\"https://pandoc.org/filters.html\">can
      read and modify</a> the document. The resulting document JSON is passed back
      to pandoc, thus allowing users to use any programming language capable of parsing
      JSON to alter the document. Many libraries for various languages have been implemented,
      including <a href=\"https://hackage.haskell.org/package/pandoc-types\">Haskell</a>,
      <a href=\"http://scorreia.com/software/panflute/\">Python</a>, <a href=\"https://heerdebeer.org/Software/markdown/paru/\">Ruby</a>,
      and <a href=\"https://www.npmjs.com/package/pandoc-filter\">JavaScript</a>.</p>\n<p>The
      flexibility of JSON filters can also be a disadvantage, as it requires additional
      software and usually the full installation of a scripting language\u2019s ecosystem.
      Pandoc is designed to work on all major platforms and without any dependencies
      on other libraries and binaries. Depending on additional software can be problematic,
      especially for non-technical users.</p>\n</section>\n<section id=\"lua-filters\"
      class=\"level3\">\n<h3 class=\"anchored\" data-anchor-id=\"lua-filters\">Lua
      filters</h3>\n<p>The <a href=\"https://pandoc.org/lua-filters.html\">Lua filter</a>
      system added in pandoc 2.0 not only solves the portability issue of JSON filters,
      but also offers better performance and more functionality. Document elements
      can be selectively serialized to Lua tables, modified using the full power of
      Lua, and will then be transferred back, thus replacing the previous values.</p>\n<p>Lua
      filters operate by calling filter functions on each element of the specified
      name. I.e., if a Lua filter contains a function with the same name as an AST
      element, then this function is called for all elements of the respective type.
      The serialized element is passed as input to the filter function, and the function\u2019s
      return value is deserialized and used to replace the input element. This method
      is as simple as it is flexible, and fits well with the concept of immutability
      which is prevalent in Haskell programs: pandoc ignores modifications to the
      serialized object itself, it will just use the filter function\u2019s return
      value.</p>\n<p>The following example filter transforms all text set in small
      caps into emphasized text:</p>\n<div class=\"sourceCode\" id=\"cb3\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code class=\"sourceCode
      lua\"><span id=\"cb3-1\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">function</span> SmallCaps <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">element</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span></span>\n<span
      id=\"cb3-2\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>Emph<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">element</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">content</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span></span>\n<span
      id=\"cb3-3\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">end</span></span></code></pre></div>\n<p>The element constructor
      functions in module pandoc, like <code>pandoc.Emph</code> in the above example,
      are also the central step when transforming elements from their pandoc-internal
      representation to Lua values. This ensures consistency in the way element values
      are produced, whether during serialization or through a constructor call in
      the filter script. The current implementation uses only strings, tables, and
      some metatables when constructing element values, with the goal of marking these
      values easy and flexible to use.</p>\n</section>\n</section>\n<section id=\"lua-filter-example-macro-expander\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"lua-filter-example-macro-expander\">Lua
      filter example: macro expander</h2>\n<p>Below is the code for a simple macro
      expander using pandoc\u2019s Lua filter functionality. The expander replaces
      all macro occurrences in the given document. Macro definitions are hard-coded
      into the filter, but could as well be read from an external file.</p>\n<div
      class=\"sourceCode\" id=\"cb4\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      lua code-with-copy\"><code class=\"sourceCode lua\"><span id=\"cb4-1\"><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">--
      file: macro-expander.lua</span></span>\n<span id=\"cb4-2\"></span>\n<span id=\"cb4-3\"><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">--
      Macro substitutions: contains macro identifier as</span></span>\n<span id=\"cb4-4\"><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">--
      keys and the expanded inlines as values.</span></span>\n<span id=\"cb4-5\"><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">macro_substs</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">{</span></span>\n<span id=\"cb4-6\">  <span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'{{hello}}'</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">pandoc</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>Emph<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">{</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span>Str
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">\"Hello, World!\"</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">}</span></span>\n<span id=\"cb4-7\"><span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">}</span></span>\n<span
      id=\"cb4-8\"></span>\n<span id=\"cb4-9\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">-- Replace string with macro expansion, if any.</span></span>\n<span
      id=\"cb4-10\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">function</span> Str <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">(</span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">s</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">)</span></span>\n<span
      id=\"cb4-11\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">macro_substs</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">s</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">text</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">or</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">s</span></span>\n<span id=\"cb4-12\"><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">end</span></span></code></pre></div>\n<p>The
      heart of the macro expander is the function <code>Str</code>. It is called on
      all simple strings in the document. The return value of this function is then
      read back into pandoc, replacing the original <code>Str</code> value.</p>\n<p>Assume
      a Markdown file <code>greeting.md</code>:</p>\n<pre><code>Greeting: {{hello}}</code></pre>\n<p>We
      can apply the macro expander by calling</p>\n<div class=\"sourceCode\" id=\"cb6\"
      style=\"background: #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code
      class=\"sourceCode bash\"><span id=\"cb6-1\"><span class=\"ex\" style=\"color:
      null;\nbackground-color: null;\nfont-style: inherit;\">pandoc</span> <span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">--lua-filter</span>
      macro-expander.lua greeting.md</span></code></pre></div>\n<p>resulting in the
      expected expansion:</p>\n<blockquote class=\"blockquote\">\n<p>\nGreeting: <em>Hello,
      World!</em>\n</p>\n</blockquote>\n<p>The function <code>Str</code> could be
      shortened further by dropping the trailing <code>or s</code>:</p>\n<div class=\"sourceCode\"
      id=\"cb7\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode lua code-with-copy\"><code
      class=\"sourceCode lua\"><span id=\"cb7-1\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span> Str
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">(</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">s</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">)</span> <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">return</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">macro_substs</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">[</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">s</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">text</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">]</span>
      <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">end</span></span></code></pre></div>\n<p>This is a convenience feature
      of pandoc filters: if the function returns no value (or <code>nil</code>), the
      original value is kept unchanged. This makes filter functions easier to write
      and speeds up filtering, as unchanged elements don\u2019t need to be deserialized
      again.</p>\n</section>\n<section id=\"whats-good-and-whats-next\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"whats-good-and-whats-next\">What\u2019s
      good, and what\u2019s next</h2>\n<p>Using pandoc with Lua is a fast, flexible,
      and platform independent way of augmenting pandoc with additional functionality.
      For me personally, having the full power of Lua at ones finger tips proved to
      be a lot of fun, while opening unexpected document processing possibilities.</p>\n<p>Pandoc
      and its Lua subsystem are under constant development. E.g., the next versions
      will feature more utility functions exposed via Lua modules. There is constant
      work to make more and more internal functions available. The next big goal is
      to grant scripting access to all format-output functions. However, this requires
      some changes to pandoc\u2019s internals. It remains a long way for pandoc to
      become a fully Lua-scriptable publishing platform.</p>\n<p>If you want to learn
      more about Lua filters, the <a href=\"https://pandoc.org/lua-filters.html\">Lua
      filter docs</a> is a good place to start. It includes up-to-date examples of
      Lua scripts, as well as a reference of all modules and functions accessible
      via Lua. Pandoc\u2019s <a href=\"https://pandoc.org/MANUAL.html\">user manual</a>
      is a good resource to learn about all of pandoc features and its command line
      options.</p>\n<p><a href=\"https://groups.google.com/forum/#!forum/pandoc-discuss\">Feedback</a>
      is always welcome!</p>\n</section>\n<section id=\"acknowledgements\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"acknowledgements\">Acknowledgements</h2>\n<p>A
      big thank you to Jennifer K\xF6nig, Birgit Pohl, and John MacFarlane for their
      feedback on an earlier version of this post, and to all pandoc contributors
      and users, who make working on this project incredibly fun.</p>\n\n\n</section>\n\n
      ]]></description>\n  <category>pandoc</category>\n  <category>lua</category>\n
      \ <category>pandoc-filter</category>\n  <guid>https://tarleb.com/posts/extending-pandoc-with-lua/</guid>\n
      \ <pubDate>Sat, 23 Dec 2017 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>MetaNook2014
      \u2013 Command Line Talk</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n
      \ <link>https://tarleb.com/posts/nook-2014/</link>\n  <description><![CDATA[
      \n\n\n\n\n<p>Last night was the night of this year\u2019s MetaNook. It was the
      fourth time that the local hackers, most notably <a href=\"https://metameute.de\">MetaMeute</a>
      and <a href=\"https://chaotikum.org\">Chaotikum</a>, joined forces to organize
      a night full of beginner-friendly introductions, advanced tech talks, and project
      presentations.</p>\n<p>My <a href=\"https://github.com/tarleb/shell-talk\">talk
      contribution</a> this year was a brief introduction in the \u201Cmagic\u201D
      of the command-line. The talk slides are adapted to the topic in that the presentation
      must be given from the command line. Each slide is just a function, the whole
      presentation environment is held together by scripts and other shell-equivalences
      of duckt-tape. Feedback from the thirty or-so attendees was mostly positive.</p>\n<p>It
      was a very fun experience over all, as usual.</p>\n\n\n\n ]]></description>\n
      \ <category>talk</category>\n  <category>command-line</category>\n  <guid>https://tarleb.com/posts/nook-2014/</guid>\n
      \ <pubDate>Sat, 22 Nov 2014 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>rt6_redirect:
      source isn\u2019t a valid nexthop for redirect target</title>\n  <dc:creator>Albert
      Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/rt6_redirect/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>The zeitkraut server is configured to
      work with IPv6. For quite some time now, I\u2019ve been seeing some strange
      errors in my log files. If you\u2019ve been noticing something similar, here
      is what\u2019s going on and how to prevent the messages from appearing.</p>\n<section
      id=\"the-problem\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"the-problem\">The
      Problem</h2>\n<p>Everything works as expected, except for some weird messages
      in the logs:</p>\n<pre><code>rt6_redirect: source isn't a valid nexthop for
      redirect target</code></pre>\n<p>Not even <a href=\"https://startpage.com\">startpage</a>
      was of much help. Searching for the above line only lists only some <a href=\"http://ubuntuforums.org/archive/index.php/t-1947743.html\">unanswered</a>
      <a href=\"http://board.gulli.com/thread/1699675-rt6-redirect-source-isn-t-a-valid-nexthop/\">forum</a>
      questions and the kernel source code which is producing the message. Oh, and
      a somewhat unhelpful blog entry <a href=\"https://www.kernel-error.de/kernel-error-blog/189-rt6-redirect-source-isn-t-a-valid-nexthop-for-redirect-target\">telling</a>
      people to always use their routers link local address when routing. This is
      useless advice in my case, I don\u2019t <em>have</em> a link-local address of
      the router, only it\u2019s global address.</p>\n</section>\n<section id=\"the-cause\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"the-cause\">The Cause</h2>\n<p>I
      found a way to stop the message from appearing in my logs. On the way, I learned
      a bit more about IPv6 and improved server security on the way.</p>\n<p>IPv6
      contains functionality to tell a computer about better routes to the target
      destination. A router may send ICMPv6 redirect packages (type 137 to be specific),
      informing neighboring computers about more effective ways to reach their targets.
      This makes the most sense when applied within an environment heavily relying
      on auto-configuration \u2013 like a dynamic internal company or home network.
      It makes a lot less sense for servers very stable network topologies.</p>\n<p>Attackers
      may try to exploit the redirect functionality by including themselves into the
      route to the target. The specification for those redirects includes some security-measures,
      requiring the attacker to correctly guess the server\u2019s current next hop.
      If the attackers get it wrong, the Linux kernel refuses to use the new routing
      information. This is most-likely what happens when you see the above log messages.</p>\n</section>\n<section
      id=\"the-solution\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"the-solution\">The
      Solution</h2>\n<p>Long talk short, the solution is to disable IPv6 redirecting:</p>\n<pre><code>sudo
      sysctl net.ipv6.conf.all.accept_redirects=0</code></pre>\n<p>My server is not
      a router, so there is no need to accept any kind of route changing messages
      from external sources. We can simply disable redirects, using above command.
      The change can be made permanent by setting the value in <code>/etc/sysctl.conf</code>.
      In fact, we can disable routing for both IPv4 and IPv6. Be careful though, you
      might happen to be in a network environment requiring you to accept redirect
      commands for some reason.</p>\n<p>If you are on Debian or similar distribution
      like Ubuntu, change the following lines in <code>/etc/sysctl.conf</code> from</p>\n<pre><code>#
      Do not accept ICMP redirects (prevent MITM attacks)\n#net.ipv4.conf.all.accept_redirects
      = 0\n#net.ipv6.conf.all.accept_redirects = 0\n# _or_\n# Accept ICMP redirects
      only for gateways listed in our default\n# gateway list (enabled by default)\n#
      net.ipv4.conf.all.secure_redirects = 1\n#\n# Do not send ICMP redirects (we
      are not a router)\n#net.ipv4.conf.all.send_redirects = 0\n#\n# Do not accept
      IP source route packets (we are not a router)\n#net.ipv4.conf.all.accept_source_route
      = 0\n#net.ipv6.conf.all.accept_source_route = 0</code></pre>\n<p>to</p>\n<pre><code>#
      Do not accept ICMP redirects (prevent MITM attacks)\nnet.ipv4.conf.all.accept_redirects
      = 0\nnet.ipv6.conf.all.accept_redirects = 0\n#\n# Do not send ICMP redirects
      (we are not a router)\nnet.ipv4.conf.all.send_redirects = 0\n#\n# Do not accept
      IP source route packets (we are not a router)\nnet.ipv4.conf.all.accept_source_route
      = 0\nnet.ipv6.conf.all.accept_source_route = 0</code></pre>\n<p>Running <code>sudo
      sysctl -p</code> loads the new settings.</p>\n</section>\n<section id=\"alternative-solution\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"alternative-solution\">Alternative
      Solution</h2>\n<p>Completely disabling redirects in the kernel should keep you
      reasonably secure. However, if you need redirects within your internal network,
      you could also block redirect packages reaching you through external interfaces.
      E.g., to block redirect packages coming in on eth1, one would issue</p>\n<pre><code>sudo
      ip6tables -A -i eth1 -p icmpv6 --icmpv6-type 137 -j DROP</code></pre>\n<p>However,
      firewall configuration is a complex topic, so I\u2019m not going to go into
      details here.</p>\n<p>If you have any questions, corrections or comments on
      the matter, please drop me a line.</p>\n\n\n</section>\n\n ]]></description>\n
      \ <category>security</category>\n  <category>sysadmin</category>\n  <guid>https://tarleb.com/posts/rt6_redirect/</guid>\n
      \ <pubDate>Fri, 01 Aug 2014 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>How
      to configure zsh with vi bindings and nice shortcuts</title>\n  <dc:creator>Albert
      Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/howto-zsh-vi-style/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>Having a good working environment is vital
      for feeling comfortable being productive. This extends to computational tools
      and the <a href=\"https://en.wikipedia.org/wiki/command%20shell\">command shell</a>
      is an integral part of the daily work for many of us. It\u2019s a good idea
      to configure the shell\u2019s interface to be efficient and pleasant to use.
      Here we see how <code class=\"verbatim\">zsh</code>, arguably the best shell
      around, can be configured to suit the needs of people used to vi key bindings
      (which are arguably arguably superior and more ergonomical than the default
      emacs-style bindings)<sup>1</sup>.</p>\n<section id=\"using-vi-bindings-in-the-shell\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"using-vi-bindings-in-the-shell\">Using
      vi-bindings in the shell</h2>\n<p>The first step towards nice vi key bindings
      is almost too easy: The red pill takes the form of</p>\n<div class=\"sourceCode\"
      id=\"cb1\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code
      class=\"sourceCode bash\"><span id=\"cb1-1\"><span class=\"ex\" style=\"color:
      null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span> <span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">-v</span></span></code></pre></div>\n<p>Type
      it into your prompt (and add it to your <code class=\"verbatim\">.zshrc</code>
      file) and emacs bindings are going bye-bye. <code class=\"verbatim\">Escape</code>
      will bring you to normal-mode, while <code>i</code>, <code>a</code>, <code>o</code>
      etc. will bring you back to insert-mode, just as with your favorite editor.
      Use <code>j</code> and <code>k</code> in normal-mode to go through your history
      and move around within the line with <code>h</code>, <code>l</code>, <code>w</code>,
      <code>b</code> and the like.</p>\n<p>This is a good start, let\u2019s see how
      we can bring it from \u201Cthis is nice\u201D to \u201Cthat\u2019s just awesome\u201D.</p>\n<p>First,
      we may want to keep some of the default key bindings in insert-mode since we\u2019ve
      grown accustomed to them. No missing out, let\u2019s put them back in:</p>\n<div
      class=\"sourceCode\" id=\"cb2\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      bash code-with-copy\"><code class=\"sourceCode bash\"><span id=\"cb2-1\"><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">#
      Kill input from the current point to the end of line with Ctrl-k</span></span>\n<span
      id=\"cb2-2\"><span class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">bindkey</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">'^k'</span> kill-line</span>\n<span id=\"cb2-3\"><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">#
      Search the history incremantally with Ctrl-r</span></span>\n<span id=\"cb2-4\"><span
      class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'^r'</span> history-incremental-search-backward</span>\n<span id=\"cb2-5\"><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">#
      Insert and go through the \"last words\" of previous commands with Meta-.</span></span>\n<span
      id=\"cb2-6\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\"># (or Escape-. for that matter).</span></span>\n<span id=\"cb2-7\"><span
      class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'^[.'</span> insert-last-word</span>\n<span id=\"cb2-8\"><span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># Show
      the man-page or other helpful infos with Meta-h</span></span>\n<span id=\"cb2-9\"><span
      class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'^[h'</span> run-help</span></code></pre></div>\n<p>You can take
      a look at the key bindings defined for emacs-mode by typing <code>bindkey -M
      emacs -L</code> and reuse the bindings you like. See the <code>zshzle</code>
      manpage for more pre-defined widgets for which you could define bindings.</p>\n</section>\n<section
      id=\"configuring-the-prompt-to-show-the-current-editing-mode\" class=\"level2\">\n<h2
      class=\"anchored\" data-anchor-id=\"configuring-the-prompt-to-show-the-current-editing-mode\">Configuring
      the prompt to show the current editing mode</h2>\n<p>So the key bindings are
      quite usable now, but it\u2019s a bit unfortunate that it is impossible to see
      if the shell is in insert- or normal-mode. There should be a mode indicator
      right in the shell prompt!</p>\n<div class=\"sourceCode\" id=\"cb3\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code class=\"sourceCode
      bash\"><span id=\"cb3-1\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># You may already have those in your .zshrc somewhere</span></span>\n<span
      id=\"cb3-2\"><span class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">autoload</span> <span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">-U</span> promptinit <span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">&amp;&amp;</span>
      <span class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">promptinit</span></span>\n<span id=\"cb3-3\"><span class=\"ex\" style=\"color:
      null;\nbackground-color: null;\nfont-style: inherit;\">autoload</span> <span
      class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">-U</span>
      colors     <span class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">&amp;&amp;</span> <span class=\"ex\" style=\"color: null;\nbackground-color:
      null;\nfont-style: inherit;\">colors</span></span>\n<span id=\"cb3-4\"></span>\n<span
      id=\"cb3-5\"><span class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">setopt</span> prompt_subst</span>\n<span id=\"cb3-6\"></span>\n<span
      id=\"cb3-7\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\"># Set the colors to your liking</span></span>\n<span id=\"cb3-8\"><span
      class=\"bu\" style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">local</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">vi_normal_marker</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"[%{</span><span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">$fg</span><span class=\"st\"
      style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">[green]%}%BN%b%{</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">$reset_color</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">%}]\"</span></span>\n<span
      id=\"cb3-9\"><span class=\"bu\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">local</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">vi_insert_marker</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span><span class=\"st\"
      style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"[%{</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">$fg</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">[cyan]%}%BI%b%{</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">$reset_color</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">%}]\"</span></span>\n<span
      id=\"cb3-10\"><span class=\"bu\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">local</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">vi_unknown_marker</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span><span class=\"st\"
      style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"[%{</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">$fg</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">[red]%}%BU%b%{</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">$reset_color</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">%}]\"</span></span>\n<span
      id=\"cb3-11\"><span class=\"bu\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">local</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">vi_mode</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span><span class=\"st\"
      style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">$vi_insert_marker</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"</span></span>\n<span
      id=\"cb3-12\"><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">vi_mode_indicator ()</span> <span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">{</span></span>\n<span
      id=\"cb3-13\">  <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">case</span> <span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">${KEYMAP}</span> <span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">in</span></span>\n<span
      id=\"cb3-14\">    <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">(</span><span class=\"ss\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">vicmd</span><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">)</span>      <span
      class=\"bu\" style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">echo</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">$vi_normal_marker</span> <span class=\"cf\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">;;</span></span>\n<span id=\"cb3-15\">    <span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">(</span><span
      class=\"ss\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">main</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">|</span><span
      class=\"ss\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">viins</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">)</span>
      <span class=\"bu\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">echo</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">$vi_insert_marker</span> <span class=\"cf\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">;;</span></span>\n<span
      id=\"cb3-16\">    <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">(</span><span class=\"pp\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">*</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">)</span>          <span class=\"bu\" style=\"color:
      null;\nbackground-color: null;\nfont-style: inherit;\">echo</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">$vi_unknown_marker</span>
      <span class=\"cf\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style:
      inherit;\">;;</span></span>\n<span id=\"cb3-17\">  <span class=\"cf\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">esac</span></span>\n<span
      id=\"cb3-18\"><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">}</span></span>\n<span id=\"cb3-19\"></span>\n<span
      id=\"cb3-20\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># Reset mode-marker and prompt whenever the keymap
      changes</span></span>\n<span id=\"cb3-21\"><span class=\"kw\" style=\"color:
      #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">
      zle-line-init</span> <span class=\"ex\" style=\"color: null;\nbackground-color:
      null;\nfont-style: inherit;\">zle-keymap-select</span> {</span>\n<span id=\"cb3-22\">
      \ <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">vi_mode</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">$(</span><span class=\"ex\" style=\"color: null;\nbackground-color:
      null;\nfont-style: inherit;\">vi_mode_indicator</span><span class=\"va\" style=\"color:
      #111111;\nbackground-color: null;\nfont-style: inherit;\">)</span><span class=\"st\"
      style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"</span></span>\n<span
      id=\"cb3-23\">  <span class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">zle</span> reset-prompt</span>\n<span id=\"cb3-24\"><span class=\"er\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">}</span></span>\n<span
      id=\"cb3-25\"><span class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">zle</span> <span class=\"at\" style=\"color: #657422;\nbackground-color:
      null;\nfont-style: inherit;\">-N</span> zle-line-init</span>\n<span id=\"cb3-26\"><span
      class=\"ex\" style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">zle</span>
      <span class=\"at\" style=\"color: #657422;\nbackground-color: null;\nfont-style:
      inherit;\">-N</span> zle-keymap-select</span>\n<span id=\"cb3-27\"></span>\n<span
      id=\"cb3-28\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># Multiline-prompts don't quite work with reset-prompt;
      we work around this by</span></span>\n<span id=\"cb3-29\"><span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># printing
      the first line(s) via a precmd which is executed before the prompt</span></span>\n<span
      id=\"cb3-30\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># is printed.  The following can be integrated
      into PROMPT for single-line</span></span>\n<span id=\"cb3-31\"><span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># prompts.</span></span>\n<span
      id=\"cb3-32\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">#</span></span>\n<span id=\"cb3-33\"><span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># Colorize
      freely</span></span>\n<span id=\"cb3-34\"><span class=\"bu\" style=\"color:
      null;\nbackground-color: null;\nfont-style: inherit;\">local</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">user_host</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'%B%n%b@%m'</span></span>\n<span
      id=\"cb3-35\"><span class=\"bu\" style=\"color: null;\nbackground-color: null;\nfont-style:
      inherit;\">local</span> <span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">current_dir</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span><span class=\"st\"
      style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'%~'</span></span>\n<span
      id=\"cb3-36\"><span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">precmd ()</span> <span class=\"ex\" style=\"color:
      null;\nbackground-color: null;\nfont-style: inherit;\">print</span> <span class=\"at\"
      style=\"color: #657422;\nbackground-color: null;\nfont-style: inherit;\">-rP</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">\"</span><span class=\"va\" style=\"color: #111111;\nbackground-color:
      null;\nfont-style: inherit;\">${user_host}</span><span class=\"st\" style=\"color:
      #20794D;\nbackground-color: null;\nfont-style: inherit;\"> </span><span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">${current_dir}</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"</span></span>\n<span
      id=\"cb3-37\"></span>\n<span id=\"cb3-38\"><span class=\"bu\" style=\"color:
      null;\nbackground-color: null;\nfont-style: inherit;\">local</span> <span class=\"va\"
      style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">return_code</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"%(?..%{</span><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">$fg</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">[red]%}%?
      %{</span><span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">$reset_color</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">%})\"</span></span>\n<span id=\"cb3-39\"><span
      class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style: inherit;\">PROMPT</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span><span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">'${return_code}${vi_mode}
      %# '</span></span></code></pre></div>\n<p>This gives a prompt in the style of</p>\n<pre><code>user@host
      /current/working/path\n[I] %</code></pre>\n<p>where <code>[I]</code> is the
      insert-mode indicator and is changed to <code>[N]</code> when normal-mode is
      activated. Neat, isn\u2019t it?</p>\n</section>\n<section id=\"single--and-multi-key-shortcuts\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"single--and-multi-key-shortcuts\">Single-
      and multi-key shortcuts</h2>\n<p>This is all nice and dandy, but it\u2019s not
      quite like vim yet. How about those sweet bindings where pressing <code>jj</code>
      in quick succession brings us to normal-mode without having to press <code>Esc</code>?
      Setting it up is easy as pie.</p>\n<div class=\"sourceCode\" id=\"cb5\" style=\"background:
      #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code class=\"sourceCode
      bash\"><span id=\"cb5-1\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\"># Time in which two keys have to be pressed in
      order to be recognized as a</span></span>\n<span id=\"cb5-2\"><span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># single
      command (in centiseconds, set to 0.4 sec by default -- may be</span></span>\n<span
      id=\"cb5-3\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\"># modified as needed).</span></span>\n<span id=\"cb5-4\"><span class=\"bu\"
      style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">export</span>
      <span class=\"va\" style=\"color: #111111;\nbackground-color: null;\nfont-style:
      inherit;\">KEYTIMEOUT</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span>40</span>\n<span id=\"cb5-5\"><span class=\"ex\"
      style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'jj'</span> vi-cmd-mode</span></code></pre></div>\n<p>We can also
      add two-key bindings to jump to the start and end of the line:</p>\n<div class=\"sourceCode\"
      id=\"cb6\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode bash code-with-copy\"><code
      class=\"sourceCode bash\"><span id=\"cb6-1\"><span class=\"co\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># Bind to both possible
      orders in which the keys could be pressed.</span></span>\n<span id=\"cb6-2\"><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">#
      Move all the way to the left</span></span>\n<span id=\"cb6-3\"><span class=\"ex\"
      style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">';l'</span> end-of-line</span>\n<span id=\"cb6-4\"><span class=\"ex\"
      style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'l;'</span> end-of-line</span>\n<span id=\"cb6-5\"><span class=\"co\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\"># Move
      all the way to the right</span></span>\n<span id=\"cb6-6\"><span class=\"ex\"
      style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">';h'</span> beginning-of-line</span>\n<span id=\"cb6-7\"><span class=\"ex\"
      style=\"color: null;\nbackground-color: null;\nfont-style: inherit;\">bindkey</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">'h;'</span> beginning-of-line</span></code></pre></div>\n<p>Jumping
      to the beginning of the line is now as easy as pressing <code>;</code> and <code>h</code>
      at the same time. No need to switch to normal-mode and your fingers don\u2019t
      leave the your keyboard\u2019s home-row. Try it, it\u2019s great!</p>\n</section>\n<section
      id=\"more\" class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"more\">More</h2>\n<p>Customizations
      like this can make it much more pleasant to use the command line and boost your
      productivity. If the above is still not enough, here are some more ideas:</p>\n<ul>\n<li>Define
      custom keymaps, e.g.&nbsp;to control other programs such as <code>mpc</code>
      or <code>tmux</code>.</li>\n<li>Switch to said keymaps via some nice bindings.</li>\n<li>Show
      the status of version control systems and build environments in the prompt.</li>\n</ul>\n<p>If
      you don\u2019t feel like doing all the work yourself, I can heartly reommend
      you take a look at <a href=\"http://ohmyz.sh\">oh-my-zsh</a>. It offers a great
      collection of ideas to build on and some really cool ready-to-use plugins. Have
      fun!</p>\n\n\n</section>\n\n\n<div id=\"quarto-appendix\" class=\"default\"><section
      id=\"footnotes\" class=\"footnotes footnotes-end-of-document\"><h2 class=\"anchored
      quarto-appendix-heading\">Footnotes</h2>\n\n<ol>\n<li id=\"fn1\"><p>Emacs is
      a great program which I\u2019ve been using for years and continue to use daily,
      but vi bindings just make good things better. Thanks to <a href=\"https://gitorious.org/evil/pages/Home\">evil</a>,
      that\u2019s not a problem.\u21A9\uFE0E</p></li>\n</ol>\n</section></div> ]]></description>\n
      \ <category>command-line</category>\n  <category>key bindings</category>\n  <guid>https://tarleb.com/posts/howto-zsh-vi-style/</guid>\n
      \ <pubDate>Sun, 29 Jun 2014 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Exploring
      HTTP Headers with netcat</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n
      \ <link>https://tarleb.com/posts/exploring-http-headers/</link>\n  <description><![CDATA[
      \n\n\n\n\n<p>One of the many great things about free and open source software
      and the whole GNU/Linux ecosystem are the simple yet powerful tools available.
      The possibilities enabled by almost trivial programs are incredible. A very
      positive side effect this has on me is that I like to go and explore technologies
      with the tools at my disposal. My latest experiments revolved around the HTTP
      protocol, specifically HTTP headers, and very basic open source networking tools.</p>\n<section
      id=\"the-hypertext-transfer-protocol\" class=\"level2\">\n<h2 class=\"anchored\"
      data-anchor-id=\"the-hypertext-transfer-protocol\">The HyperText Transfer Protocol</h2>\n<p>Webservers
      on the internet sending a website to a browser use the HyperText Transfer Protocol
      (HTTP) to do so. Along with the HTML data for the page itself, the server answer
      includes additional information: Response code, cookies, and how the browser
      or proxy server should handle the contents is transfered within the <em>HTTP
      header</em>. The ability of the headers to control state on the client side
      is what makes them so interesting and the reason why we are going to have a
      closer look at them.</p>\n</section>\n<section id=\"communicating-with-netcat\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"communicating-with-netcat\">Communicating
      with <code>netcat</code></h2>\n<p>Instead of building our own HTTP client and
      server implementations \u2013 that would be total overkill \u2013 we restrict
      the goal to a simple networking tool that can be made to receive, send and alter
      basic HTTP commands: <code>netcat</code>, the self-described TCP/IP swiss army
      knife, combined with basic shell scripts.</p>\n<p>We start by setting up a basic
      echoing server which sends everything back the same way it was received.</p>\n<pre
      class=\"shell\"><code>nc -l -p 8042 -e '/bin/cat'</code></pre>\n<p>Pointing
      the browser at <code>http://localhost:8042</code>, then killing the <code>netcat</code>
      process manually by hitting <code>Control-C</code>, we can see the headers we
      sent within our browser. Everything that is send to our simple server is put
      through the <code>cat</code> program, which just passes it on to STDOUT, which
      is then sent back to the connecting browser. The process has to be terminated
      manually, as it doesn\u2019t know when to stop listening for more input. It\u2019s
      crude, yet effective.</p>\n</section>\n<section id=\"shell-scripting-for-more-advanced-features\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"shell-scripting-for-more-advanced-features\">Shell
      Scripting for more advanced features</h2>\n<p>The above is neither comfortable
      to use nor very good to toy with, so we replace <code>cat</code> with a script
      of our own, we\u2019ll call it <code>exploring-http.sh</code>:</p>\n<pre class=\"shell\"><code>#!/bin/sh\n\n#
      Keep reading everything until we hit the first empty line\nread_headers ()\n{\n
      \   read i\n    while [ -n \"$i\" ] &amp;&amp;\n          [ \"$(echo -n \"\\r\\n\")\"
      != \"$i\" ] &amp;&amp;\n          [ \"$(echo -n \"\\n\")\" != \"$i\" ]\n    do\n
      \       echo \"$i\"\n        read i\n    done\n}\nrequest_headers=\"$(read_headers)\"\n\n#
      Get some response headers ready\nresponse_headers ()\n{\n    printf \"HTTP/1.1
      200 OK\\r\\n\"\n    printf \"Content-Type: text/plain\\r\\n\"\n    printf \"\\r\\n\"\n}\n\n#
      Send the response\nrespond ()\n{\n    local response_headers=\"$(response_headers)\"\n
      \   echo \"${response_headers}\"\n    echo \"Browser Request Headers\"\n    echo
      \"=======================\"\n    echo \"$request_headers\"\n    echo \"\\r\\n\"\n
      \   echo \"Server Response Headers\"\n    echo \"=======================\"\n
      \   echo \"${response_headers}\"\n}\n\nrespond</code></pre>\n<p>The request
      send by the browser is read till we reach the first black line, signaling the
      end of the request header. This time, we follow the protocol by prefixing the
      content with very simple response headers before sending it back to the browser.
      We also don\u2019t have to manually terminate our <code>netcat</code> server,
      it terminates after answering to the request. Starting it again after each request
      is tedious, so we automate it and put it into a loop, restarting the server
      immediately once it terminates.</p>\n<pre class=\"shell\"><code>sh -c 'while
      true; do nc -l -p 8042 -e exploring-http.sh; done'</code></pre>\n<p>Now we are
      free to experiment with HTTP headers and the way browser and server interact.
      For example, we can let the server add a <code>Last-Modified</code> header,
      the content of which should be sent back by the browser in the next request:</p>\n<pre
      class=\"shell\"><code>response_headers ()\n{\n    printf \"HTTP/1.1 200 OK\\r\\n\"\n
      \   printf \"Content-Type: text/plain\\r\\n\"\n    printf \"Last-Modified: $(date
      --rfc-2822)\\r\\n\"\n    printf \"\\r\\n\"\n}</code></pre>\n<p>Reloading twice,
      and the browser request will change to send an additional <code>If-Modified-Since</code>
      header.</p>\n</section>\n<section id=\"etags\" class=\"level2\">\n<h2 class=\"anchored\"
      data-anchor-id=\"etags\">ETags</h2>\n<p>The functionality of ETags, designed
      to communicate caching of old files, can be used follow users around without
      the need of cookies. Let\u2019s see if we can do this with our little server.</p>\n<p>The
      function generating the response headers is modified to extract any ETag supplied
      by the browser. If none exists, we generate a new one by hashing the number
      of nanoseconds passed since the beginning of the UNIX epoche. The parsed or
      newly generated etag is then sent back to the browser. We also add a few header
      to make sure the conents isn\u2019t cached. As a result, we should be able to
      track a user through his or her browser cache.</p>\n<pre class=\"shell\"><code>response_headers
      ()\n{\n    local etag\n    etag=$(echo \"${request_headers}\" | sed -ne 's/^\\(If-None-Match:
      \"\\([a-f0-9]*\\)\".*\\)/\\2/gp')\n    printf \"HTTP/1.1 200 OK\\r\\n\"\n    printf
      \"Content-Type: text/plain\\r\\n\"\n    printf \"Last-Modified: $(date --rfc-2822)\\r\\n\"\n
      \   printf \"ETag: \\\"${etag:-$(date +%s%N | md5sum | cut -d' ' -f1)}\\\"\\r\\n\"\n
      \   printf \"Expires: Tue, 01 Jan 2013 00:00:01 GMT\\r\\n\"\n    printf \"Cache-Control:
      max-age=0\\r\\n\"\n    printf \"Connection: keep-alive\\r\\n\"\n    printf \"\\r\\n\"\n}</code></pre>\n<p>We
      can test this by reloading our test page twice and\u2026 it works! We can reload
      as often as we want, the ETag header sent by the browser will not change unless
      we clear the browser\u2019s cache. A stealthy kind of user tracking can be simulated
      with just a few lines of shell script.</p>\n</section>\n<section id=\"conclusion\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"conclusion\">Conclusion</h2>\n<p>Even
      though we used nothing but simple command line tools and shell scripting, we
      managed to build a simple server and to experiment with the ways in which stateless
      servers and stateful browseres can effect each other through HTTP headers. Standard
      UNIX tools are very powerful by themselves; together with a tool like <code>netcat</code>,
      power and fun extend even into experiments with networking and default protocols.</p>\n\n\n</section>\n\n
      ]]></description>\n  <category>command-line</category>\n  <category>network</category>\n
      \ <guid>https://tarleb.com/posts/exploring-http-headers/</guid>\n  <pubDate>Tue,
      05 Nov 2013 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Russian Process
      Roulette</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n  <link>https://tarleb.com/posts/russian-process-roulette/</link>\n
      \ <description><![CDATA[ \n\n\n\n\n<p>A couple of friends and I just discussed
      the idea of Russian Process Roulette: Everybody starts a little program which
      kills processes at random. The winner is the one whose computer remains usable
      the longest. Is this crazy? Yes. Immature? Sure. Fun? Definitely. Adviced against
      to actually play unless the consequences are fully understood? That too.</p>\n<p>Playing
      the game is as simple as starting a command like the following:</p>\n<pre class=\"shell\"><code>while
      sleep 600; do kill -9 $(tr -cd \"[:digit:]\" &lt; /dev/urandom | head -c5);
      done</code></pre>\n<p>This one-liner will wake up every 10 minutes, generate
      a random 5-digit number and then kill the process with the corresponding process
      ID. It will run forever, until it is either stopped, kills itself or has successfully
      crashed the user\u2019s session.</p>\n<p>Of course, there are some problems
      with this code. The time at which the next process will be killed is predictable,
      making it easier to prepare for the eventuality of a dying process. Worse, the
      range of random process ids (0 to 99999) is about three times as large as the
      actual range of process ids on a typical linux system (0 to 32768). This lowers
      the chance of hitting a valid process ID quite a bit. So let\u2019s put our
      scripting-fu to some misguided use and \u201Coptimize\u201D the code.</p>\n<p>The
      first step is to write a function which gives uniformly distributed random numbers
      below a threshold.</p>\n<pre class=\"shell\"><code>random_number_below () {\n
      \ local upperbound=$1\n  local candidate=$(( $1 + 1 ))\n  local maxlen=$(printf
      $upperbound | wc -c)\n  while [ $candidate -gt $upperbound ]\n  do\n      candidate=$(tr
      -cd '[:digit:]' &lt; /dev/urandom | head -c \"$maxlen\" )\n  done\n  echo $candidate\n}</code></pre>\n<p>Our
      random number generator is very very wasteful in terms of processor cycles.
      Even more, if the output of <code>/dev/urandom</code> is truly random, the function
      were not even guaranteed to terminate in any specified time frame. But given
      the nature of the application we have in mind, both caveats are completely acceptable
      here. Candidate numbers are generated by reading random characters from the
      systems urandom device, throwing away every character that isn\u2019t a digit.
      After this, the candidate number is checked to make sure we haven\u2019t generated
      a number greater than the specified upper bound. If that should be the case,
      we run the whole procedure again. Otherwise, the random number is returned.
      While wasteful, this function produces an unbiased uniform distribution on the
      interval [0, upperbound].</p>\n<p>The second problem, regarding the range of
      possible process identifiers, is easier to fix. A little bit of searching reveals
      that the largest possible process identifier can be read from the file <code>/proc/sys/kernel/pid_max</code>.
      With this functionality in our hands, we can now write a \u201Cbetter\u201D
      Russian Process Roulette script.</p>\n<pre class=\"shell\"><code>while sleep
      $(random_number_below 999)\ndo\n    local maxpid=$(cat /proc/sys/kernel/pid_max)\n
      \   kill -9 $(random_number_below \"$maxpid\")\ndone</code></pre>\n<p>We should
      (<em>probably not</em>) run this as <code>root</code>, thereby making sure no
      process is safe from our \u201Cprocess gun\u201D.</p>\n<p>While the result of
      our efforts isn\u2019t necessarily useful, it is still a nice exercises in shell
      scripting. Our game remains destructive and immature, but the execution is slightly
      more sophisticated. Hope you like it.</p>\n\n\n\n ]]></description>\n  <category>command-line</category>\n
      \ <category>nonsense</category>\n  <guid>https://tarleb.com/posts/russian-process-roulette/</guid>\n
      \ <pubDate>Fri, 27 Sep 2013 00:00:00 GMT</pubDate>\n</item>\n<item>\n  <title>Avoid
      Mail Harvesting through Address Munging</title>\n  <dc:creator>Albert Krewinkel</dc:creator>\n
      \ <link>https://tarleb.com/posts/avoiding-spam/</link>\n  <description><![CDATA[
      \n\n\n\n\n<p>Spam just doesn\u2019t die. Every major mail provider has really
      good spam filters in place, as do the common mail clients. Nontheless, there
      seem to be enough people reading \u2013 and acting on \u2013 spam mail to make
      it a profitable business. No matter how much we hate it, we need to deal with
      spam.</p>\n<p>Better than having a good spam filter is not to be spammed in
      the first place. Since nobody can sent me unsolicited bulk mail if they don\u2019t
      know my mail address, keeping the mail address as private as possible is the
      way to go here. But what if we <em>want</em> our e-mail address to be public
      for other people to reach us? Adding minor obstacles to make it just a bit more
      difficult for spammers to get the address can be enough.</p>\n<section id=\"address-munging\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"address-munging\">Address
      Munging</h2>\n<p>The usual way for spammers to collect email addresses is to
      crawl websites and to harvest everything that looks like a valid mail address.
      A common defense is <a href=\"https://en.wikipedia.org/wiki/Address_munging\">address
      munging</a>, i.e.&nbsp;resolving to bogus comments, additional markup, images
      or javascript to hide mail addresses from automatic harvesters. I find the use
      of images or javascript problematic for various reasons and just dislike unnecessary
      comments. Luckily, HTML5 and CSS3 make it really easy to mangle addresses without
      using either of these methods.</p>\n</section>\n<section id=\"obfuscating-an-address-with-html5-css3\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"obfuscating-an-address-with-html5-css3\">Obfuscating
      an Address with HTML5 &amp; CSS3</h2>\n<p>Our approach here leverages the HTML5
      <a href=\"http://www.w3.org/TR/html5/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes\"><code>data-*</code></a>
      attributes as well as the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::before\"><code>::before</code></a>
      and <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::after\"><code>::after</code></a>
      pseudo-elements. The mail address is divided and stored in custom data attributes
      and displayed as pseudo-elements. The address is kept in the markup, the presentation
      is handled in the style sheet:</p>\n<p>HTML:</p>\n<div class=\"sourceCode\"
      id=\"cb1\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode html code-with-copy\"><code
      class=\"sourceCode html\"><span id=\"cb1-1\"><span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">&lt;</span><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">span</span><span
      class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">
      data-user</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"john.doe\"</span></span>\n<span id=\"cb1-2\"><span
      class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">
      \     data-domain</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"example.com\"</span></span>\n<span id=\"cb1-3\"><span
      class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">
      \     class</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">=</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"obfuscated-mail-address\"</span><span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">&gt;</span><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">&lt;!--</span></span>\n<span
      id=\"cb1-4\"><span class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">--&gt;</span>@<span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">&lt;</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">span</span><span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">&gt;</span>obfuscated email address<span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">&lt;/</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">span</span><span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">&gt;&lt;/</span><span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">span</span><span
      class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">&gt;</span></span></code></pre></div>\n<p>CSS:</p>\n<div
      class=\"sourceCode\" id=\"cb2\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode
      css code-with-copy\"><code class=\"sourceCode css\"><span id=\"cb2-1\"><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">.obfuscated-mail-address</span><span
      class=\"in\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">::before</span>
      {</span>\n<span id=\"cb2-2\">  <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">content</span><span class=\"ch\" style=\"color:
      #20794D;\nbackground-color: null;\nfont-style: inherit;\">:</span> <span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">attr(</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">data-user</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">)</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">;</span></span>\n<span
      id=\"cb2-3\">}</span>\n<span id=\"cb2-4\"><span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">.obfuscated-mail-address</span><span
      class=\"in\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">::after</span>
      {</span>\n<span id=\"cb2-5\">  <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">content</span><span class=\"ch\" style=\"color:
      #20794D;\nbackground-color: null;\nfont-style: inherit;\">:</span> <span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">attr(</span><span
      class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">data-domain</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">)</span><span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">;</span></span>\n<span
      id=\"cb2-6\">}</span>\n<span id=\"cb2-7\"><span class=\"fu\" style=\"color:
      #4758AB;\nbackground-color: null;\nfont-style: inherit;\">.obfuscated-email-address</span>
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">&gt;</span> <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">*</span> {</span>\n<span id=\"cb2-8\">  <span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">display</span><span
      class=\"ch\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">:</span>
      <span class=\"dv\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">none</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">;</span></span>\n<span id=\"cb2-9\">}</span></code></pre></div>\n<p>The
      result is readable, but can be neither selected nor copied:</p>\n<p><span class=\"obfuscated-mail-address
      dont-touch\" data-user=\"john.doe\" data-domain=\"example.com\"><!--\n--><span>obfuscated
      email address</span></span></p>\n<p>The nested <code>&lt;span&gt;</code> and
      its styling could be omitted, without changing the presentation in most browsers.
      We use it to ensures that everything fails gracefully in browsers with limited
      CSS support. To see why this matters, have a look at this page in a text browser
      like <em>w3m</em> or <em>links</em>.</p>\n</section>\n<section id=\"drawbacks\"
      class=\"level2\">\n<h2 class=\"anchored\" data-anchor-id=\"drawbacks\">Drawbacks</h2>\n<p>The
      biggest advantage of this method is also it\u2019s biggest disadvantage: The
      semantics are broken. The classic markup-code</p>\n<div class=\"sourceCode\"
      id=\"cb3\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode html code-with-copy\"><code
      class=\"sourceCode html\"><span id=\"cb3-1\"><span class=\"dt\" style=\"color:
      #AD0000;\nbackground-color: null;\nfont-style: inherit;\">&lt;</span><span class=\"kw\"
      style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">a</span><span
      class=\"ot\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">
      href</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">=</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"mailto:me@example.com\"</span><span class=\"dt\"
      style=\"color: #AD0000;\nbackground-color: null;\nfont-style: inherit;\">&gt;</span>John
      Doe<span class=\"dt\" style=\"color: #AD0000;\nbackground-color: null;\nfont-style:
      inherit;\">&lt;/</span><span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">a</span><span class=\"dt\" style=\"color: #AD0000;\nbackground-color:
      null;\nfont-style: inherit;\">&gt;</span></span></code></pre></div>\n<p>is rendered
      as <a href=\"mailto:me@example.com\">John Doe</a> and makes it very clear, to
      machines and humans alike, that <em>John Doe</em> can be reached at <em>me@example.com</em>.
      Address munging, like the above, preserves this meaning for humans, but takes
      it away for machines. For better and for worse, browsers, search engines, and
      spam bots will not be aware of the meaning of the obfuscated address.</p>\n<p>These
      effects can be alleviated by resolving to additional javascript:</p>\n<div class=\"sourceCode\"
      id=\"cb4\" style=\"background: #f1f3f5;\"><pre class=\"sourceCode javascript
      code-with-copy\"><code class=\"sourceCode javascript\"><span id=\"cb4-1\"><span
      class=\"co\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">//
      convert obfuscated mail addresses into clickable \"mailto:\" links</span></span>\n<span
      id=\"cb4-2\"><span class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style:
      inherit;\">jQuery</span>(<span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"document\"</span>)<span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">ready</span>(<span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span>($)
      {</span>\n<span id=\"cb4-3\">  <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">var</span> mailAddressClass <span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">\"obfuscated-mail-address\"</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">;</span></span>\n<span
      id=\"cb4-4\">  <span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">$</span>(<span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\".\"</span><span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span>mailAddressClass)<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">each</span>(<span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">function</span>()
      {</span>\n<span id=\"cb4-5\">    <span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">var</span> address <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">=</span> <span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">$</span>(<span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">this</span>)<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">attr</span>(<span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"data-user\"</span>)
      <span class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">+</span> <span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">\"@\"</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span> <span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">$</span>(<span
      class=\"kw\" style=\"color: #003B4F;\nbackground-color: null;\nfont-style: inherit;\">this</span>)<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">attr</span>(<span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"data-domain\"</span>)<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">;</span></span>\n<span
      id=\"cb4-6\">    <span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">$</span>(<span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">this</span>)<span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">html</span>(<span
      class=\"fu\" style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">$</span>(<span
      class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style: inherit;\">\"&lt;a
      href=</span><span class=\"sc\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style:
      inherit;\">\\\"</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">mailto:\"</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span> address <span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">\"</span><span class=\"sc\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">\\\"</span><span class=\"st\" style=\"color: #20794D;\nbackground-color:
      null;\nfont-style: inherit;\">&gt;\"</span> <span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span> address <span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">+</span>
      <span class=\"st\" style=\"color: #20794D;\nbackground-color: null;\nfont-style:
      inherit;\">\"&lt;/a&gt;\"</span><span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">,</span> {}))<span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">;</span></span>\n<span
      id=\"cb4-7\">    <span class=\"fu\" style=\"color: #4758AB;\nbackground-color:
      null;\nfont-style: inherit;\">$</span>(<span class=\"kw\" style=\"color: #003B4F;\nbackground-color:
      null;\nfont-style: inherit;\">this</span>)<span class=\"op\" style=\"color:
      #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">.</span><span class=\"fu\"
      style=\"color: #4758AB;\nbackground-color: null;\nfont-style: inherit;\">removeClass</span>(mailAddressClass)<span
      class=\"op\" style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">;</span></span>\n<span
      id=\"cb4-8\">  })<span class=\"op\" style=\"color: #5E5E5E;\nbackground-color:
      null;\nfont-style: inherit;\">;</span></span>\n<span id=\"cb4-9\">})<span class=\"op\"
      style=\"color: #5E5E5E;\nbackground-color: null;\nfont-style: inherit;\">;</span></span></code></pre></div>\n<p>The
      webpage is still usable with JavaScript turned off, and even fails gracefully
      on text-only browsers. If JavaScript is available, the obfuscated links offer
      the same experience as properly coded <code>&lt;a href=\"mailto:...\"&gt;...&lt;/a&gt;</code>
      links: <span class=\"obfuscated-mail-address\" data-user=\"john.doe\" data-domain=\"example.com\">@</span>.
      I believe this to be a very good trade-off between usability and safety from
      harvesters.</p>\n\n\n</section>\n\n ]]></description>\n  <category>html</category>\n
      \ <category>css</category>\n  <category>javascript</category>\n  <guid>https://tarleb.com/posts/avoiding-spam/</guid>\n
      \ <pubDate>Sun, 25 Aug 2013 00:00:00 GMT</pubDate>\n</item>\n</channel>\n</rss>\n"
    headers:
      Accept-Ranges:
      - bytes
      Access-Control-Allow-Origin:
      - '*'
      Age:
      - '0'
      Cache-Control:
      - max-age=600
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '41144'
      Content-Type:
      - application/xml
      Date:
      - Sun, 19 Jan 2025 10:01:38 GMT
      ETag:
      - W/"66338b19-38f46"
      Last-Modified:
      - Thu, 02 May 2024 12:46:17 GMT
      Server:
      - GitHub.com
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 varnish
      X-Cache:
      - HIT
      X-Cache-Hits:
      - '0'
      X-Fastly-Request-ID:
      - d139bed159459db1c1dd70036ac7c3f950715cc2
      X-GitHub-Request-Id:
      - 5E6A:1172:2A84BC3:2AFEAA2:678CCCAA
      X-Served-By:
      - cache-fra-etou8220171-FRA
      X-Timer:
      - S1737280899.533682,VS0,VE105
      expires:
      - Sun, 19 Jan 2025 10:08:02 GMT
      x-proxy-cache:
      - MISS
    http_version: HTTP/1.1
    status_code: 200
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "[Typst](https://typst.app), the new writing tool,
      was open sourced a\ncouple of days ago. This is right up my alley of course,
      and I have a\ncouple of thoughts on it, which I share here.\n\n::: {#what-is-it
      .section .level2}\n## What is it? {.anchored anchor-id=\"what-is-it\"}\n\nTypst
      is a writing tool that''s described as a LaTeX alternative: it\ntakes plain-text
      markup as input and can produce nice looking PDFs from\nthat. The open-sourcing
      of the code created a lot of excitement and\ninterest, with the [GitHub repository](https://github.com/typst/typst)\ngetting
      starred over 9,000 times in just a few days.\n\nThe tool comes with fresh and
      interesting ideas, impressive technology,\nand a good bit of hype---so let''s
      take a closer look.\n:::\n\n::: {#how-does-it-work .section .level2}\n## How
      does it work? {.anchored anchor-id=\"how-does-it-work\"}\n\nTypst is written
      in [Rust](https://www.rust-lang.org/), a comparatively\nlow-level programming
      language that fixes many shortcomings of other\nlanguages operating in the same
      domain. One interesting feature of Rust\nthat Typst makes use of is compilation
      to web assembly, which allows us\nto run Rust programs in the browser. This
      is how Typst can do the\nblazing fast PDF generation *in the browser!*\n\nOf
      course this only works if it is Rust all the way down, which has\nimportant
      consequences. My first thought when I looked at the code was\nthat it suffered
      from some serious\n[nih](https://en.wikipedia.org/wiki/Not_invented_here) syndrome:\nbasically
      the whole stack is built on libraries written by the Typst\nteam, even when
      high-qualitify open source libraries were available and\ncould have been used
      with Rust.\n\nBut, while nih still seems relevant here and there, the majority
      of\nlibraries make sense when viewed through the lens of wasm-compilation.\nMy
      understanding is that it''s not always easy to compile C libraries to\nwasm.
      And with a complex system like Typst, it is often essential to\nhave full control
      over the underlying libraries. So I think most choices\nare quite reasonable.\n:::\n\n:::
      {#what-makes-it-popular .section .level2}\n## What makes it popular? {.anchored
      anchor-id=\"what-makes-it-popular\"}\n\nThe Typst announcements on sites like
      [Hacker\nNews](https://news.ycombinator.com/item?id=35250210) and\n[lobste.rs](https://lobste.rs/s/ko1yjj/typst_new_markup_based_typesetting)\nranked
      \u2116\u20091, and the tool was mentioned in basically every social media\ncircle
      and chat that I happen to be part of. There''s clearly *a lot* of\ninterest
      in a modernized version of LaTeX. Good ol'' TeX and it''s\nchildren have been
      around for a long while, and have essentially held\nthe monopoly on PDF production
      for typographically advanced documents\n(tools like HTML-to-PDF converters like\n[WeasyPrint](https://weasyprint.org/)
      notwithstanding).\n\nBut the need for a nicer PDF generator is probably not
      the only reason\nwhy Typst gained so much traction. I believe that a lot of
      interest from\nthe programmer community is fueled by the technological choices:
      Rust\nhas the aura of a new and shiny tool that [everyone would like to\nuse](https://stackoverflow.blog/2023/01/26/comparing-tag-trends-with-our-most-loved-programming-languages/),\n*especially*
      the regulars on the aforementioned sites, who share an\ninterest in the latest
      tools. An otherwise equivalent project written in\na \"boring\" language like
      Python would likely have sparked less interest.\n\nI find it also important
      to note that Typst comes with *extensive\ndocumentation* that makes it easy
      to dive right in. It is far too common\nin the programming world to release
      some cool new tool into the wild,\nwhile treating documentation as an unimportant
      afterthought. Yes, I''m\nguilty of that, too. Even the best tool can be unusable
      when its docs\nare missing or sparse. Typst didn''t make this mistake, and I
      think it\npaid off.\n:::\n\n:::::: {#personal-opinions .section .level2}\n##
      Personal opinions {.anchored anchor-id=\"personal-opinions\"}\n\nThis wouldn''t
      be a proper \"old man shakes fist at the clouds\" tech blog\npost if it didn''t
      come with a number of \"I see room for improvements\"\ncomments. Here we go.\n\n:::
      {#scripting .section .level3}\n### Scripting {.anchored anchor-id=\"scripting\"}\n\nOne
      of my main concerns is the scripting language: It seems well\ndesigned, but
      I''m not convinced that it was necessary to create a\ncompletely new language.
      I actually believe that something like Lua,\nwhich is established^1^ but flexlible,
      would have worked well here. But\nwhat''s more is that, if we accept that it
      was necessary to have a custom\nlanguage, I would have preferred one that isn''t
      Turing complete, i.e.,\none where we can be sure that document rendering will
      terminate.\nSomething like [Dhall](https://dhall-lang.org/).\n\nAs it currently
      stands we can neither reuse pre-existing code, nor do we\nhave a guarantee that
      the document will stop evaluating at some point.\nIt feels like a missed opportunity.\n:::\n\n:::
      {#notebooks .section .level3}\n### Notebooks {.anchored anchor-id=\"notebooks\"}\n\nNotebooks
      are a great tool to improve reproducibility in science\nwriting. The code for
      analyses is collocated with the descriptive text\nin a single place. The data
      is closely linked to the final tables and\ngraphics. It is one of the great
      features of\n[Quarto](https://quarto.org/), [Jupyter](https://jupyter.org/),\n[Org](https://orgmode.org/),
      [Stencila](https://stenci.la/),\nMathematica, and so on, which makes them well
      suited for scientific\nwriting in fields like medicine, psychology, and the
      natural sciences.\n\nThis could be an [issue](https://github.com/typst/typst/issues/117)
      for\nTypst, but I believe that it won''t be a problem when Typst is used in\ncombination
      with other tools. John MacFarlane (of\n[CommonMark](https://commonmark.org)
      and [pandoc](https://pandoc.org/)\nfame) has [started work](https://github.com/jgm/pandoc/issues/8713)
      on a\nTypst pandoc writer, which will convert existing Markdown documents to\nTypst,
      and could enable the use of Typst as PDF generator while still\nwriting Markdown
      and Python code in Quarto.\n:::\n\n::: {#accessibility-and-metadata .section
      .level3}\n### Accessibility and metadata {.anchored anchor-id=\"accessibility-and-metadata\"}\n\nIt''s
      good practice to make PDFs accessible, which requires adding\nsemantic information
      to a PDF instead of \"just\" placing characters on a\npage. Accessibility is
      even a legal requirement for government-issued\ndocuments in many countries.
      There are standards like PDF/A-1a and\nPDF/UA that ensure people with disabilities
      can access the information\ncontained in the PDF. This is currently not supperted
      in Typst. LaTeX is\nstill trying to catch up there, too, while\n[ConTeXt](https://wiki.contextgarden.net/)
      and\n[speedata](https://speedata.de/) are doing well, for example.\n:::\n::::::\n\n:::
      {#predictions .section .level2}\n## Predictions {.anchored anchor-id=\"predictions\"}\n\nI
      believe Typst will succeed, but not as a full-fledged writing tool.\nThe greatest
      value I see is in the **responsive, interactive, and even\ncollaborative styling
      of PDFs**. That feature is truly unique and sets\nTypst appart from all other
      software out there. The tool obviously has\nthe potential to reach the critical
      mass of contributors to become a\nsustainable open source project, and the tech
      choices help to attract\nmore developers. Last but not least, the app is shiny,
      works well, and\nmakes people want to use it.\n\nAt the same time, I believe
      that the Typst writing app won''t take hold\nin scientific writing. Most of
      the current enthusiasm is contained to\ntechnical circles, and scientists don''t
      have strong reasons to switch\nyet. To the contrary, journals expect paper submissions
      to be done in\nWord or LaTeX, not PDF. This won''t change anytime soon. Typst
      will have\nto insert itself into the current publishing landscape, and that''s
      not a\ntrivial task.\n\nFor example, [SciFlow](https://sciflow.net/) and\n[Overleaf](https://overleaf.com/)
      already exist, cover most of the\nmarket needs, have a solid headstart, and
      -- this is the important part\n-- are well aligned with the needs of science
      publishers. Any new tool\nhas to compete with them. Also, let''s not forget
      all the other tools\nthat I mentioned above.\n\nRegardless, I''m optimistic
      that Typst can carve out its own business\nniche to occupy. For example, hardly
      any of my points above matter in\nprint publishing. An indie book publisher
      that allows authors to use\nTypst for layouting would be amazing.\n\nI hope
      that the Typst team''s hard work will pay off, and I will continue\nto follow
      their progress with great interest.\n:::\n\n::: {#acknowledgements .section
      .level2}\n## Acknowledgements {.anchored anchor-id=\"acknowledgements\"}\n\nHeart-felt
      thanks to\n[@maegul@hachyderm.io](https://hachyderm.io/@maegul) for the insightful\nfeedback
      on an earlier version of this post, and to [Ilona\nSilverwood](https://ilonasilverwood.github.io/)
      for her skillful\nediting. This post became much better thanks to their input.\n:::\n\n:::
      {#updates .section .level2}\n## Updates {.anchored anchor-id=\"updates\"}\n\nAn
      earlier version listed [Authorea](https://www.authorea.com/) as an\nauthoring
      tool, but the platform has shifted focus since I last looked\nat it, so I''ve
      removed it.\n:::\n\n:::: {#quarto-appendix .default}\n::: {#footnotes .section
      .footnotes .footnotes-end-of-document}\n## Footnotes {.anchored .quarto-appendix-heading}\n\n1.  :::
      {#fn1}\n    I consider [Lua](https://lua.org/) to be *the* language of\n    publishing
      tools. It fuels [pandoc](https://pandoc.org/),\n    [Quarto](https://quarto.org/),\n    [ConTeXt](https://wiki.contextgarden.net/),\n    [LuaLaTeX](http://luatex.org/),
      [speedata](https://speedata.de/),\n    [SILE](https://sile-typesetter.org/),
      and probably a few more.\u21a9\ufe0e\n    :::\n:::\n::::\n", "images": [], "updated_at":
      1679616000, "registered_at": 0, "published_at": 1679616000, "image": null, "language":
      "en", "category": "computerAndInformationSciences", "reference": [], "relationships":
      [], "summary": "Typst, the new writing tool, was open sourced a couple of days
      ago. This is right up my alley of course, and I have a couple of thoughts on
      it, which I share here. What is it?   Typst is a writing tool that\u2019s described
      as a LaTeX alternative: it takes plain-text markup as input and can produce
      nice looking PDFs from that.", "abstract": null, "tags": ["PDF"], "title": "Typst
      Musings", "url": "https://tarleb.com/posts/typst-musings", "guid": "https://tarleb.com/posts/typst-musings/",
      "status": "active", "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/typst-musings"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '10863'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/typst-musings)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc1fc8dff95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:41 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '2'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "Pandoc''s Markdown allows for \"fancy lists\", i.e.,
      lists with different\nstyles used for the marker of ordered list items.\n\nE.g.,
      the list\n\n::: {#cb1 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode
      .markdown .code-with-copy}\n(I)  primus\n(#)  secundus\n(#)  tertius\n```\n:::\n\nuses
      uppercase roman numerals and double parentheses for the markers. It\ngets rendered
      as\n\n> I.  primus\n> II. secundus\n> III. tertius\n\n:::: {#continuations .section
      .level2}\n## Continuations {.anchored anchor-id=\"continuations\"}\n\nThe fancy
      lists feature also allows to continue lists after an\nintermediate paragraph:\n\n:::
      {#cb2 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .markdown
      .code-with-copy}\ni.   one\n#.   another\n\nInterruption; not part of any list.\n\niii.
      continue\n#.   keep counting\n```\n:::\n\nThis becomes\n\n> i.  one\n> ii. another\n>\n>
      Interruption; not part of any list.\n>\n> iii. continue\n> iv. keep counting\n\nWhile
      very convenient, this requires us to carefully keep book of the\nnumber of items
      in previous parts, or risk the item numbering to become\ninconsistent. Imagine
      having to find and update all other list parts\nafter adding a single item somewhere.
      Tedious work, that gets tiresome\nquickly.\n::::\n\n:::: {#convention .section
      .level2}\n## Convention {.anchored anchor-id=\"convention\"}\n\nWanting none
      of this, we magicked a method that allows us to mark a list\nas a continuation.
      This way, we can search for those lists with a Lua\nfilter and let pandoc do
      the counting and numbering for us.\n\nOur convention is this: any list that
      starts with a number of 90 or\nabove is treated as the continuation of a previous
      list. Why 90? Because\nit''s large, but still easy to express using roman numerals,
      should one\nbe inclined to use those.\n\n::: {#cb3 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .markdown .code-with-copy}\ni.  primus\nii. secundus\n\nLorem
      ipsum.\n\nxc. alius item\n#.  ut custodians iens\n```\n:::\n::::\n\n:::: {#lua-doing-the-counting
      .section .level2}\n## Lua doing the counting {.anchored anchor-id=\"lua-doing-the-counting\"}\n\nThe
      next step is to let pandoc do the counting with the help of a Lua\nfilter. In
      its simplest form, the filter will step through all ordered\nlists in the document,
      remember the number of items it has encountered,\nand renumber any list whose
      start is above our chosen threshold.\n\n::: {#cb4 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .lua .code-with-copy}\nlocal next_start = 1\n\nfunction
      OrderedList (ol)\n  if ol.start >= 90 then\n    ol.start = next_start\n    next_start
      = next_start + #ol.content\n  else\n    next_start = #ol.content + 1\n  end\n  return
      ol\nend\n```\n:::\n\nApplied to the example above, the filter produces the desired
      result:\n\n> i.  primus\n> ii. secundus\n>\n> Lorem ipsum.\n>\n> iii. alius
      item\n> iv. ut custodians iens\n::::\n\n:::: {#refinements .section .level2}\n##
      Refinements {.anchored anchor-id=\"refinements\"}\n\nThis is fairly good already.
      But what happens if there are *other* lists\nappearing in the intermediate blocks?\n\n    1.
      First item\n\n    - Nested list:\n\n        a. alfa\n        b. bravo\n        c.
      charlie\n\n    Which list will be continued?\n\n    99. ???\n\nWith the current
      state of our filter, the last item will be numbered\n`d.`, which is most likely
      not what we want. So let''s make the filter\nsensitive to the list style; only
      a list with the matching style will be\ncontinued.\n\nThe style and delimiter
      of ordered list markers can be accessed via the\nelement''s `style` and `delimiter`
      property, respectively. We use those\nvalues to construct a string key under
      which the start number of the\nnext continuation is stored in table `next_starts`.\n\n:::
      {#cb6 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .lua .code-with-copy}\nlocal
      next_starts = {}\n\nfunction OrderedList (ol)\n  local key = ol.style .. ''|''
      .. ol.delimiter\n  if ol.start >= 90 then\n    ol.start = next_starts[key] or
      1\n    next_starts[key] = ol.start + #ol.content\n  else\n    next_starts[key]
      = #ol.content + 1\n  end\n\n  return ol\nend\n```\n:::\n\nThis way we can keep
      track of multiple lists, distinguishing between\nlists by using the style of
      their markers. The above now gets output as\n\n> 1.  First item\n>\n> - Nested
      list:\n>\n>   a.  alfa\n>   b.  bravo\n>   c.  charlie\n>\n> Which list will
      be continued?\n>\n> 2.  ???\n\nJust what we want. Happy list writing!\n::::\n",
      "images": [], "updated_at": 1669593600, "registered_at": 0, "published_at":
      1669593600, "image": null, "language": "en", "category": "computerAndInformationSciences",
      "reference": [], "relationships": [], "summary": "Pandoc\u2019s Markdown allows
      for \u201cfancy lists\u201d, i.e., lists with different styles used for the
      marker of ordered list items. E.g., the list (I)  primus (#)  secundus (#)  tertius  uses
      uppercase roman numerals and double parentheses for the markers. It gets rendered
      as Continuations   The fancy lists feature also allows to continue lists after
      an intermediate paragraph: i.   one #.   another Interruption; not part of any
      list. iii.", "abstract": null, "tags": ["Markdown", "Pandoc", "Filter"], "title":
      "Auto-numbered list continuations", "url": "https://tarleb.com/posts/list-continuation",
      "guid": "https://tarleb.com/posts/list-continuation/", "status": "active", "archive_url":
      "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/list-continuation"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '5635'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/list-continuation)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc205ddaf95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:41 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '1'
      x-kong-upstream-latency:
      - '2'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "Line breaks usually have no semantic meaning within
      a Markdown\nparagraph. However, using line breaks to mark the end of a sentece
      can\nhelp with productivity for various reasons.^1^ Documents with one\nsentence
      per line are also called \"ventilated prose\", and the [Write the\n{Ascii}Docs](https://writetheasciidocs.netlify.app)
      website has a [good\narticle on that\ntopic](https://writetheasciidocs.netlify.app/ventilated-prose).\n\nA
      question came up in a Slack channel, asking whether it was possible to\nconvert
      existing Markdown docs to this style. Naturally, the answer is\n\"pandoc can
      do that\", but that isn''t obvious here.\n\nThe solution that I came up with
      is centered around pandoc''s *SoftBreak*\nAST element. Pandoc uses SoftBreak
      elements internally to mark the place\nwhere line breaks occured in the input,
      but only if those breaks should\nbe treated like spaces in most situations.
      The way to make those breaks\nvisible in the output is to call pandoc with `--wrap=preserve`
      -- only\nthen will a line break in the input result in a break in the output
      in\nthe same location.\n\n    $ printf ''Hello\\npandoc'' | pandoc --to=markdown\n    \u21d2
      Hello pandoc\n\n    $ printf ''Hello\\npandoc'' | pandoc --to=markdown --wrap=preserve\n    \u21d2
      Hello\n    \u21d2 pandoc\n\nWe are going to use SoftBreak for semantic line
      breaks, so the first\nstep is to get rid of the SoftBreak elements created during
      parsing. A\nLua filter can do so with\n\n::: {#cb2 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .lua .code-with-copy}\nSoftBreak = function ()
      return pandoc.Space() end\n```\n:::\n\nThen we check for strings that end with
      a period and are followed by a\nspace. The space in such a combination is then
      turned into a SoftBreak.\n\n::: {#cb3 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .lua .code-with-copy}\nlocal function semantic_line_feeds (el)\n  local
      inlines = el.content\n  for i = 2, #inlines do\n    if inlines[i].t == ''Space''
      and\n       inlines[i-1].t == ''Str'' and\n       inlines[i-1].text:match ''%.$''
      then\n      inlines[i] = pandoc.SoftBreak()\n    end\n  end\n  return el\nend\n\nreturn
      {\n  -- remove soft breaks inserted during parsing.\n  {SoftBreak = function
      () return pandoc.Space() end},\n  -- insert semantic soft breaks\n  {Para =
      semantic_line_feeds, Plain = semantic_line_feeds},\n}\n```\n:::\n\nThis filter
      can then be combined with the `--wrap=preserve` option to\nget the desired semantic
      line breaks.\n\n::: {#cb4 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode
      .bash .code-with-copy}\nprintf ''This. And that.'' | pandoc -L semlf.lua --wrap=preserve\n\u21d2
      This.\n\u21d2 And that.\n```\n:::\n\nThere, mission accomplished.^2^\n\n::::
      {#quarto-appendix .default}\n::: {#footnotes .section .footnotes .footnotes-end-of-document}\n##
      Footnotes {.anchored .quarto-appendix-heading}\n\n1.  ::: {#fn1}\n    It''s
      not my cup of tea, but I can see why people might like the\n    concept.\u21a9\ufe0e\n    :::\n\n2.  :::
      {#fn2}\n    There are some cases in which the filter does not give the correct\n    result,
      for example when using American-style punctuation after\n    quotes, or when
      a full sentence is emphasized. It should be possible\n    to fix the filter
      for these edge cases, but it doesn''t seem worth\n    the effort: the presented
      solution should work fine for 95\u00a0% of all\n    use cases.\u21a9\ufe0e\n    :::\n:::\n::::\n",
      "images": [], "updated_at": 1667088000, "registered_at": 0, "published_at":
      1667088000, "image": null, "language": "en", "category": "computerAndInformationSciences",
      "reference": [], "relationships": [], "summary": "Line breaks usually have no
      semantic meaning within a Markdown paragraph. However, using line breaks to
      mark the end of a sentece can help with productivity for various reasons.\n<sup>\n
      1\n</sup>\nDocuments with one sentence per line are also called \u201cventilated
      prose\u201d, and the Write the {Ascii}Docs website has a good article on that
      topic.", "abstract": null, "tags": ["Markdown", "Pandoc"], "title": "Semantic
      line breaks", "url": "https://tarleb.com/posts/semantic-line-breaks", "guid":
      "https://tarleb.com/posts/semantic-line-breaks/", "status": "active", "archive_url":
      "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/semantic-line-breaks"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '4440'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/semantic-line-breaks)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc20d9fff95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:41 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '1'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "When pandoc is used in larger pipelines, e.g.\u00a0in
      combination with\n[Sphinx](https://sphinx-doc.org), it can be useful to pack
      everything up\ninto one neat container. One option is to base the container
      on a pandoc\nimage like `pandoc/core`, but this may be difficult due to other\ndependencies.
      In this case, the easiest option is to do this:\n\n::: {#cb1 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .dockerfile .code-with-copy}\nCOPY --from=pandoc/minimal:2.19.2
      /pandoc /usr/bin/pandoc\n```\n:::\n\nThe snippet, when added to a Dockerfile,
      copies a statically compiled\nexecutable from an official build to `/usr/bin/pandoc`.
      The static\npandoc binary can run on all Linux distributions, so it does not
      matter\nwhat distro the custom build is based on.\n\nThe documentation for the
      <https://hub.docker.com/r/pandoc/minimal> has\nmore info, including a list of
      supported versions (tags).\n", "images": [], "updated_at": 1662508800, "registered_at":
      0, "published_at": 1662508800, "image": null, "language": "en", "category":
      "computerAndInformationSciences", "reference": [], "relationships": [], "summary":
      "When pandoc is used in larger pipelines, e.g.\u00a0in combination with Sphinx,
      it can be useful to pack everything up into one neat container. One option is
      to base the container on a pandoc image like pandoc/core, but this may be difficult
      due to other dependencies.", "abstract": null, "tags": ["Pandoc", "Tip", "Docker"],
      "title": "Install pandoc in custom Docker images", "url": "https://tarleb.com/posts/tip-install-in-docker",
      "guid": "https://tarleb.com/posts/tip-install-in-docker/", "status": "active",
      "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/tip-install-in-docker"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '1868'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/tip-install-in-docker)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc21ed31f95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:41 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '0'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "When extending pandoc (or Quarto) with Lua filters,
      we interact with\nso-called Lua userdata objects. These objects are used to
      wrap document\nAST elements, making them accessible from Lua scripts. They mostly\nbehave
      like normal Lua tables. This post is intended as a quick\noverview, listing
      interesting properties of userdata objects.\n\n:::::::::::: {#userdata-objects
      .section .level2}\n## Userdata objects {.anchored anchor-id=\"userdata-objects\"}\n\nHaskell-generated
      userdata objects have three main components: a type\n*name*, *properties*, and
      *methods*:\n\n:::: {#type-name .section .level3}\n### Type name {.anchored anchor-id=\"type-name\"}\n\nThe
      *name* can be retrieved with `pandoc.utils.type`. It should be\ntreated as a
      read-only constant. Internally, the *name* is used as a\ntype tag, which is
      important when retrieving an object from a Lua script\nback into the main program.
      It is possible to access the name through\nthe debug interface, e.g.,\n\n:::
      {#cb1 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .lua .code-with-copy}\nfunction
      typename (x)\n  return debug.getmetatable(x).__name\nend\n```\n:::\n\nThe above
      `typename` function is actually a bit faster than\n`pandoc.utils.type`. It can
      improve performance when accessing this info\nin a tight loop, but its use is
      not recommended.\n::::\n\n::: {#properties .section .level3}\n### Properties
      {.anchored anchor-id=\"properties\"}\n\n*Properties*, e.g., the `content` fields
      of *Para* elements, are \"lazy\":\nthe property value is marshaled to Lua when
      the property is accessed for\nthe first time. We are usually interested in no
      more than one or two\nelement properties, so this is a big performance improvement
      for most\nscripts. Lazy properties are especially useful with large objects
      like\n*Pandoc*, which would otherwise take a long time to marshal and\nunmarshal
      with all their child elements.\n\nHowever, this lazy marshaling is slower if
      all properties will be\naccessed anyway. If there are performance issues due
      to lazy properties,\nthen please let me know, and I''ll try to find a fix.\n:::\n\n:::
      {#methods .section .level3}\n### Methods {.anchored anchor-id=\"methods\"}\n\n*Methods*
      are wrapped Haskell functions: when calling a method, the\narguments are unmarshaled
      back into Haskell objects, which are then\npassed to the wrapped function and
      processed in Haskell. The\ncomputation''s result is then pushed back to Lua.\n\nThis
      may sound weirdly complicated. While *it is* slow for very simple\nfunctions
      (like `pandoc.utils.type`), it''s very fast and convenient for\ncomplex methods
      like `Pandoc:walk`: objects with lazy properties are\nfast to unmarshal, the
      main Haskell code is fast, and it frees us from\nhaving to re-implement Haskell
      algorithms in Lua.\n:::\n\n::: {#iterating .section .level3}\n### Iterating
      {.anchored anchor-id=\"iterating\"}\n\nThe properties and methods are listed
      when iterating with `pairs`. The\niteration order is defined at compile time,
      with properties listed\nfirst, followed by methods. We usually try to keep each
      of these lists\nsorted alphabetically, but there may be exceptions.\n\nCalling
      `pairs` on a Haskell userdata object will always succeed, even\nif it has neither
      methods nor properties; the result will be the empty\niterator in that case.\n:::\n\n:::
      {#aliases .section .level3}\n### Aliases {.anchored anchor-id=\"aliases\"}\n\nSome
      objects also have property aliases: E.g., `div.classes` is really\njust an alias
      for `div.attr.classes`. Both entries point to the same\nlist object. Aliases
      are not included in the iterator generated by\n`pairs`. See the internals on
      how to get a hold of them.\n:::\n\n::: {#list-behavior .section .level3}\n###
      List behavior {.anchored anchor-id=\"list-behavior\"}\n\nUserdata objects can
      be made to behave like lists, but iterating over\nthose \"lists\" is comparatively
      slow. That''s why the only object that\nuses this feature is `PANDOC_VERSION`:
      for example, we can write\n`PANDOC_VERSION[2] >= 19` to check *just* the major
      version.^1^\n:::\n\n:::: {#internals .section .level3}\n### Internals {.anchored
      anchor-id=\"internals\"}\n\nEach type has a metatable, which defines its behavior.
      Most users should\nnot need to access the metatable, so the `getmetatable` function
      returns\n`true` instead of the actual metatable when called on a Haskell userdata\nobject.
      As we''ve seen with type names, It''s still possible to inspect\nthe userdata
      metatable with the help of `debug.getmetatable`.\n\nThe metatable has four interesting
      fields: `methods`, `aliases`,\n`getters`, and `setters`. The fields contain
      just what you''d expect.\n\nE.g., we can inspect the list of aliases defined
      for Inline objects with\n\n::: {#cb2 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .lua .code-with-copy}\nlocal InlineMT = debug.getmetatable(pandoc.Str
      '''')\nfor name, keys in pairs(InlineMT.aliases) do\n  -- print the alias name
      and the alias value\n  print(name, ''is an alias for'', table.concat(keys, ''.''))\nend\n```\n:::\n\nDo
      not rely on the internal structure, and do not modify the metatable.\nHere be
      dragons.\n::::\n::::::::::::\n\n:::: {#quarto-appendix .default}\n::: {#footnotes
      .section .footnotes .footnotes-end-of-document}\n## Footnotes {.anchored .quarto-appendix-heading}\n\n1.  :::
      {#fn1}\n    This feature exists only to ensure backwards compatibility. It is\n    better
      to do comparisons in like `PANDOC_VERSION >= ''2.19''`\n    instead.\u21a9\ufe0e\n    :::\n:::\n::::\n",
      "images": [], "updated_at": 1662508800, "registered_at": 0, "published_at":
      1662508800, "image": null, "language": "en", "category": "computerAndInformationSciences",
      "reference": [], "relationships": [], "summary": "When extending pandoc (or
      Quarto) with Lua filters, we interact with so-called Lua userdata objects. These
      objects are used to wrap document AST elements, making them accessible from
      Lua scripts. They mostly behave like normal Lua tables. This post is intended
      as a quick overview, listing interesting properties of userdata objects.", "abstract":
      null, "tags": ["Haskell", "Lua", "Pandoc", "Quarto"], "title": "Haskell usedata
      objects", "url": "https://tarleb.com/posts/haskell-lua-objects", "guid": "https://tarleb.com/posts/haskell-lua-objects/",
      "status": "active", "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/haskell-lua-objects"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '6501'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/haskell-lua-objects)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc226901f95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:41 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '0'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "Setting the document font this way works for ConTeXt,
      LaTeX, and HTML\noutput. The fonts used in docx or odt output must be controlled
      with the\nreference document instead.\n\nThe default LaTeX engine is pdflatex,
      which only supports TeX''s own font\nformat and cannot use the TrueType or OpenType
      fonts installed on the\nsystem. However, XeLaTeX was written with that in mind;
      switching to\nthat engine allows to specify any font available on the system.\n\nA
      good source for free fonts is the [Google\nFonts](https://fonts.google.com)
      repository.\n", "images": [], "updated_at": 1662508800, "registered_at": 0,
      "published_at": 1662508800, "image": "https://tarleb.com/images/pandoc-logo.png",
      "language": "en", "category": "computerAndInformationSciences", "reference":
      [], "relationships": [], "summary": "Setting the document font this way works
      for ConTeXt, LaTeX, and HTML output. The fonts used in docx or odt output must
      be controlled with the reference document instead. The default LaTeX engine
      is pdflatex, which only supports TeX\u2019s own font format and cannot use the
      TrueType or OpenType fonts installed on the system. However, XeLaTeX was written
      with that in mind; switching to that engine allows to specify any font available
      on the system.", "abstract": null, "tags": ["Pandoc", "Tip", "PDF", "HTML"],
      "title": "Document font", "url": "https://tarleb.com/posts/tip-document-font",
      "guid": "https://tarleb.com/posts/tip-document-font/", "status": "active", "archive_url":
      "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/tip-document-font"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '1695'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/tip-document-font)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc22edb4f95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:41 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '1'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "Sitemaps are an easy way to list all pages that a
      search engine should\ncrawl and index. Quarto supports the standard, XML based
      [Sitemap\nProtocol](https://www.sitemaps.org/protocol.html), although that fact
      is\na bit hidden in the docs.\n\nQuarto will automatically produce a sitemap
      if the website''s URL is\ngiven as `site-url` property:\n\n::: {#cb1 .sourceCode
      style=\"background: #f1f3f5;\"}\n``` {.sourceCode .yaml .code-with-copy}\nwebsite:\n  title:
      tarleb\n  site-url: ''https://tarleb.com''\n  site-path: ''/''\n```\n:::\n\nThe
      URL will contain a colon `:`, which is why the YAML value must be\nput in quotes.\n\nYou''ll
      find the `sitemap.xml` file in your `_site` folder after\nre-rendering your
      pages with `quarto render`.\n", "images": [], "updated_at": 1661299200, "registered_at":
      0, "published_at": 1661299200, "image": null, "language": "en", "category":
      "computerAndInformationSciences", "reference": [], "relationships": [], "summary":
      "Sitemaps are an easy way to list all pages that a search engine should crawl
      and index. Quarto supports the standard, XML based Sitemap Protocol, although
      that fact is a bit hidden in the docs.  Quarto will automatically produce a
      sitemap if the website\u2019s URL is given as site-url property: website:   title:
      tarleb   site-url: ''https://tarleb.com''   site-path: ''/''  The URL will contain
      a colon :, which is why the YAML value must be put in quotes.", "abstract":
      null, "tags": ["Quarto"], "title": "Generating a sitemap with Quarto", "url":
      "https://tarleb.com/posts/quarto-sitemap", "guid": "https://tarleb.com/posts/quarto-sitemap/",
      "status": "active", "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/quarto-sitemap"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '1830'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/quarto-sitemap)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc2379aff95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:41 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '0'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "These are the resources that I''d want to have if
      I was to learn about\n[pandoc (the universal document converter)](https://pandoc.org/)
      all\nover again:\n\n::: {#installing .section .level2}\n## Installing {.anchored
      anchor-id=\"installing\"}\n\n[latest release](https://github.com/jgm/pandoc/releases/latest)\n:   The
      GitHub release page has installers for Windows, macOS, and\n    Linux.\n\n[Docker
      images](https://hub.docker.com/u/pandoc)\n\n:   There are three types of pandoc
      Docker images:\n\n    - [minimal](https://hub.docker.com/r/pandoc/minimal) --
      very small,\n      just the bare pandoc binary;\n    - [core](https://hub.docker.com/r/pandoc/core)
      -- includes\n      pandoc-crossref and helpers programs, e.g. those used by
      pandoc\n      for SVG image conversion;\n    - [latex](https://hub.docker.com/r/pandoc/latex)
      -- like core, plus\n      TeXLive with all packages required by the default
      template.\n\n    These images can be used as an alternative to a system-wide\n    installation.
      The image repository descriptions also explain how the\n    images can be used.\n:::\n\n:::
      {#documentation .section .level2}\n## Documentation {.anchored anchor-id=\"documentation\"}\n\n[manual](https://pandoc.org/MANUAL.html)\n\n:   The
      [official pandoc manual](https://pandoc.org/MANUAL.html). When\n    in doubt,
      this should always be the first resource to check. It\n    covers all command
      line options, defaults files settings, format\n    extensions, etc.\n\n    Note
      that this always documents the latest pandoc version. If\n    something isn''t
      working as documented, you may need to update.\n\n[FAQs](https://pandoc.org/faqs.html)\n:   Frequently
      Asked Questions; click on the questions to see the\n    answer.\n\n[Wiki](https://github.com/jgm/pandoc/wiki)\n:   Pandoc''s
      GitHub wiki; contains many additional resources, links, and\n    tips.\n\n[Lua
      filters](https://pandoc.org/lua-filters)\n:   How to modify a document programmatically;
      also documents all\n    constructors and utility functions exposed by pandoc.\n\n[Custom
      reader](https://pandoc.org/custom-readers)\n:   Interface that allows to write
      parsers for otherwise unsupported\n    formats.\n\n[Custom writers](https://pandoc.org/custom-writers)\n:   Interface
      that allows to use pandoc to convert to a custom output\n    format.\n\nFormat-specific
      documentation\n\n:   The support for some formats is tune-able enough to warrant\n    additional
      documentation.\n\n    - [EPUB](https://pandoc.org/epub.html) -- How to make
      an ebook\n    - [Org](https://pandoc.org/org.html) -- Emacs Org-mode\n    -
      [JATS](https://pandoc.org/jats.html) -- The Journal Article Tag\n      Set\n:::\n\n:::
      {#getting-help .section .level2}\n## Getting help {.anchored anchor-id=\"getting-help\"}\n\nPlease
      make sure to search the web before posting.\n\n[pandoc-discuss](https://groups.google.com/g/pandoc-discuss)\n\n:   Official
      pandoc mailing list; usually the best way to get help. The\n    main developers
      and many seasoned users lurk here and answer\n    questions.\n\n    The web
      interface makes it seem like a Google account is required to\n    post, but
      this isn''t so: Write a mail to [*obfuscated mail\n    address*]{.obfuscated-mail-address
      domain=\"googlegroups.com\"\n    user=\"pandoc-discuss+subscribe\"} to subscribe
      to the list with any\n    mail address.\n\n[StackOverflow](https://stackoverflow.com/tags/pandoc/)\n:   Post
      here to reach a more programming oriented group of people.\n    Please *do not*
      cross-post, many people that follow the [pandoc\n    tag](https://stackoverflow.com/tags/pandoc/)
      have also subscribed to\n    the mailing list.\n\n[TeX/LaTeX Stack Exchange](https://tex.stackexchange.com/)\n:   This
      is a good place to ask for help when pandoc is used to generate\n    PDFs via
      LaTeX. Be sure to include the (relevant parts) of the\n    generated LaTeX output
      in your question, as most people there do not\n    use pandoc. Some even seem
      to actively dislike it, so be prepared.\n:::\n\n::: {#misc .section .level2}\n##
      Misc {.anchored anchor-id=\"misc\"}\n\n[pandoc in the fediverse](https://fosstodon.org/@pandoc)\n:   I
      use this Mastodon account to post small tips and updates.\n\n[Quarto](https://quarto.org)\n:   Scientific
      and technical publishing system based on pandoc.\n\n[Zettlr](https://zettlr.com)\n:   Markdown
      editor with \"zettelkasten\" functionality.\n:::\n\n::: {#edits .section .level2}\n##
      Edits {.anchored anchor-id=\"edits\"}\n\n- *2022-12-09*: Added Mastodon account
      in favor of Twitter; the account\n  on the latter platform is no longer updated.\n:::\n",
      "images": [], "updated_at": 1661212800, "registered_at": 0, "published_at":
      1661212800, "image": "https://tarleb.com/posts/pandoc-resources/pandoc.png",
      "language": "en", "category": "computerAndInformationSciences", "reference":
      [], "relationships": [], "summary": "These are the resources that I\u2019d want
      to have if I was to learn about pandoc (the universal document converter) all
      over again: Installing  latest release The GitHub release page has installers
      for Windows, macOS, and Linux. Docker images  There are three types of pandoc
      Docker images: minimal \u2013 very small, just the bare pandoc binary; core
      \u2013 includes pandoc-crossref and helpers programs, e.g. those used by pandoc
      for SVG image conversion;", "abstract": null, "tags": ["Pandoc"], "title": "Pandoc
      resources", "url": "https://tarleb.com/posts/pandoc-resources", "guid": "https://tarleb.com/posts/pandoc-resources/",
      "status": "active", "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/pandoc-resources"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '5708'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/pandoc-resources)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc23fde9f95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:41 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '1'
      x-kong-upstream-latency:
      - '4'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "[Quarto](https://quarto.org) makes it very easy to
      publish a website via\nGitHub Pages: It is as simple as running `quarto publish
      gh-pages`. Here\nwe explore a slightly different method that uses a GitHub Action
      to\npublish the website automatically every time it is updated.\n\n::::: {#classic-github-pages
      .section .level2}\n## Classic GitHub Pages {.anchored anchor-id=\"classic-github-pages\"}\n\nThe
      classic way to publish a website via GitHub pages is to maintain a\nseparate
      branch `gh-pages`. The branch is used to store the rendered\nHTML pages, and
      GitHub will publish the branch''s contents as website\neverytime that branch
      is updated.\n\nQuarto uses this mechanism when called with\n\n::: {#cb1 .sourceCode
      style=\"background: #f1f3f5;\"}\n``` {.sourceCode .bash .code-with-copy}\nquarto
      publish gh-pages\n```\n:::\n\nWe can combine this with GitHub Actions easily,
      ensuring that the site\nis updated every time new content is pushed to the main
      branch.\n\n::: {#cb2 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode
      .yaml .code-with-copy}\n# file: .github/workflows/publish.yml\nname: Publish
      Website\n\n# Allow one concurrent deployment\nconcurrency:\n  group: \"pages\"\n  cancel-in-progress:
      true\n\non:\n  push:\n    branches: [''main'']\n\njobs:\n  quarto-publish:\n    name:
      Publish with Quarto\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout
      repository\n        uses: actions/checkout@v3\n      - name: Install Quarto\n        uses:
      quarto-dev/quarto-actions/setup@v2\n      - name: Publish to GitHub Pages\n        uses:
      quarto-dev/quarto-actions/publish@v2\n        with:\n          target: gh-pages\n```\n:::\n\nThe
      `quart-dev/quart-actions/publish` action calls `quarto publish`\ninternally.
      This is short, to the point, and won''t interfere with local\ncalls to `quarto
      publish gh-pages`.\n:::::\n\n::::: {#actions-only-pages-beta .section .level2}\n##
      Actions-only Pages (Beta) {.anchored anchor-id=\"actions-only-pages-beta\"}\n\nGitHub
      recently added support for GitHub Pages that do not require an\nextra `gh-pages`
      branch. Instead, the website is compiled and pushed\ndirectly from an action.\n\nThis
      takes slightly more code to set up, as the action must be granted\nthe necessary
      permissions. However, it is still fairly short and quick\nto do.\n\n::: {#cb3
      .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .yaml .code-with-copy}\n#
      file: .github/workflows/publish.yml\nname: Publish Website\n\n# Allow one concurrent
      deployment\nconcurrency:\n  group: \"pages\"\n  cancel-in-progress: true\n\n#
      Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages\npermissions:\n  contents:
      read\n  pages: write\n  id-token: write\n\non:\n  push:\n    branches: [''main'']\n\njobs:\n  quarto:\n    runs-on:
      ubuntu-latest\n    environment:\n      name: github-pages\n      url: ${{ steps.deployment.outputs.page_url
      }}\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v3\n      -
      name: Install Quarto\n        uses: quarto-dev/quarto-actions/setup@v2\n      -
      name: Setup Pages\n        uses: actions/configure-pages@v1\n      - name: Render
      Website\n        run: quarto render\n      - name: Upload artifact\n        uses:
      actions/upload-pages-artifact@v1\n        with:\n          path: ''_site''\n      -
      name: Deploy to GitHub Pages\n        id: deployment\n        uses: actions/deploy-pages@main\n```\n:::\n\nNow
      we must change the setting to use the new publishing workflow:\n\nUnder *Settings*
      \u2192 *Pages* \u2192 *Build and deployment* the source must be\nswitched to
      \"GitHub Action\":\n\n::: {.quarto-figure .quarto-figure-center}\n<figure class=\"figure\">\n<p><img\nsrc=\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\"\nclass=\"img-fluid
      figure-img\" /></p>\n<figcaption>Required setting to enable the new method</figcaption>\n</figure>\n:::\n\nThe
      `gh-pages` branch is no longer needed and can be deleted.\n:::::\n\n::: {#trade-offs
      .section .level2}\n## Trade-offs {.anchored anchor-id=\"trade-offs\"}\n\nThe
      branch-based method for GitHub pages always felt slightly inelegant.\nI prefer
      the new method, as it does not require an extra branch and\nfeels much cleaner.
      We lose the ability to update the website via\n`quarto publish`, but as I usually
      rely on GitHub Actions to perform the\nupdates, it doesn''t affect me much:
      `git push` has the same effect.\nHowever, it seems important to be aware of
      this trade-off.\n:::\n", "images": [{"src": "https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png"},
      {"src": "https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png",
      "alt": "Required setting to enable the new method"}], "updated_at": 1659916800,
      "registered_at": 0, "published_at": 1659916800, "image": "https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png",
      "language": "en", "category": "computerAndInformationSciences", "reference":
      [], "relationships": [], "summary": "Quarto makes it very easy to publish a
      website via GitHub Pages: It is as simple as running quarto publish gh-pages.
      Here we explore a slightly different method that uses a GitHub Action to publish
      the website automatically every time it is updated. Classic GitHub Pages   The
      classic way to publish a website via GitHub pages is to maintain a separate
      branch gh-pages.", "abstract": null, "tags": ["Quarto"], "title": "Quarto Website
      with GitHub Actions", "url": "https://tarleb.com/posts/quarto-with-gh-pages",
      "guid": "https://tarleb.com/posts/quarto-with-gh-pages/", "status": "active",
      "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/quarto-with-gh-pages"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '5760'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/quarto-with-gh-pages)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc250e56f95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '1'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "Santa sighted deeply as worry and uncertainty gave
      way, leaving a\nfeeling of relieve and accomplishment. The year was one of the
      worst\nhe''d seen so far. Large numbers of his helpers were moving from the\nNorth
      Pole to Antarctica to satisfy their ambient temperature\npreferences. There
      would be many telecommuting Elves this year, and each\nhelper enjoyed additional
      autonomy. Tying everything together was a\nchallenge. But he had succeeded:
      the wishes processing program was\nfinished, and the elves would be able to
      help Santa from the comfort of\ntheir new homes.\n\n:::::: {#wishes .section
      .level2}\n## Wishes {.anchored anchor-id=\"wishes\"}\n\nThe part of the wishes
      system that Santa had been working on was focused\non classic toys: wooden bricks,
      dolls, and train sets.\n\n::: {#cb1 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .haskell .code-with-copy}\ndata Toy = Bricks | TrainSet | Doll
      deriving Show\n```\n:::\n\nThe system also kept track of basic data about the
      children:\n\n::: {#cb2 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode
      .haskell .code-with-copy}\ndata Behavior = Nice | Naughty deriving (Eq, Show)\n\ndata
      Child = Child\n  { childName     :: Text\n  , childBehavior :: Behavior\n  }
      deriving (Show)\n```\n:::\n\nChildren and toys were tied together in a wish.\n\n:::
      {#cb3 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .haskell
      .code-with-copy}\ndata Wish = Wish\n  { wishingChild :: Child\n  , wishedToy    ::
      Toy\n  } deriving (Show)\n```\n:::\n\nIt was most elegant. The problem for Santa
      was that the Elves, being\nindependent and autonomous workers, needed to access
      and process the\ndata in very custom ways. Unfortunately for him, very few Elves
      had a\nHaskell build environment installed, so he had to distribute the binary.\nWriting
      a completely custom processing language seemed like an enormous\nrabbit hole.\n::::::\n\n:::
      {#lua .section .level2}\n## Lua {.anchored anchor-id=\"lua\"}\n\nFortunately,
      Santa had a better idea: [Lua](https://lua.org/), an\nembeddable scripting language.
      He had been using it for some projects^1^\nand also made use of it in\n[pandoc](https://pandoc.org/lua-filters.html),
      which he used to answer\nhis mails. Santa would just need to expose the relevant
      parts of the\nHaskell system, so the Elves could access and script it as their
      hearts\ndesired. He looked for a library, found\n[HsLua](https://github.com/hslua/hslua),
      and got to work.\n:::\n\n::::: {#exposing-data .section .level2}\n## Exposing
      data {.anchored anchor-id=\"exposing-data\"}\n\nLua has a simple, yet powerful,
      stack-based\n[API](https://www.lua.org/manual/5.4/manual.html#4). The first
      step\ntowards exposing Haskell data was to push them to the Lua stack. Keeping\nthings
      simple, Santa chose strings to represent toys:\n\n::: {#cb4 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .haskell .code-with-copy}\npushToy :: Toy -> Lua
      ()\npushToy = pushString . show\n```\n:::\n\nLua offers only a single construct
      to structure data: tables. So that''s\nwhat Child and Wish were represented
      with.\n\n::: {#cb5 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode
      .haskell .code-with-copy}\npushChild :: Child -> Lua ()\npushChild (Child name
      behavior) = do\n  -- create new Lua table on the stack\n  newtable\n  -- push
      string to stack\n  pushText name\n  -- table now in position 2; assign string
      to field in table\n  setfield (nth 2) \"name\"\n\n  -- push boolean to stack\n  pushBool
      (behavior == Nice)\n  setfield (nth 2) \"nice\"\n\npushWish :: Wish -> Lua ()\npushWish
      (Wish child toy) = do\n  newtable\n  pushChild child\n  setfield (nth 2) \"child\"\n  pushToy
      toy\n  setfield (nth 2) \"toy\"\n```\n:::\n:::::\n\n::::::: {#running-scripts
      .section .level2}\n## Running scripts {.anchored anchor-id=\"running-scripts\"}\n\nSanta''s
      goal for now was to allow his Elves to filter the list of wishes\nso each finds
      the ones relevant to them. For example, if an Elf only\ncares about wishes for
      train sets from children who were nice, then they\nshould be able to use a script
      to filter those wishes out.\n\n::: {#cb6 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .lua .code-with-copy}\nreturn function (wish)\n  return wish.child.nice
      and\n    wish.toy == ''TrainSet''\nend\n```\n:::\n\nThe script returns a (lambda)
      function that serves as a predicate for\nwishes. The function can be thought
      of having the type\n`Wish -> IO Bool`. Santa needed to turn the Lua lambda function
      into an\nactual Haskell function `runPredicate :: Wish -> Lua Bool`. If Santa\nassumed
      that the lambda function was at the top of the Lua stack, then\nhe could push
      a `Wish` value to the Lua stack, call the function, and\nretrieve the result
      value from the stack.\n\n::: {#cb7 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .haskell .code-with-copy}\nrunPredicate :: Wish -> Lua Bool\nrunPredicate
      wish = do\n  -- Assume filter function is at the top of the stack;\n  -- create
      a copy so we can re-use it.\n  pushvalue top\n  pushWish wish\n  -- Call the
      function. There is one argument on the stack,\n  -- and we expect one result
      to be returned.\n  call (NumArgs 1) (NumResults 1)\n  toboolean top <* pop 1\n```\n:::\n\nWhat
      remained was loading the Elves'' script files. Santa did this with\n[`dofile`](https://hackage.haskell.org/package/hslua/docs/Foreign-Lua-Core.html#v:dofile)\nof
      type `FilePath -> Lua Status`. The predicate then ends up on the top\nof the
      Lua stack, and can be called through `runPredicate`, e.g.\u00a0to\nselect a
      subset of wishes via\n[`filterM`](https://hackage.haskell.org/package/base/docs/Control-Monad.html#v:filterM).\n\n:::
      {#cb8 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .haskell
      .code-with-copy}\nmain :: IO ()\nmain = do\n  filterFile <- fmap (!! 0) getArgs
      -- get first argument\n  result <- run $ do\n    _status <- dofile filterFile\n    filterM
      runPredicate wishes\n  print result\n```\n:::\n\nSanta tested his creation on
      a short list of wishes\n\n::: {#cb9 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .haskell .code-with-copy}\nwishes :: [Wish]\nwishes =\n  [ Wish
      (Child \"Theodor\" Nice) Bricks\n  , Wish (Child \"Philine\" Nice) TrainSet\n  ,
      Wish (Child \"Steve\" Naughty) Doll\n  ]\n```\n:::\n\nby running `runhaskell
      wish-filter predicate.lua`. To his uttermost\nsatisfaction, the terminal echoed
      the right information back to him.\n\n    [Wish {wishingChild = Child {childName
      = \"Philine\", childBehavior = Nice}, wishedToy = TrainSet}]\n\nHe reclined
      in his chair, shut down his device, and enjoyed a double\nchocolate chip cookie
      of which he felt very deserving now.\n\n------------------------------------------------------------------------\n\nSanta''s
      full code, as presented here, is available as part of the\nexamples at <https://github.com/hslua/hslua>.\n:::::::\n\n::::
      {#quarto-appendix .default}\n::: {#footnotes .section .footnotes .footnotes-end-of-document}\n##
      Footnotes {.anchored .quarto-appendix-heading}\n\n1.  ::: {#fn1}\n    Santa
      learned about Lua from his game-devs. Now he uses it to keep\n    his security
      teams on their toes with [nmap](https://nmap.org) and\n    [Wireshark](https://wireshark.org/);
      many of the North Pole''s\n    servers contain custom Lua scripts, too\n    ([redis](https://redis.io/commands/eval),\n    [nginx/OpenResty](https://github.com/openresty),\n    [HAProxy](https://www.haproxy.com/blog/5-ways-to-extend-haproxy-with-lua/),\n    [PowerDNS](https://doc.powerdns.com/authoritative/lua-records/index.html)).\u21a9\ufe0e\n    :::\n:::\n::::\n",
      "images": [], "updated_at": 1607212800, "registered_at": 0, "published_at":
      1607212800, "image": null, "language": "en", "category": "computerAndInformationSciences",
      "reference": [], "relationships": [], "summary": "Santa sighted deeply as worry
      and uncertainty gave way, leaving a feeling of relieve and accomplishment. The
      year was one of the worst he\u2019d seen so far. Large numbers of his helpers
      were moving from the North Pole to Antarctica to satisfy their ambient temperature
      preferences. There would be many telecommuting Elves this year, and each helper
      enjoyed additional autonomy. Tying everything together was a challenge.", "abstract":
      null, "tags": ["Lua", "Hslua", "Example"], "title": "Santa\u2019s Little Lua
      Scripts", "url": "https://tarleb.com/posts/santas-little-lua-scripts", "guid":
      "https://tarleb.com/posts/santas-little-lua-scripts/", "status": "active", "archive_url":
      "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/santas-little-lua-scripts"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '8717'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/santas-little-lua-scripts)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc259c3bf95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '3'
      x-kong-upstream-latency:
      - '4'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "A question came up on the Lua mailing list, asking
      whether there was a\nPDF version of the [Lua manual](https://lua.org/manual/5.4/manual.html).\nThis
      is, of course, the home domain of pandoc, and I got nerd-sniped\ninto producing
      a PDF (and ePUB) version of the manual.\n\nThis is a good opportunity to showcase
      some pandoc features. The post\ndescribes the process of going from an HTML
      web page to a PDF file via\nLaTeX and pandoc. We will see how to\n\n1.  quickly
      convert documents with pandoc;\n2.  use Lua filters to improve the result by
      modifying the document; and\n3.  fine-tune the output by setting appropriate
      pandoc options.\n\n:::: {#invoking-pandoc .section .level2}\n## Invoking pandoc
      {.anchored anchor-id=\"invoking-pandoc\"}\n\nThe first step is to call pandoc
      on the Lua manual website. Even when\nkeeping everything bare-bones, the result
      is already decent:\n\n    pandoc --pdf-engine=xelatex --output=lua-manual.pdf
      \\\n        \"https://lua.org/manual/5.4/manual.html\"\n\nProduces\n\n::: {.quarto-figure
      .quarto-figure-center}\n<figure class=\"figure\">\n<p><img\nsrc=\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\"\nclass=\"img-fluid
      figure-img\" /></p>\n<figcaption>First page of unoptimized PDF</figcaption>\n</figure>\n:::\n\nThis
      requires a somewhat recent version of pandoc as well as XeLaTeX to\nbe installed.
      It is possible to forgo the trouble of installing the\nrequirements by using
      the *pandoc/latex* Docker image:\n\n    docker run --rm -v \"$PWD\":/data -u
      $(id -u):$(id -g) pandoc/latex:2.9.2.1 \\\n        --pdf-engine=xelatex --output=lua-manual.pdf
      \\\n        \"https://lua.org/manual/5.4/manual.html\"\n::::\n\n::::: {#replacing-characters
      .section .level2}\n## Replacing characters {.anchored anchor-id=\"replacing-characters\"}\n\nThe
      above commands will produce warnings about characters which are\nunavailable
      in the default fonts. We don''t want characters to go\nmissing, of course, so
      let''s fix that first. The warnings are:\n\n    [WARNING] Missing character:
      There is no \u2264 (U+2264) in font [lmmono10-regular]:!\n    [WARNING] Missing
      character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\n    [WARNING]
      Missing character: There is no \u03c0 (U+03C0) in font [lmroman10-italic]:mapping=tex-text;!\n\nSearching
      the page for `\u2264` shows that it is used in inline code, while\n`\u03c0`
      occurs as emphasized character in the description of `math.pi`. We\ncould, of
      course, search for a font which has the appropriate glyphs and\ninstruct pandoc/LaTeX
      to use it. But we''ll go a different route.\n\nA good way to improve the result
      of a converstion is to use a pandoc\n[Lua filter](https://pandoc.org/lua-filters.html).
      We create a file\ncalled `beautify-manual.lua` and pass it to pandoc via the\n`--lua-filter=beautify-manual.lua`
      command line option.\n\nHandling `\u2264` is straight forward, we just replace
      the char with the\nslightly uglier looking ASCII sequence `<=` in all code elements.\n\n:::
      {#cb4 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .lua .code-with-copy}\nfunction
      Code (c)\n  c.text = c.text:gsub(''\u2264'', ''<='')\n  return c\nend\n```\n:::\n\nWhile
      there is no italics version `\u03c0` in the default font, there *is*\nsuch a
      glyph in the default math font. Pandoc''s internal representation\nfor *\u03c0*
      is `Emph [Str \"\u03c0\"]`, which we replace with a math element\nholding the
      same content.\n\n::: {#cb5 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .lua .code-with-copy}\nfunction Emph (e)\n  local s = e.content[1]\n  if
      #e.content == 1 and s.tag == ''Str'' and s.text == ''\u03c0'' then\n    return
      pandoc.Math(''InlineMath'', ''\u03c0'')\n  end\nend\n```\n:::\n\nThe document
      now compiles without warnings, and all characters are\nproperly included.\n:::::\n\n::::::
      {#add-table-of-contents .section .level2}\n## Add Table of Contents {.anchored
      anchor-id=\"add-table-of-contents\"}\n\nThe Lua manual is long, often used as
      a reference, and, in its HTML\nversion, comes with a table of contents on a
      separate page. The PDF, for\nit to be useful as a reference, should have a table
      of contents as well.\nPandoc can be told to generate a table of contents by
      adding the `--toc`\ncommand line flag. The toc depth is controlled via `--toc-depth`;
      `2` is\na good setting here. However, in this case, the result is neither\npleasing
      nor informative:\n\n::: {.quarto-figure .quarto-figure-center}\n<figure class=\"figure\">\n<p><img
      src=\"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\"\nclass=\"img-fluid
      figure-img\" /></p>\n<figcaption>Bad looking table of contents</figcaption>\n</figure>\n:::\n\nSomething
      is terribly wrong. By inspecting the parsed document by\nrunning `pandoc --to=native
      \u2026`, we see that all *Header*s contain a\n*Span*. That span holds the actual
      contents. Apparently LaTeX does not\nlike this and omits the content of the
      span when generating the toc.\n\nThe span also has the id used by links to the
      header. Numbered sections\nstart with the section number, which we''d rather
      produce via pandoc.\n\n::: {#cb6 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .lua .code-with-copy}\nfunction Header (h)\n  -- Unnumbered sections
      have the main contents as the first element.\n  -- Numbered sections start with
      the number and an em-dash, so\n  -- the Span is the fifth element (Lua multipass).\n  local
      span\n  if h.content[1].tag == ''Str'' and h.content[1].text:match ''[%d%.]+''
      then\n    span = h.content[5]\n  else\n    span = h.content[1]\n    h.classes:insert(''unnumbered'')\n  end\n\n  h.identifier
      = span.identifier\n  h.content = span.content\n\n  return h\nend\n```\n:::\n\nThe
      filter also removes the section numbering. We add it back by passing\n`--number-sections`
      to pandoc.\n\n::: {.quarto-figure .quarto-figure-center}\n<figure class=\"figure\">\n<p><img\nsrc=\"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\"\nclass=\"img-fluid
      figure-img\" /></p>\n<figcaption>less-bad table of contents</figcaption>\n</figure>\n:::\n\nNot
      bad.\n::::::\n\n:::: {#improve-title-and-metadata .section .level2}\n## Improve
      title and metadata {.anchored anchor-id=\"improve-title-and-metadata\"}\n\nThe
      PDF is already quite usable, let''s prettify it a bit more: It would\nbe important
      to properly list the authors in the title and metadata,\nremove the unnecessary
      first header, and maybe add the Lua logo to the\ntitle. All this is easiest
      when acting on the full document.\n\n::: {#cb7 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .lua .code-with-copy}\nfunction Pandoc (doc)\n  --
      comma separated authors\n  local authors = doc.blocks[2]\n  authors.content:remove(1)  --
      remove ''by''\n  doc.meta.author = pandoc.List()\n  for author in pandoc.utils.stringify(authors):gmatch
      ''[^,]+'' do\n    doc.meta.author:insert(author)\n  end\n\n  -- Remove unnecessary
      blocks\n  doc.blocks:remove(4) -- menubar\n  doc.blocks:remove(2) -- authors
      paragraph\n  doc.blocks:remove(1) -- title header\n\n  -- add subtitle image\n  doc.meta.subtitle
      = pandoc.MetaInlines{\n    pandoc.RawInline(''latex'', ''\\\\vspace{1em}''),\n    pandoc.Image(\"Lua
      logo\", -- \"https://www.lua.org/images/lua-logo.gif\")\n  }\n  return doc\nend\n```\n:::\n::::\n\n:::
      {#final-touch .section .level2}\n## Final touch {.anchored anchor-id=\"final-touch\"}\n\nFinally,
      we may want the PDF to add a little more visible structure,\ne.g., starting
      top-level sections on their own page.\n\nThe command used by pandoc to create
      the top level headings can be\ncontrolled with the `--top-level-division` option.
      Setting that option\nto `chapter` ensures that each major section starts on
      a new page.\nHowever, the default document class used by LaTeX doesn''t allow\nchapters,
      so a different class has to be set with\n`--variable documentclass=report`.\n:::\n\n::::
      {#summary .section .level2}\n## Summary {.anchored anchor-id=\"summary\"}\n\nFor
      completeness, [here is the complete filter](lua-manual-cleanup.lua),\nand this
      is the full pandoc command used to generate the PDF:\n\n::: {#cb8 .sourceCode
      style=\"background: #f1f3f5;\"}\n``` {.sourceCode .bash .code-with-copy}\npandoc
      \\\n  --toc \\\n  --toc-depth=2 \\\n  --metadata=documentclass=report \\\n  --pdf-engine=xelatex
      \\\n  --lua-filter=lua-manual-cleanup.lua \\\n  --number-sections \\\n  --top-level-division=chapter
      \\\n  --output=lua-5.4-manual.pdf \\\n  \"https://lua.org/manual/5.4/manual.html\"\n```\n:::\n\nOne
      of the big advantages of pandoc is that it offers a lot of freedom.\nSince we
      already cleaned the content up, we can now also create other\nformats, like
      an ebook, just by changing the name of the output file.\nThe final results are
      available below:\n\n- [Lua 5.4 manual (PDF)](lua-5.4-manual.pdf)\n- [Lua 5.4
      manual (EPUB)](lua-5.4-manual.epub)\n::::\n", "images": [{"src": "https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png"},
      {"src": "https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png"}, {"src":
      "https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png"}, {"src":
      "https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png", "alt":
      "First page of unoptimized PDF"}, {"src": "https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png",
      "alt": "Bad looking table of contents"}, {"src": "https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png",
      "alt": "less-bad table of contents"}], "updated_at": 1594425600, "registered_at":
      0, "published_at": 1594425600, "image": "https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png",
      "language": "en", "category": "computerAndInformationSciences", "reference":
      [], "relationships": [], "summary": "A question came up on the Lua mailing list,
      asking whether there was a PDF version of the Lua manual. This is, of course,
      the home domain of pandoc, and I got nerd-sniped into producing a PDF (and ePUB)
      version of the manual. This is a good opportunity to showcase some pandoc features.
      The post describes the process of going from an HTML web page to a PDF file
      via LaTeX and pandoc. We will see how to quickly convert documents with pandoc;",
      "abstract": null, "tags": ["Pandoc", "Lua", "Pdf"], "title": "PDF Version of
      the Lua Manual", "url": "https://tarleb.com/posts/pdf-of-the-lua-manual", "guid":
      "https://tarleb.com/posts/pdf-of-the-lua-manual/", "status": "active", "archive_url":
      "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/pdf-of-the-lua-manual"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '10567'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/pdf-of-the-lua-manual)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc262a1ff95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '4'
      x-kong-upstream-latency:
      - '7'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "My first exposure to Lua has been as a pandoc user,
      and adding new Lua\nfeatures to pandoc turned Lua into one of my favorite languages.
      In this\npost I will take a look at [pandoc](https://pandoc.org/), the universal\ndocument
      converter, and explore how one can script and extend it with\nLua. Pandoc includes
      a Lua interpreter since 2012, but the integration\nof Lua has been expanded
      significantly with the latest 2.0 release. My\nhope for this article is to highlight
      the beauty of these systems.\n\n:::: {#the-universal-document-converter .section
      .level2}\n## The universal document converter {.anchored anchor-id=\"the-universal-document-converter\"}\n\n[Pandoc](https://pandoc.org/)
      -- written and maintained by [John\nMacFarlane](https://johnmacfarlane.net)
      -- is an relatively old project.\nIt has grown considerably since the first
      version was published in 2006:\nat the time of writing, pandoc can read 27 different
      document formats\nand dialects, and can write 49 formats. Besides serving as
      a one-off\ndocument conversions tool, pandoc also frequently features as the\ncentral
      part of publishing pipelines. For example, Pandoc is used in\n[static](https://github.com/mfenner/jekyll-pandoc)
      [site\ngenerators](https://jaspervdj.be/hakyll/) and is frequently used [by\nacademic\nwriters](https://programminghistorian.org/lessons/sustainable-authorship-in-plain-text-using-pandoc-and-markdown),\ndue
      also to its excellent support for citations.\n\nAs a brief example, consider
      the following commands which transform\nMarkdown input into docx, HTML, or PDF:\n\n:::
      {#cb1 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .bash .code-with-copy}\n#
      command to convert a markdown file to docx\npandoc input-file.md --output=output-file.docx\n\n#
      convert to HTML\npandoc input-file.md --standalone --output=output-file.html\n\n#
      convert to PDF (via LaTeX)\npandoc input-file.md --output=output-file.pdf\n```\n:::\n\nMany
      conversion tasks need to alter the default behavior or require\nspecial conversion
      features. This highlights the importance of good\ncustomization support for
      a conversion tool, one of the areas in which\nLua shines.\n\nPandoc is unusual
      for a Lua-extendable program, in that it is written in\nHaskell. Using Haskell
      is very productive, but is less suitable as an\nextension language: its concepts
      are often alien to users of other\nlanguages, and shipping a full Haskell interpreter
      with pandoc would\nresult in considerable bloat. Lua is an excellent choice
      here, as it is\nlightweight, simple, and beautiful. It should be noted, however,
      that\n[bridging Haskell and Lua](https://github.com/hslua) is its own can of\nworms
      and worth a separate blog post.\n::::\n\n::: {#pandocs-document-ast .section
      .level2}\n## Pandoc''s document AST {.anchored anchor-id=\"pandocs-document-ast\"}\n\nAn
      important factor in pandoc''s immense transformation powers is its use\nof a
      unifying document representation: Every input is parsed into this\ndocument
      AST, which is then rendered in the desired output format. While\na direct conversion
      between any of *n* input and *m* output formats\nwould require *n* m\\* converters,
      using an intermediate representation\nreduces complexity to *n + m*.\n\nThere
      are additional advantages to this: as we''ll see, it becomes much\nsimpler to
      work with a unified document representation than it would be\nto work with any
      of the input or output formats directly.\n\nThere are four main types in pandoc''s
      document model: inlines, blocks,\ndocument metadata, and the full document.\n\n-
      Inline elements represent text and text markup. Examples are *Space*\n  for
      inter-word spaces, *Str* for (usually non-whitespace) text, and\n  *Emph* for
      emphasized text.\n\n- Blocks are elements like paragraphs, lists, code listings,
      and\n  headers. They are usually rendered in lines or blocks of their own;\n  many
      block elements contain lists of inline elements.\n\n- Meta information is a
      simple mapping from string keys to meta values.\n  Meta values can be thought
      of as a special JSON or YAML object.\n\n- Last but not least, the *Pandoc* type
      represents a full document. A\n  *Pandoc* element consists of a lists of block
      elements, plus\n  additional document metadata.\n\nPandoc''s Lua features revolve
      around modifying or converting these\nelements. The oldest use of Lua in pandoc
      enables the conversion of AST\nelements into strings as to output any document
      format.\n:::\n\n:::: {#custom-writers .section .level2}\n## Custom writers {.anchored
      anchor-id=\"custom-writers\"}\n\nUsers can define custom writers in Lua to render
      any document format.\nEach of the aforementioned AST elements is transformed
      to a string by\ncalling a Lua function of the same name as the element. E.g.,
      this\nexample demonstrates how emphasized text can be rendered as HTML:\n\n:::
      {#cb2 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .lua .code-with-copy}\nfunction
      Emph(content_string)\n  return ''<em>'' .. content_string .. ''</em>''\nend\n```\n:::\n\nA
      full custom writer is defined by specifying functions for all document\nAST
      elements. Example writers using this method include\n[2bbcode](https://github.com/lilydjwg/2bbcode)
      by [@lilydjwg (\u4f9d\n\u4e91)](https://github.com/lilydjwg), as well as pandoc''s
      `sample.lua`. The\nlatter is a well documented starting point for authors of
      new custom\nwriters. The file can be produced by calling\n`pandoc --print-default-data-file=sample.lua`.\n\nThe
      [pandoc-scholar](https://pandoc-scholar.github.io/) project serves\nas an example
      for the power offered by custom writers. It is a\npublishing tool intended to
      [help authors of scholarly\narticles](https://doi.org/10.7717/peerj-cs.112)
      and was created with\ncustom Lua writers. The tool leans on the custom writers
      feature in ways\nthat writers were not intended to be used, which resulted in
      the\ndevelopment of lua filters.\n::::\n\n:::::: {#filters .section .level2}\n##
      Filters {.anchored anchor-id=\"filters\"}\n\nAn additional benefit of a unified
      document type is that the document\ncan be modified programmatically, regardless
      of which input and output\nformat is chosen. Pandoc provides two interfaces
      for this.\n\n::: {#json-filters .section .level3}\n### JSON Filters {.anchored
      anchor-id=\"json-filters\"}\n\nThe first -- very flexible -- method is based
      on JSON. Pandoc can\nserialize the document to JSON; other programs [can read
      and\nmodify](https://pandoc.org/filters.html) the document. The resulting\ndocument
      JSON is passed back to pandoc, thus allowing users to use any\nprogramming language
      capable of parsing JSON to alter the document. Many\nlibraries for various languages
      have been implemented, including\n[Haskell](https://hackage.haskell.org/package/pandoc-types),\n[Python](http://scorreia.com/software/panflute/),\n[Ruby](https://heerdebeer.org/Software/markdown/paru/),
      and\n[JavaScript](https://www.npmjs.com/package/pandoc-filter).\n\nThe flexibility
      of JSON filters can also be a disadvantage, as it\nrequires additional software
      and usually the full installation of a\nscripting language''s ecosystem. Pandoc
      is designed to work on all major\nplatforms and without any dependencies on
      other libraries and binaries.\nDepending on additional software can be problematic,
      especially for\nnon-technical users.\n:::\n\n:::: {#lua-filters .section .level3}\n###
      Lua filters {.anchored anchor-id=\"lua-filters\"}\n\nThe [Lua filter](https://pandoc.org/lua-filters.html)
      system added in\npandoc 2.0 not only solves the portability issue of JSON filters,
      but\nalso offers better performance and more functionality. Document elements\ncan
      be selectively serialized to Lua tables, modified using the full\npower of Lua,
      and will then be transferred back, thus replacing the\nprevious values.\n\nLua
      filters operate by calling filter functions on each element of the\nspecified
      name. I.e., if a Lua filter contains a function with the same\nname as an AST
      element, then this function is called for all elements of\nthe respective type.
      The serialized element is passed as input to the\nfilter function, and the function''s
      return value is deserialized and\nused to replace the input element. This method
      is as simple as it is\nflexible, and fits well with the concept of immutability
      which is\nprevalent in Haskell programs: pandoc ignores modifications to the\nserialized
      object itself, it will just use the filter function''s return\nvalue.\n\nThe
      following example filter transforms all text set in small caps into\nemphasized
      text:\n\n::: {#cb3 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode
      .lua .code-with-copy}\nfunction SmallCaps (element)\n  return pandoc.Emph(element.content)\nend\n```\n:::\n\nThe
      element constructor functions in module pandoc, like `pandoc.Emph`\nin the above
      example, are also the central step when transforming\nelements from their pandoc-internal
      representation to Lua values. This\nensures consistency in the way element values
      are produced, whether\nduring serialization or through a constructor call in
      the filter script.\nThe current implementation uses only strings, tables, and
      some\nmetatables when constructing element values, with the goal of marking\nthese
      values easy and flexible to use.\n::::\n::::::\n\n:::::: {#lua-filter-example-macro-expander
      .section .level2}\n## Lua filter example: macro expander {.anchored anchor-id=\"lua-filter-example-macro-expander\"}\n\nBelow
      is the code for a simple macro expander using pandoc''s Lua filter\nfunctionality.
      The expander replaces all macro occurrences in the given\ndocument. Macro definitions
      are hard-coded into the filter, but could as\nwell be read from an external
      file.\n\n::: {#cb4 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode
      .lua .code-with-copy}\n-- file: macro-expander.lua\n\n-- Macro substitutions:
      contains macro identifier as\n-- keys and the expanded inlines as values.\nlocal
      macro_substs = {\n  [''{{hello}}''] = pandoc.Emph{pandoc.Str \"Hello, World!\"}\n}\n\n--
      Replace string with macro expansion, if any.\nfunction Str (s)\n  return macro_substs[s.text]
      or s\nend\n```\n:::\n\nThe heart of the macro expander is the function `Str`.
      It is called on\nall simple strings in the document. The return value of this
      function is\nthen read back into pandoc, replacing the original `Str` value.\n\nAssume
      a Markdown file `greeting.md`:\n\n    Greeting: {{hello}}\n\nWe can apply the
      macro expander by calling\n\n::: {#cb6 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .bash .code-with-copy}\npandoc --lua-filter macro-expander.lua
      greeting.md\n```\n:::\n\nresulting in the expected expansion:\n\n> Greeting:
      *Hello, World!*\n\nThe function `Str` could be shortened further by dropping
      the trailing\n`or s`:\n\n::: {#cb7 .sourceCode style=\"background: #f1f3f5;\"}\n```
      {.sourceCode .lua .code-with-copy}\nfunction Str (s) return macro_substs[s.text]
      end\n```\n:::\n\nThis is a convenience feature of pandoc filters: if the function
      returns\nno value (or `nil`), the original value is kept unchanged. This makes\nfilter
      functions easier to write and speeds up filtering, as unchanged\nelements don''t
      need to be deserialized again.\n::::::\n\n::: {#whats-good-and-whats-next .section
      .level2}\n## What''s good, and what''s next {.anchored anchor-id=\"whats-good-and-whats-next\"}\n\nUsing
      pandoc with Lua is a fast, flexible, and platform independent way\nof augmenting
      pandoc with additional functionality. For me personally,\nhaving the full power
      of Lua at ones finger tips proved to be a lot of\nfun, while opening unexpected
      document processing possibilities.\n\nPandoc and its Lua subsystem are under
      constant development. E.g., the\nnext versions will feature more utility functions
      exposed via Lua\nmodules. There is constant work to make more and more internal
      functions\navailable. The next big goal is to grant scripting access to all\nformat-output
      functions. However, this requires some changes to pandoc''s\ninternals. It remains
      a long way for pandoc to become a fully\nLua-scriptable publishing platform.\n\nIf
      you want to learn more about Lua filters, the [Lua filter\ndocs](https://pandoc.org/lua-filters.html)
      is a good place to start. It\nincludes up-to-date examples of Lua scripts, as
      well as a reference of\nall modules and functions accessible via Lua. Pandoc''s
      [user\nmanual](https://pandoc.org/MANUAL.html) is a good resource to learn\nabout
      all of pandoc features and its command line options.\n\n[Feedback](https://groups.google.com/forum/#!forum/pandoc-discuss)
      is\nalways welcome!\n:::\n\n::: {#acknowledgements .section .level2}\n## Acknowledgements
      {.anchored anchor-id=\"acknowledgements\"}\n\nA big thank you to Jennifer K\u00f6nig,
      Birgit Pohl, and John MacFarlane for\ntheir feedback on an earlier version of
      this post, and to all pandoc\ncontributors and users, who make working on this
      project incredibly fun.\n:::\n", "images": [], "updated_at": 1513987200, "registered_at":
      0, "published_at": 1513987200, "image": null, "language": "en", "category":
      "computerAndInformationSciences", "reference": [], "relationships": [], "summary":
      "My first exposure to Lua has been as a pandoc user, and adding new Lua features
      to pandoc turned Lua into one of my favorite languages. In this post I will
      take a look at pandoc, the universal document converter, and explore how one
      can script and extend it with Lua. Pandoc includes a Lua interpreter since 2012,
      but the integration of Lua has been expanded significantly with the latest 2.0
      release.", "abstract": null, "tags": ["Pandoc", "Lua", "Pandoc-filter"], "title":
      "Extending pandoc with Lua", "url": "https://tarleb.com/posts/extending-pandoc-with-lua",
      "guid": "https://tarleb.com/posts/extending-pandoc-with-lua/", "status": "active",
      "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/extending-pandoc-with-lua"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '13971'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/extending-pandoc-with-lua)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc26cf4af95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '9'
      x-kong-upstream-latency:
      - '5'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "Last night was the night of this year''s MetaNook.
      It was the fourth time\nthat the local hackers, most notably [MetaMeute](https://metameute.de)\nand
      [Chaotikum](https://chaotikum.org), joined forces to organize a\nnight full
      of beginner-friendly introductions, advanced tech talks, and\nproject presentations.\n\nMy
      [talk contribution](https://github.com/tarleb/shell-talk) this year\nwas a brief
      introduction in the \"magic\" of the command-line. The talk\nslides are adapted
      to the topic in that the presentation must be given\nfrom the command line.
      Each slide is just a function, the whole\npresentation environment is held together
      by scripts and other\nshell-equivalences of duckt-tape. Feedback from the thirty
      or-so\nattendees was mostly positive.\n\nIt was a very fun experience over all,
      as usual.\n", "images": [], "updated_at": 1416614400, "registered_at": 0, "published_at":
      1416614400, "image": null, "language": "en", "category": "computerAndInformationSciences",
      "reference": [], "relationships": [], "summary": "Last night was the night of
      this year\u2019s MetaNook. It was the fourth time that the local hackers, most
      notably MetaMeute and Chaotikum, joined forces to organize a night full of beginner-friendly
      introductions, advanced tech talks, and project presentations. My talk contribution
      this year was a brief introduction in the \u201cmagic\u201d of the command-line.",
      "abstract": null, "tags": ["Talk", "Command-line"], "title": "MetaNook2014 \u2013
      Command Line Talk", "url": "https://tarleb.com/posts/nook-2014", "guid": "https://tarleb.com/posts/nook-2014/",
      "status": "active", "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/nook-2014"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '1822'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/nook-2014)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc276c38f95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '0'
      x-kong-upstream-latency:
      - '10'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "The zeitkraut server is configured to work with IPv6.
      For quite some\ntime now, I''ve been seeing some strange errors in my log files.
      If\nyou''ve been noticing something similar, here is what''s going on and how\nto
      prevent the messages from appearing.\n\n::: {#the-problem .section .level2}\n##
      The Problem {.anchored anchor-id=\"the-problem\"}\n\nEverything works as expected,
      except for some weird messages in the\nlogs:\n\n    rt6_redirect: source isn''t
      a valid nexthop for redirect target\n\nNot even [startpage](https://startpage.com)
      was of much help. Searching\nfor the above line only lists only some\n[unanswered](http://ubuntuforums.org/archive/index.php/t-1947743.html)\n[forum](http://board.gulli.com/thread/1699675-rt6-redirect-source-isn-t-a-valid-nexthop/)\nquestions
      and the kernel source code which is producing the message. Oh,\nand a somewhat
      unhelpful blog entry\n[telling](https://www.kernel-error.de/kernel-error-blog/189-rt6-redirect-source-isn-t-a-valid-nexthop-for-redirect-target)\npeople
      to always use their routers link local address when routing. This\nis useless
      advice in my case, I don''t *have* a link-local address of the\nrouter, only
      it''s global address.\n:::\n\n::: {#the-cause .section .level2}\n## The Cause
      {.anchored anchor-id=\"the-cause\"}\n\nI found a way to stop the message from
      appearing in my logs. On the way,\nI learned a bit more about IPv6 and improved
      server security on the way.\n\nIPv6 contains functionality to tell a computer
      about better routes to\nthe target destination. A router may send ICMPv6 redirect
      packages (type\n137 to be specific), informing neighboring computers about more\neffective
      ways to reach their targets. This makes the most sense when\napplied within
      an environment heavily relying on auto-configuration --\nlike a dynamic internal
      company or home network. It makes a lot less\nsense for servers very stable
      network topologies.\n\nAttackers may try to exploit the redirect functionality
      by including\nthemselves into the route to the target. The specification for
      those\nredirects includes some security-measures, requiring the attacker to\ncorrectly
      guess the server''s current next hop. If the attackers get it\nwrong, the Linux
      kernel refuses to use the new routing information. This\nis most-likely what
      happens when you see the above log messages.\n:::\n\n::: {#the-solution .section
      .level2}\n## The Solution {.anchored anchor-id=\"the-solution\"}\n\nLong talk
      short, the solution is to disable IPv6 redirecting:\n\n    sudo sysctl net.ipv6.conf.all.accept_redirects=0\n\nMy
      server is not a router, so there is no need to accept any kind of\nroute changing
      messages from external sources. We can simply disable\nredirects, using above
      command. The change can be made permanent by\nsetting the value in `/etc/sysctl.conf`.
      In fact, we can disable routing\nfor both IPv4 and IPv6. Be careful though,
      you might happen to be in a\nnetwork environment requiring you to accept redirect
      commands for some\nreason.\n\nIf you are on Debian or similar distribution like
      Ubuntu, change the\nfollowing lines in `/etc/sysctl.conf` from\n\n    # Do not
      accept ICMP redirects (prevent MITM attacks)\n    #net.ipv4.conf.all.accept_redirects
      = 0\n    #net.ipv6.conf.all.accept_redirects = 0\n    # _or_\n    # Accept ICMP
      redirects only for gateways listed in our default\n    # gateway list (enabled
      by default)\n    # net.ipv4.conf.all.secure_redirects = 1\n    #\n    # Do not
      send ICMP redirects (we are not a router)\n    #net.ipv4.conf.all.send_redirects
      = 0\n    #\n    # Do not accept IP source route packets (we are not a router)\n    #net.ipv4.conf.all.accept_source_route
      = 0\n    #net.ipv6.conf.all.accept_source_route = 0\n\nto\n\n    # Do not accept
      ICMP redirects (prevent MITM attacks)\n    net.ipv4.conf.all.accept_redirects
      = 0\n    net.ipv6.conf.all.accept_redirects = 0\n    #\n    # Do not send ICMP
      redirects (we are not a router)\n    net.ipv4.conf.all.send_redirects = 0\n    #\n    #
      Do not accept IP source route packets (we are not a router)\n    net.ipv4.conf.all.accept_source_route
      = 0\n    net.ipv6.conf.all.accept_source_route = 0\n\nRunning `sudo sysctl -p`
      loads the new settings.\n:::\n\n::: {#alternative-solution .section .level2}\n##
      Alternative Solution {.anchored anchor-id=\"alternative-solution\"}\n\nCompletely
      disabling redirects in the kernel should keep you reasonably\nsecure. However,
      if you need redirects within your internal network, you\ncould also block redirect
      packages reaching you through external\ninterfaces. E.g., to block redirect
      packages coming in on eth1, one\nwould issue\n\n    sudo ip6tables -A -i eth1
      -p icmpv6 --icmpv6-type 137 -j DROP\n\nHowever, firewall configuration is a
      complex topic, so I''m not going to\ngo into details here.\n\nIf you have any
      questions, corrections or comments on the matter, please\ndrop me a line.\n:::\n",
      "images": [], "updated_at": 1406851200, "registered_at": 0, "published_at":
      1406851200, "image": null, "language": "en", "category": "computerAndInformationSciences",
      "reference": [], "relationships": [], "summary": "The zeitkraut server is configured
      to work with IPv6. For quite some time now, I\u2019ve been seeing some strange
      errors in my log files. If you\u2019ve been noticing something similar, here
      is what\u2019s going on and how to prevent the messages from appearing. The
      Problem   Everything works as expected, except for some weird messages in the
      logs: rt6_redirect: source isn''t a valid nexthop for redirect target  Not even
      startpage was of much help.", "abstract": null, "tags": ["Security", "Sysadmin"],
      "title": "rt6_redirect: source isn\u2019t a valid nexthop for redirect target",
      "url": "https://tarleb.com/posts/rt6_redirect", "guid": "https://tarleb.com/posts/rt6_redirect/",
      "status": "active", "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/rt6_redirect"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '6008'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/rt6_redirect)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc286e2af95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '1'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "Having a good working environment is vital for feeling
      comfortable being\nproductive. This extends to computational tools and the [command\nshell](https://en.wikipedia.org/wiki/command%20shell)
      is an integral\npart of the daily work for many of us. It''s a good idea to
      configure the\nshell''s interface to be efficient and pleasant to use. Here
      we see how\n`zsh`{.verbatim}, arguably the best shell around, can be configured
      to\nsuit the needs of people used to vi key bindings (which are arguably\narguably
      superior and more ergonomical than the default emacs-style\nbindings)^1^.\n\n:::::
      {#using-vi-bindings-in-the-shell .section .level2}\n## Using vi-bindings in
      the shell {.anchored anchor-id=\"using-vi-bindings-in-the-shell\"}\n\nThe first
      step towards nice vi key bindings is almost too easy: The red\npill takes the
      form of\n\n::: {#cb1 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode
      .bash .code-with-copy}\nbindkey -v\n```\n:::\n\nType it into your prompt (and
      add it to your `.zshrc`{.verbatim} file)\nand emacs bindings are going bye-bye.
      `Escape`{.verbatim} will bring you\nto normal-mode, while `i`, `a`, `o` etc.
      will bring you back to\ninsert-mode, just as with your favorite editor. Use
      `j` and `k` in\nnormal-mode to go through your history and move around within
      the line\nwith `h`, `l`, `w`, `b` and the like.\n\nThis is a good start, let''s
      see how we can bring it from \"this is nice\"\nto \"that''s just awesome\".\n\nFirst,
      we may want to keep some of the default key bindings in\ninsert-mode since we''ve
      grown accustomed to them. No missing out, let''s\nput them back in:\n\n::: {#cb2
      .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .bash .code-with-copy}\n#
      Kill input from the current point to the end of line with Ctrl-k\nbindkey ''^k''
      kill-line\n# Search the history incremantally with Ctrl-r\nbindkey ''^r'' history-incremental-search-backward\n#
      Insert and go through the \"last words\" of previous commands with Meta-.\n#
      (or Escape-. for that matter).\nbindkey ''^[.'' insert-last-word\n# Show the
      man-page or other helpful infos with Meta-h\nbindkey ''^[h'' run-help\n```\n:::\n\nYou
      can take a look at the key bindings defined for emacs-mode by typing\n`bindkey
      -M emacs -L` and reuse the bindings you like. See the `zshzle`\nmanpage for
      more pre-defined widgets for which you could define\nbindings.\n:::::\n\n::::
      {#configuring-the-prompt-to-show-the-current-editing-mode .section .level2}\n##
      Configuring the prompt to show the current editing mode {.anchored anchor-id=\"configuring-the-prompt-to-show-the-current-editing-mode\"}\n\nSo
      the key bindings are quite usable now, but it''s a bit unfortunate\nthat it
      is impossible to see if the shell is in insert- or normal-mode.\nThere should
      be a mode indicator right in the shell prompt!\n\n::: {#cb3 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .bash .code-with-copy}\n# You may already have
      those in your .zshrc somewhere\nautoload -U promptinit && promptinit\nautoload
      -U colors     && colors\n\nsetopt prompt_subst\n\n# Set the colors to your liking\nlocal
      vi_normal_marker=\"[%{$fg[green]%}%BN%b%{$reset_color%}]\"\nlocal vi_insert_marker=\"[%{$fg[cyan]%}%BI%b%{$reset_color%}]\"\nlocal
      vi_unknown_marker=\"[%{$fg[red]%}%BU%b%{$reset_color%}]\"\nlocal vi_mode=\"$vi_insert_marker\"\nvi_mode_indicator
      () {\n  case ${KEYMAP} in\n    (vicmd)      echo $vi_normal_marker ;;\n    (main|viins)
      echo $vi_insert_marker ;;\n    (*)          echo $vi_unknown_marker ;;\n  esac\n}\n\n#
      Reset mode-marker and prompt whenever the keymap changes\nfunction zle-line-init
      zle-keymap-select {\n  vi_mode=\"$(vi_mode_indicator)\"\n  zle reset-prompt\n}\nzle
      -N zle-line-init\nzle -N zle-keymap-select\n\n# Multiline-prompts don''t quite
      work with reset-prompt; we work around this by\n# printing the first line(s)
      via a precmd which is executed before the prompt\n# is printed.  The following
      can be integrated into PROMPT for single-line\n# prompts.\n#\n# Colorize freely\nlocal
      user_host=''%B%n%b@%m''\nlocal current_dir=''%~''\nprecmd () print -rP \"${user_host}
      ${current_dir}\"\n\nlocal return_code=\"%(?..%{$fg[red]%}%? %{$reset_color%})\"\nPROMPT=''${return_code}${vi_mode}
      %# ''\n```\n:::\n\nThis gives a prompt in the style of\n\n    user@host /current/working/path\n    [I]
      %\n\nwhere `[I]` is the insert-mode indicator and is changed to `[N]` when\nnormal-mode
      is activated. Neat, isn''t it?\n::::\n\n::::: {#single--and-multi-key-shortcuts
      .section .level2}\n## Single- and multi-key shortcuts {.anchored anchor-id=\"single--and-multi-key-shortcuts\"}\n\nThis
      is all nice and dandy, but it''s not quite like vim yet. How about\nthose sweet
      bindings where pressing `jj` in quick succession brings us\nto normal-mode without
      having to press `Esc`? Setting it up is easy as\npie.\n\n::: {#cb5 .sourceCode
      style=\"background: #f1f3f5;\"}\n``` {.sourceCode .bash .code-with-copy}\n#
      Time in which two keys have to be pressed in order to be recognized as a\n#
      single command (in centiseconds, set to 0.4 sec by default -- may be\n# modified
      as needed).\nexport KEYTIMEOUT=40\nbindkey ''jj'' vi-cmd-mode\n```\n:::\n\nWe
      can also add two-key bindings to jump to the start and end of the\nline:\n\n:::
      {#cb6 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .bash .code-with-copy}\n#
      Bind to both possible orders in which the keys could be pressed.\n# Move all
      the way to the left\nbindkey '';l'' end-of-line\nbindkey ''l;'' end-of-line\n#
      Move all the way to the right\nbindkey '';h'' beginning-of-line\nbindkey ''h;''
      beginning-of-line\n```\n:::\n\nJumping to the beginning of the line is now as
      easy as pressing `;` and\n`h` at the same time. No need to switch to normal-mode
      and your fingers\ndon''t leave the your keyboard''s home-row. Try it, it''s
      great!\n:::::\n\n::: {#more .section .level2}\n## More {.anchored anchor-id=\"more\"}\n\nCustomizations
      like this can make it much more pleasant to use the\ncommand line and boost
      your productivity. If the above is still not\nenough, here are some more ideas:\n\n-
      Define custom keymaps, e.g.\u00a0to control other programs such as `mpc` or\n  `tmux`.\n-
      Switch to said keymaps via some nice bindings.\n- Show the status of version
      control systems and build environments in\n  the prompt.\n\nIf you don''t feel
      like doing all the work yourself, I can heartly\nreommend you take a look at
      [oh-my-zsh](http://ohmyz.sh). It offers a\ngreat collection of ideas to build
      on and some really cool ready-to-use\nplugins. Have fun!\n:::\n\n:::: {#quarto-appendix
      .default}\n::: {#footnotes .section .footnotes .footnotes-end-of-document}\n##
      Footnotes {.anchored .quarto-appendix-heading}\n\n1.  ::: {#fn1}\n    Emacs
      is a great program which I''ve been using for years and\n    continue to use
      daily, but vi bindings just make good things better.\n    Thanks to [evil](https://gitorious.org/evil/pages/Home),
      that''s not\n    a problem.\u21a9\ufe0e\n    :::\n:::\n::::\n", "images": [],
      "updated_at": 1404000000, "registered_at": 0, "published_at": 1404000000, "image":
      null, "language": "en", "category": "computerAndInformationSciences", "reference":
      [], "relationships": [], "summary": "Having a good working environment is vital
      for feeling comfortable being productive. This extends to computational tools
      and the command shell is an integral part of the daily work for many of us.
      It\u2019s a good idea to configure the shell\u2019s interface to be efficient
      and pleasant to use.", "abstract": null, "tags": ["Command-line", "Key Bindings"],
      "title": "How to configure zsh with vi bindings and nice shortcuts", "url":
      "https://tarleb.com/posts/howto-zsh-vi-style", "guid": "https://tarleb.com/posts/howto-zsh-vi-style/",
      "status": "active", "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/howto-zsh-vi-style"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '7914'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/howto-zsh-vi-style)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc28fc12f95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '4'
      x-kong-upstream-latency:
      - '4'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "One of the many great things about free and open
      source software and the\nwhole GNU/Linux ecosystem are the simple yet powerful
      tools available.\nThe possibilities enabled by almost trivial programs are incredible.
      A\nvery positive side effect this has on me is that I like to go and\nexplore
      technologies with the tools at my disposal. My latest\nexperiments revolved
      around the HTTP protocol, specifically HTTP\nheaders, and very basic open source
      networking tools.\n\n::: {#the-hypertext-transfer-protocol .section .level2}\n##
      The HyperText Transfer Protocol {.anchored anchor-id=\"the-hypertext-transfer-protocol\"}\n\nWebservers
      on the internet sending a website to a browser use the\nHyperText Transfer Protocol
      (HTTP) to do so. Along with the HTML data\nfor the page itself, the server answer
      includes additional information:\nResponse code, cookies, and how the browser
      or proxy server should\nhandle the contents is transfered within the *HTTP header*.
      The ability\nof the headers to control state on the client side is what makes
      them so\ninteresting and the reason why we are going to have a closer look at\nthem.\n:::\n\n:::
      {#communicating-with-netcat .section .level2}\n## Communicating with `netcat`
      {.anchored anchor-id=\"communicating-with-netcat\"}\n\nInstead of building our
      own HTTP client and server implementations --\nthat would be total overkill
      -- we restrict the goal to a simple\nnetworking tool that can be made to receive,
      send and alter basic HTTP\ncommands: `netcat`, the self-described TCP/IP swiss
      army knife, combined\nwith basic shell scripts.\n\nWe start by setting up a
      basic echoing server which sends everything\nback the same way it was received.\n\n```
      shell\nnc -l -p 8042 -e ''/bin/cat''\n```\n\nPointing the browser at `http://localhost:8042`,
      then killing the\n`netcat` process manually by hitting `Control-C`, we can see
      the headers\nwe sent within our browser. Everything that is send to our simple
      server\nis put through the `cat` program, which just passes it on to STDOUT,\nwhich
      is then sent back to the connecting browser. The process has to be\nterminated
      manually, as it doesn''t know when to stop listening for more\ninput. It''s
      crude, yet effective.\n:::\n\n::: {#shell-scripting-for-more-advanced-features
      .section .level2}\n## Shell Scripting for more advanced features {.anchored
      anchor-id=\"shell-scripting-for-more-advanced-features\"}\n\nThe above is neither
      comfortable to use nor very good to toy with, so we\nreplace `cat` with a script
      of our own, we''ll call it\n`exploring-http.sh`:\n\n``` shell\n#!/bin/sh\n\n#
      Keep reading everything until we hit the first empty line\nread_headers ()\n{\n    read
      i\n    while [ -n \"$i\" ] &&\n          [ \"$(echo -n \"\\r\\n\")\" != \"$i\"
      ] &&\n          [ \"$(echo -n \"\\n\")\" != \"$i\" ]\n    do\n        echo \"$i\"\n        read
      i\n    done\n}\nrequest_headers=\"$(read_headers)\"\n\n# Get some response headers
      ready\nresponse_headers ()\n{\n    printf \"HTTP/1.1 200 OK\\r\\n\"\n    printf
      \"Content-Type: text/plain\\r\\n\"\n    printf \"\\r\\n\"\n}\n\n# Send the response\nrespond
      ()\n{\n    local response_headers=\"$(response_headers)\"\n    echo \"${response_headers}\"\n    echo
      \"Browser Request Headers\"\n    echo \"=======================\"\n    echo
      \"$request_headers\"\n    echo \"\\r\\n\"\n    echo \"Server Response Headers\"\n    echo
      \"=======================\"\n    echo \"${response_headers}\"\n}\n\nrespond\n```\n\nThe
      request send by the browser is read till we reach the first black\nline, signaling
      the end of the request header. This time, we follow the\nprotocol by prefixing
      the content with very simple response headers\nbefore sending it back to the
      browser. We also don''t have to manually\nterminate our `netcat` server, it
      terminates after answering to the\nrequest. Starting it again after each request
      is tedious, so we automate\nit and put it into a loop, restarting the server
      immediately once it\nterminates.\n\n``` shell\nsh -c ''while true; do nc -l
      -p 8042 -e exploring-http.sh; done''\n```\n\nNow we are free to experiment with
      HTTP headers and the way browser and\nserver interact. For example, we can let
      the server add a\n`Last-Modified` header, the content of which should be sent
      back by the\nbrowser in the next request:\n\n``` shell\nresponse_headers ()\n{\n    printf
      \"HTTP/1.1 200 OK\\r\\n\"\n    printf \"Content-Type: text/plain\\r\\n\"\n    printf
      \"Last-Modified: $(date --rfc-2822)\\r\\n\"\n    printf \"\\r\\n\"\n}\n```\n\nReloading
      twice, and the browser request will change to send an\nadditional `If-Modified-Since`
      header.\n:::\n\n::: {#etags .section .level2}\n## ETags {.anchored anchor-id=\"etags\"}\n\nThe
      functionality of ETags, designed to communicate caching of old\nfiles, can be
      used follow users around without the need of cookies.\nLet''s see if we can
      do this with our little server.\n\nThe function generating the response headers
      is modified to extract any\nETag supplied by the browser. If none exists, we
      generate a new one by\nhashing the number of nanoseconds passed since the beginning
      of the UNIX\nepoche. The parsed or newly generated etag is then sent back to
      the\nbrowser. We also add a few header to make sure the conents isn''t cached.\nAs
      a result, we should be able to track a user through his or her\nbrowser cache.\n\n```
      shell\nresponse_headers ()\n{\n    local etag\n    etag=$(echo \"${request_headers}\"
      | sed -ne ''s/^\\(If-None-Match: \"\\([a-f0-9]*\\)\".*\\)/\\2/gp'')\n    printf
      \"HTTP/1.1 200 OK\\r\\n\"\n    printf \"Content-Type: text/plain\\r\\n\"\n    printf
      \"Last-Modified: $(date --rfc-2822)\\r\\n\"\n    printf \"ETag: \\\"${etag:-$(date
      +%s%N | md5sum | cut -d'' '' -f1)}\\\"\\r\\n\"\n    printf \"Expires: Tue, 01
      Jan 2013 00:00:01 GMT\\r\\n\"\n    printf \"Cache-Control: max-age=0\\r\\n\"\n    printf
      \"Connection: keep-alive\\r\\n\"\n    printf \"\\r\\n\"\n}\n```\n\nWe can test
      this by reloading our test page twice and... it works! We\ncan reload as often
      as we want, the ETag header sent by the browser will\nnot change unless we clear
      the browser''s cache. A stealthy kind of user\ntracking can be simulated with
      just a few lines of shell script.\n:::\n\n::: {#conclusion .section .level2}\n##
      Conclusion {.anchored anchor-id=\"conclusion\"}\n\nEven though we used nothing
      but simple command line tools and shell\nscripting, we managed to build a simple
      server and to experiment with\nthe ways in which stateless servers and stateful
      browseres can effect\neach other through HTTP headers. Standard UNIX tools are
      very powerful\nby themselves; together with a tool like `netcat`, power and
      fun extend\neven into experiments with networking and default protocols.\n:::\n",
      "images": [], "updated_at": 1383609600, "registered_at": 0, "published_at":
      1383609600, "image": null, "language": "en", "category": "computerAndInformationSciences",
      "reference": [], "relationships": [], "summary": "One of the many great things
      about free and open source software and the whole GNU/Linux ecosystem are the
      simple yet powerful tools available. The possibilities enabled by almost trivial
      programs are incredible. A very positive side effect this has on me is that
      I like to go and explore technologies with the tools at my disposal.", "abstract":
      null, "tags": ["Command-line", "Network"], "title": "Exploring HTTP Headers
      with netcat", "url": "https://tarleb.com/posts/exploring-http-headers", "guid":
      "https://tarleb.com/posts/exploring-http-headers/", "status": "active", "archive_url":
      "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/exploring-http-headers"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '7706'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/exploring-http-headers)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc29892cf95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '3'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "A couple of friends and I just discussed the idea
      of Russian Process\nRoulette: Everybody starts a little program which kills
      processes at\nrandom. The winner is the one whose computer remains usable the
      longest.\nIs this crazy? Yes. Immature? Sure. Fun? Definitely. Adviced against
      to\nactually play unless the consequences are fully understood? That too.\n\nPlaying
      the game is as simple as starting a command like the following:\n\n``` shell\nwhile
      sleep 600; do kill -9 $(tr -cd \"[:digit:]\" < /dev/urandom | head -c5); done\n```\n\nThis
      one-liner will wake up every 10 minutes, generate a random 5-digit\nnumber and
      then kill the process with the corresponding process ID. It\nwill run forever,
      until it is either stopped, kills itself or has\nsuccessfully crashed the user''s
      session.\n\nOf course, there are some problems with this code. The time at which
      the\nnext process will be killed is predictable, making it easier to prepare\nfor
      the eventuality of a dying process. Worse, the range of random\nprocess ids
      (0 to 99999) is about three times as large as the actual\nrange of process ids
      on a typical linux system (0 to 32768). This lowers\nthe chance of hitting a
      valid process ID quite a bit. So let''s put our\nscripting-fu to some misguided
      use and \"optimize\" the code.\n\nThe first step is to write a function which
      gives uniformly distributed\nrandom numbers below a threshold.\n\n``` shell\nrandom_number_below
      () {\n  local upperbound=$1\n  local candidate=$(( $1 + 1 ))\n  local maxlen=$(printf
      $upperbound | wc -c)\n  while [ $candidate -gt $upperbound ]\n  do\n      candidate=$(tr
      -cd ''[:digit:]'' < /dev/urandom | head -c \"$maxlen\" )\n  done\n  echo $candidate\n}\n```\n\nOur
      random number generator is very very wasteful in terms of processor\ncycles.
      Even more, if the output of `/dev/urandom` is truly random, the\nfunction were
      not even guaranteed to terminate in any specified time\nframe. But given the
      nature of the application we have in mind, both\ncaveats are completely acceptable
      here. Candidate numbers are generated\nby reading random characters from the
      systems urandom device, throwing\naway every character that isn''t a digit.
      After this, the candidate\nnumber is checked to make sure we haven''t generated
      a number greater\nthan the specified upper bound. If that should be the case,
      we run the\nwhole procedure again. Otherwise, the random number is returned.
      While\nwasteful, this function produces an unbiased uniform distribution on
      the\ninterval \\[0, upperbound\\].\n\nThe second problem, regarding the range
      of possible process identifiers,\nis easier to fix. A little bit of searching
      reveals that the largest\npossible process identifier can be read from the file\n`/proc/sys/kernel/pid_max`.
      With this functionality in our hands, we can\nnow write a \"better\" Russian
      Process Roulette script.\n\n``` shell\nwhile sleep $(random_number_below 999)\ndo\n    local
      maxpid=$(cat /proc/sys/kernel/pid_max)\n    kill -9 $(random_number_below \"$maxpid\")\ndone\n```\n\nWe
      should (*probably not*) run this as `root`, thereby making sure no\nprocess
      is safe from our \"process gun\".\n\nWhile the result of our efforts isn''t
      necessarily useful, it is still a\nnice exercises in shell scripting. Our game
      remains destructive and\nimmature, but the execution is slightly more sophisticated.
      Hope you\nlike it.\n", "images": [], "updated_at": 1380240000, "registered_at":
      0, "published_at": 1380240000, "image": null, "language": "en", "category":
      "computerAndInformationSciences", "reference": [], "relationships": [], "summary":
      "A couple of friends and I just discussed the idea of Russian Process Roulette:
      Everybody starts a little program which kills processes at random. The winner
      is the one whose computer remains usable the longest. Is this crazy? Yes. Immature?
      Sure. Fun? Definitely. Adviced against to actually play unless the consequences
      are fully understood? That too. Playing the game is as simple as starting a
      command like the following: while sleep 600;", "abstract": null, "tags": ["Command-line",
      "Nonsense"], "title": "Russian Process Roulette", "url": "https://tarleb.com/posts/russian-process-roulette",
      "guid": "https://tarleb.com/posts/russian-process-roulette/", "status": "active",
      "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/russian-process-roulette"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '4480'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/russian-process-roulette)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc2a2feaf95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '1'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: '{"authors": [{"name": "Albert Krewinkel"}], "blog_name": "tarleb", "blog_slug":
      "tarleb", "content_text": "Spam just doesn''t die. Every major mail provider
      has really good spam\nfilters in place, as do the common mail clients. Nontheless,
      there seem\nto be enough people reading -- and acting on -- spam mail to make
      it a\nprofitable business. No matter how much we hate it, we need to deal with\nspam.\n\nBetter
      than having a good spam filter is not to be spammed in the first\nplace. Since
      nobody can sent me unsolicited bulk mail if they don''t know\nmy mail address,
      keeping the mail address as private as possible is the\nway to go here. But
      what if we *want* our e-mail address to be public\nfor other people to reach
      us? Adding minor obstacles to make it just a\nbit more difficult for spammers
      to get the address can be enough.\n\n::: {#address-munging .section .level2}\n##
      Address Munging {.anchored anchor-id=\"address-munging\"}\n\nThe usual way for
      spammers to collect email addresses is to crawl\nwebsites and to harvest everything
      that looks like a valid mail address.\nA common defense is [address\nmunging](https://en.wikipedia.org/wiki/Address_munging),
      i.e.\u00a0resolving\nto bogus comments, additional markup, images or javascript
      to hide mail\naddresses from automatic harvesters. I find the use of images
      or\njavascript problematic for various reasons and just dislike unnecessary\ncomments.
      Luckily, HTML5 and CSS3 make it really easy to mangle\naddresses without using
      either of these methods.\n:::\n\n::::: {#obfuscating-an-address-with-html5-css3
      .section .level2}\n## Obfuscating an Address with HTML5 & CSS3 {.anchored anchor-id=\"obfuscating-an-address-with-html5-css3\"}\n\nOur
      approach here leverages the HTML5\n[`data-*`](http://www.w3.org/TR/html5/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\nattributes
      as well as the\n[`::before`](https://developer.mozilla.org/en-US/docs/Web/CSS/::before)\nand\n[`::after`](https://developer.mozilla.org/en-US/docs/Web/CSS/::after)\npseudo-elements.
      The mail address is divided and stored in custom data\nattributes and displayed
      as pseudo-elements. The address is kept in the\nmarkup, the presentation is
      handled in the style sheet:\n\nHTML:\n\n::: {#cb1 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .html .code-with-copy}\n<span data-user=\"john.doe\"\n      data-domain=\"example.com\"\n      class=\"obfuscated-mail-address\"><!--\n-->@<span>obfuscated
      email address</span></span>\n```\n:::\n\nCSS:\n\n::: {#cb2 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .css .code-with-copy}\n.obfuscated-mail-address::before
      {\n  content: attr(data-user);\n}\n.obfuscated-mail-address::after {\n  content:
      attr(data-domain);\n}\n.obfuscated-email-address > * {\n  display: none;\n}\n```\n:::\n\nThe
      result is readable, but can be neither selected nor copied:\n\n[obfuscated email
      address]{.obfuscated-mail-address .dont-touch\nuser=\"john.doe\" domain=\"example.com\"}\n\nThe
      nested `<span>` and its styling could be omitted, without changing\nthe presentation
      in most browsers. We use it to ensures that everything\nfails gracefully in
      browsers with limited CSS support. To see why this\nmatters, have a look at
      this page in a text browser like *w3m* or\n*links*.\n:::::\n\n::::: {#drawbacks
      .section .level2}\n## Drawbacks {.anchored anchor-id=\"drawbacks\"}\n\nThe biggest
      advantage of this method is also it''s biggest disadvantage:\nThe semantics
      are broken. The classic markup-code\n\n::: {#cb3 .sourceCode style=\"background:
      #f1f3f5;\"}\n``` {.sourceCode .html .code-with-copy}\n<a href=\"mailto:me@example.com\">John
      Doe</a>\n```\n:::\n\nis rendered as [John Doe](mailto:me@example.com) and makes
      it very\nclear, to machines and humans alike, that *John Doe* can be reached
      at\n*me@example.com*. Address munging, like the above, preserves this\nmeaning
      for humans, but takes it away for machines. For better and for\nworse, browsers,
      search engines, and spam bots will not be aware of the\nmeaning of the obfuscated
      address.\n\nThese effects can be alleviated by resolving to additional javascript:\n\n:::
      {#cb4 .sourceCode style=\"background: #f1f3f5;\"}\n``` {.sourceCode .javascript
      .code-with-copy}\n// convert obfuscated mail addresses into clickable \"mailto:\"
      links\njQuery(\"document\").ready(function($) {\n  var mailAddressClass = \"obfuscated-mail-address\";\n  $(\".\"+mailAddressClass).each(function()
      {\n    var address = $(this).attr(\"data-user\") + \"@\" + $(this).attr(\"data-domain\");\n    $(this).html($(\"<a
      href=\\\"mailto:\" + address + \"\\\">\" + address + \"</a>\", {}));\n    $(this).removeClass(mailAddressClass);\n  });\n});\n```\n:::\n\nThe
      webpage is still usable with JavaScript turned off, and even fails\ngracefully
      on text-only browsers. If JavaScript is available, the\nobfuscated links offer
      the same experience as properly coded\n`<a href=\"mailto:...\">...</a>` links:
      [@]{.obfuscated-mail-address\nuser=\"john.doe\" domain=\"example.com\"}. I believe
      this to be a very good\ntrade-off between usability and safety from harvesters.\n:::::\n",
      "images": [], "updated_at": 1377388800, "registered_at": 0, "published_at":
      1377388800, "image": null, "language": "en", "category": "computerAndInformationSciences",
      "reference": [], "relationships": [], "summary": "Spam just doesn\u2019t die.
      Every major mail provider has really good spam filters in place, as do the common
      mail clients. Nontheless, there seem to be enough people reading \u2013 and
      acting on \u2013 spam mail to make it a profitable business. No matter how much
      we hate it, we need to deal with spam. Better than having a good spam filter
      is not to be spammed in the first place.", "abstract": null, "tags": ["Html",
      "Css", "Javascript"], "title": "Avoid Mail Harvesting through Address Munging",
      "url": "https://tarleb.com/posts/avoiding-spam", "guid": "https://tarleb.com/posts/avoiding-spam/",
      "status": "active", "archive_url": "https://wayback.archive-it.org/22161/20231101171515/https://tarleb.com/posts/avoiding-spam"}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '6060'
      content-profile:
      - public
      content-type:
      - application/json
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.27.2
      x-client-info:
      - supabase-py/2.11.0
    method: POST
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: '{"code":"23505","details":"Key (url)=(https://tarleb.com/posts/avoiding-spam)
      already exists.","hint":null,"message":"duplicate key value violates unique
      constraint \"posts_url_key\""}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 9045fc2aacf0f95a-DUS
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 19 Jan 2025 10:01:42 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '3'
      x-kong-upstream-latency:
      - '3'
    http_version: HTTP/2
    status_code: 409
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      host:
      - zggonsjmmfozmfxlrjmg.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.12.0
    method: GET
    uri: https://zggonsjmmfozmfxlrjmg.supabase.co/rest/v1/blogs?select=id%2Cslug%2Cfeed_url%2Ccurrent_feed_url%2Chome_page_url%2Carchive_prefix%2Cfeed_format%2Ccreated_at%2Cupdated_at%2Cregistered_at%2Cgenerator%2Cgenerator_raw%2Clanguage%2Ccategory%2Cfavicon%2Ctitle%2Cdescription%2Ccategory%2Cstatus%2Cuser_id%2Cauthors%2Cuse_api%2Crelative_url%2Cfilter%2Csecure%2Cdoi_as_guid&slug=eq.tarleb
  response:
    content: '{"id":"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8","slug":"tarleb","feed_url":"https://tarleb.com/index.xml","current_feed_url":null,"home_page_url":"https://tarleb.com/index.html","archive_prefix":"https://wayback.archive-it.org/22161/20231101171515/","feed_format":"application/rss+xml","created_at":1681948800,"updated_at":1679616000,"registered_at":1700486796,"generator":"Quarto","generator_raw":"Quarto
      1.4.554","language":"en","category":"computerAndInformationSciences","favicon":null,"title":"tarleb","description":"tarleb''s
      blog","category":"computerAndInformationSciences","status":"active","user_id":"dead81b3-8a8b-45c9-85fe-f01bb3948c77","authors":null,"use_api":null,"relative_url":null,"filter":null,"secure":true,"doi_as_guid":false}'
    headers:
      access-control-allow-origin:
      - '*'
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 90f60a6cf800cb2f-DUS
      content-location:
      - /blogs?select=id%2Cslug%2Cfeed_url%2Ccurrent_feed_url%2Chome_page_url%2Carchive_prefix%2Cfeed_format%2Ccreated_at%2Cupdated_at%2Cregistered_at%2Cgenerator%2Cgenerator_raw%2Clanguage%2Ccategory%2Cfavicon%2Ctitle%2Cdescription%2Ccategory%2Cstatus%2Cuser_id%2Cauthors%2Cuse_api%2Crelative_url%2Cfilter%2Csecure%2Cdoi_as_guid&slug=eq.tarleb
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Sun, 09 Feb 2025 18:49:40 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - zggonsjmmfozmfxlrjmg
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-kong-proxy-latency:
      - '0'
      x-kong-upstream-latency:
      - '5'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/blogs?select=id%2Cslug%2Cfeed_url%2Ccurrent_feed_url%2Chome_page_url%2Carchive_prefix%2Carchive_host%2Carchive_collection%2Carchive_timestamps%2Cfeed_format%2Ccreated_at%2Cupdated_at%2Cregistered_at%2Cgenerator%2Cgenerator_raw%2Clanguage%2Ccategory%2Cfavicon%2Ctitle%2Cdescription%2Ccategory%2Cstatus%2Cuser_id%2Cauthors%2Cuse_api%2Crelative_url%2Cfilter%2Csecure%2Cdoi_as_guid&slug=eq.tarleb
  response:
    content: '{"id":"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8","slug":"tarleb","feed_url":"https://tarleb.com/index.xml","current_feed_url":null,"home_page_url":"https://tarleb.com/index.html","archive_prefix":"https://wayback.archive-it.org/22161/20231101171515/","archive_host":null,"archive_collection":22161,"archive_timestamps":null,"feed_format":"application/rss+xml","created_at":1681948800,"updated_at":1679616000,"registered_at":1700486796,"generator":"Quarto","generator_raw":"Quarto
      1.4.554","language":"en","category":"computerAndInformationSciences","favicon":null,"title":"tarleb","description":"tarleb''s
      blog","category":"computerAndInformationSciences","status":"active","user_id":"dead81b3-8a8b-45c9-85fe-f01bb3948c77","authors":null,"use_api":null,"relative_url":null,"filter":null,"secure":true,"doi_as_guid":false}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8caf63d931965-FRA
      content-encoding:
      - gzip
      content-location:
      - /blogs?select=id%2Cslug%2Cfeed_url%2Ccurrent_feed_url%2Chome_page_url%2Carchive_prefix%2Carchive_host%2Carchive_collection%2Carchive_timestamps%2Cfeed_format%2Ccreated_at%2Cupdated_at%2Cregistered_at%2Cgenerator%2Cgenerator_raw%2Clanguage%2Ccategory%2Cfavicon%2Ctitle%2Cdescription%2Ccategory%2Cstatus%2Cuser_id%2Cauthors%2Cuse_api%2Crelative_url%2Cfilter%2Csecure%2Cdoi_as_guid&slug=eq.tarleb
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:05 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-15ec-7b25-9f5d-ca89c28323ca
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '7'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=updated_at&blog_slug=eq.tarleb&order=updated_at.desc&limit=1
  response:
    content: '[{"updated_at":1679616000}]'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8caf6be061965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?blog_slug=eq.tarleb&limit=1&order=updated_at.desc&select=updated_at
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:05 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-163c-7256-99e4-c24e322eb211
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '1'
    http_version: HTTP/2
    status_code: 200
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p><a
      href=\\\"https://typst.app\\\">Typst</a>, the new writing tool, was open sourced
      a couple of days ago. This is right up my alley of course, and I have a couple
      of thoughts on it, which I share here.</p>\\n<section class=\\\"level2\\\" id=\\\"what-is-it\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"what-is-it\\\">What is it?</h2>\\n<p>Typst
      is a writing tool that\u2019s described as a LaTeX alternative: it takes plain-text
      markup as input and can produce nice looking PDFs from that. The open-sourcing
      of the code created a lot of excitement and interest, with the <a href=\\\"https://github.com/typst/typst\\\">GitHub
      repository</a> getting starred over 9,000 times in just a few days.</p>\\n<p>The
      tool comes with fresh and interesting ideas, impressive technology, and a good
      bit of hype\u2014so let\u2019s take a closer look.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"how-does-it-work\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"how-does-it-work\\\">How does it work?</h2>\\n<p>Typst is
      written in <a href=\\\"https://www.rust-lang.org/\\\">Rust</a>, a comparatively
      low-level programming language that fixes many shortcomings of other languages
      operating in the same domain. One interesting feature of Rust that Typst makes
      use of is compilation to web assembly, which allows us to run Rust programs
      in the browser. This is how Typst can do the blazing fast PDF generation <em>in
      the browser!</em></p>\\n<p>Of course this only works if it is Rust all the way
      down, which has important consequences. My first thought when I looked at the
      code was that it suffered from some serious <a href=\\\"https://en.wikipedia.org/wiki/Not_invented_here\\\">nih</a>
      syndrome: basically the whole stack is built on libraries written by the Typst
      team, even when high-qualitify open source libraries were available and could
      have been used with Rust.</p>\\n<p>But, while nih still seems relevant here
      and there, the majority of libraries make sense when viewed through the lens
      of wasm-compilation. My understanding is that it\u2019s not always easy to compile
      C libraries to wasm. And with a complex system like Typst, it is often essential
      to have full control over the underlying libraries. So I think most choices
      are quite reasonable.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"what-makes-it-popular\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"what-makes-it-popular\\\">What makes
      it popular?</h2>\\n<p>The Typst announcements on sites like <a href=\\\"https://news.ycombinator.com/item?id=35250210\\\">Hacker
      News</a> and <a href=\\\"https://lobste.rs/s/ko1yjj/typst_new_markup_based_typesetting\\\">lobste.rs</a>
      ranked \u2116\u20091, and the tool was mentioned in basically every social media
      circle and chat that I happen to be part of. There\u2019s clearly <em>a lot</em>
      of interest in a modernized version of LaTeX. Good ol\u2019 TeX and it\u2019s
      children have been around for a long while, and have essentially held the monopoly
      on PDF production for typographically advanced documents (tools like HTML-to-PDF
      converters like <a href=\\\"https://weasyprint.org/\\\">WeasyPrint</a> notwithstanding).</p>\\n<p>But
      the need for a nicer PDF generator is probably not the only reason why Typst
      gained so much traction. I believe that a lot of interest from the programmer
      community is fueled by the technological choices: Rust has the aura of a new
      and shiny tool that <a href=\\\"https://stackoverflow.blog/2023/01/26/comparing-tag-trends-with-our-most-loved-programming-languages/\\\">everyone
      would like to use</a>, <em>especially</em> the regulars on the aforementioned
      sites, who share an interest in the latest tools. An otherwise equivalent project
      written in a \u201Cboring\u201D language like Python would likely have sparked
      less interest.</p>\\n<p>I find it also important to note that Typst comes with
      <em>extensive documentation</em> that makes it easy to dive right in. It is
      far too common in the programming world to release some cool new tool into the
      wild, while treating documentation as an unimportant afterthought. Yes, I\u2019m
      guilty of that, too. Even the best tool can be unusable when its docs are missing
      or sparse. Typst didn\u2019t make this mistake, and I think it paid off.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"personal-opinions\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"personal-opinions\\\">Personal opinions</h2>\\n<p>This wouldn\u2019t
      be a proper \u201Cold man shakes fist at the clouds\u201D tech blog post if
      it didn\u2019t come with a number of \u201CI see room for improvements\u201D
      comments. Here we go.</p>\\n<section class=\\\"level3\\\" id=\\\"scripting\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"scripting\\\">Scripting</h3>\\n<p>One
      of my main concerns is the scripting language: It seems well designed, but I\u2019m
      not convinced that it was necessary to create a completely new language. I actually
      believe that something like Lua, which is established<sup>1</sup> but flexlible,
      would have worked well here. But what\u2019s more is that, if we accept that
      it was necessary to have a custom language, I would have preferred one that
      isn\u2019t Turing complete, i.e., one where we can be sure that document rendering
      will terminate. Something like <a href=\\\"https://dhall-lang.org/\\\">Dhall</a>.</p>\\n<p>As
      it currently stands we can neither reuse pre-existing code, nor do we have a
      guarantee that the document will stop evaluating at some point. It feels like
      a missed opportunity.</p>\\n</section>\\n<section class=\\\"level3\\\" id=\\\"notebooks\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"notebooks\\\">Notebooks</h3>\\n<p>Notebooks
      are a great tool to improve reproducibility in science writing. The code for
      analyses is collocated with the descriptive text in a single place. The data
      is closely linked to the final tables and graphics. It is one of the great features
      of <a href=\\\"https://quarto.org/\\\">Quarto</a>, <a href=\\\"https://jupyter.org/\\\">Jupyter</a>,
      <a href=\\\"https://orgmode.org/\\\">Org</a>, <a href=\\\"https://stenci.la/\\\">Stencila</a>,
      Mathematica, and so on, which makes them well suited for scientific writing
      in fields like medicine, psychology, and the natural sciences.</p>\\n<p>This
      could be an <a href=\\\"https://github.com/typst/typst/issues/117\\\">issue</a>
      for Typst, but I believe that it won\u2019t be a problem when Typst is used
      in combination with other tools. John MacFarlane (of <a href=\\\"https://commonmark.org\\\">CommonMark</a>
      and <a href=\\\"https://pandoc.org/\\\">pandoc</a> fame) has <a href=\\\"https://github.com/jgm/pandoc/issues/8713\\\">started
      work</a> on a Typst pandoc writer, which will convert existing Markdown documents
      to Typst, and could enable the use of Typst as PDF generator while still writing
      Markdown and Python code in Quarto.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"accessibility-and-metadata\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"accessibility-and-metadata\\\">Accessibility
      and metadata</h3>\\n<p>It\u2019s good practice to make PDFs accessible, which
      requires adding semantic information to a PDF instead of \u201Cjust\u201D placing
      characters on a page. Accessibility is even a legal requirement for government-issued
      documents in many countries. There are standards like PDF/A-1a and PDF/UA that
      ensure people with disabilities can access the information contained in the
      PDF. This is currently not supperted in Typst. LaTeX is still trying to catch
      up there, too, while <a href=\\\"https://wiki.contextgarden.net/\\\">ConTeXt</a>
      and <a href=\\\"https://speedata.de/\\\">speedata</a> are doing well, for example.</p>\\n</section>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"predictions\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"predictions\\\">Predictions</h2>\\n<p>I
      believe Typst will succeed, but not as a full-fledged writing tool. The greatest
      value I see is in the <strong>responsive, interactive, and even collaborative
      styling of PDFs</strong>. That feature is truly unique and sets Typst appart
      from all other software out there. The tool obviously has the potential to reach
      the critical mass of contributors to become a sustainable open source project,
      and the tech choices help to attract more developers. Last but not least, the
      app is shiny, works well, and makes people want to use it.</p>\\n<p>At the same
      time, I believe that the Typst writing app won\u2019t take hold in scientific
      writing. Most of the current enthusiasm is contained to technical circles, and
      scientists don\u2019t have strong reasons to switch yet. To the contrary, journals
      expect paper submissions to be done in Word or LaTeX, not PDF. This won\u2019t
      change anytime soon. Typst will have to insert itself into the current publishing
      landscape, and that\u2019s not a trivial task.</p>\\n<p>For example, <a href=\\\"https://sciflow.net/\\\">SciFlow</a>
      and <a href=\\\"https://overleaf.com/\\\">Overleaf</a> already exist, cover
      most of the market needs, have a solid headstart, and \u2013 this is the important
      part \u2013 are well aligned with the needs of science publishers. Any new tool
      has to compete with them. Also, let\u2019s not forget all the other tools that
      I mentioned above.</p>\\n<p>Regardless, I\u2019m optimistic that Typst can carve
      out its own business niche to occupy. For example, hardly any of my points above
      matter in print publishing. An indie book publisher that allows authors to use
      Typst for layouting would be amazing.</p>\\n<p>I hope that the Typst team\u2019s
      hard work will pay off, and I will continue to follow their progress with great
      interest.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"acknowledgements\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"acknowledgements\\\">Acknowledgements</h2>\\n<p>Heart-felt
      thanks to <a href=\\\"https://hachyderm.io/@maegul\\\">@maegul@hachyderm.io</a>
      for the insightful feedback on an earlier version of this post, and to <a href=\\\"https://ilonasilverwood.github.io/\\\">Ilona
      Silverwood</a> for her skillful editing. This post became much better thanks
      to their input.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"updates\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"updates\\\">Updates</h2>\\n<p>An earlier
      version listed <a href=\\\"https://www.authorea.com/\\\">Authorea</a> as an
      authoring tool, but the platform has shifted focus since I last looked at it,
      so I\u2019ve removed it.</p>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>I
      consider <a href=\\\"https://lua.org/\\\">Lua</a> to be <em>the</em> language
      of publishing tools. It fuels <a href=\\\"https://pandoc.org/\\\">pandoc</a>,
      <a href=\\\"https://quarto.org/\\\">Quarto</a>, <a href=\\\"https://wiki.contextgarden.net/\\\">ConTeXt</a>,
      <a href=\\\"http://luatex.org/\\\">LuaLaTeX</a>, <a href=\\\"https://speedata.de/\\\">speedata</a>,
      <a href=\\\"https://sile-typesetter.org/\\\">SILE</a>, and probably a few more.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"images\":[],\"updated_at\":1679616000,\"registered_at\":0,\"published_at\":1679616000,\"image\":null,\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[{\"id\":\"https://lua.org/\",\"unstructured\":\"I
      consider Lua to be the language of publishing tools. It fuels pandoc, Quarto,
      ConTeXt, LuaLaTeX, speedata, SILE, and probably a few more.\u21A9\uFE0E\"}],\"relationships\":[],\"funding_references\":null,\"summary\":\"Typst,
      the new writing tool, was open sourced a couple of days ago. This is right up
      my alley of course, and I have a couple of thoughts on it, which I share here.
      What is it?   Typst is a writing tool that\u2019s described as a LaTeX alternative:
      it takes plain-text markup as input and can produce nice looking PDFs from that.\",\"abstract\":null,\"tags\":[\"PDF\"],\"title\":\"Typst
      Musings\",\"url\":\"https://tarleb.com/posts/typst-musings/\",\"guid\":\"https://tarleb.com/posts/typst-musings/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '11806'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/typst-musings/\",\"title\":\"Typst
      Musings\",\"summary\":\"Typst, the new writing tool, was open sourced a couple
      of days ago. This is right up my alley of course, and I have a couple of thoughts
      on it, which I share here. What is it?   Typst is a writing tool that\u2019s
      described as a LaTeX alternative: it takes plain-text markup as input and can
      produce nice looking PDFs from that.\",\"image\":null,\"tags\":[\"PDF\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"9a0fae1b-4c02-4532-b16c-caf915881c98\",\"reference\":[{\"id\":
      \"https://lua.org/\", \"unstructured\": \"I consider Lua to be the language
      of publishing tools. It fuels pandoc, Quarto, ConTeXt, LuaLaTeX, speedata, SILE,
      and probably a few more.\u21A9\uFE0E\"}],\"updated_at\":1679616000,\"published_at\":1679616000,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/typst-musings/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p><a
      href=\\\"https://typst.app\\\">Typst</a>, the new writing tool, was open sourced
      a couple of days ago. This is right up my alley of course, and I have a couple
      of thoughts on it, which I share here.</p>\\n<section class=\\\"level2\\\" id=\\\"what-is-it\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"what-is-it\\\">What is it?</h2>\\n<p>Typst
      is a writing tool that\u2019s described as a LaTeX alternative: it takes plain-text
      markup as input and can produce nice looking PDFs from that. The open-sourcing
      of the code created a lot of excitement and interest, with the <a href=\\\"https://github.com/typst/typst\\\">GitHub
      repository</a> getting starred over 9,000 times in just a few days.</p>\\n<p>The
      tool comes with fresh and interesting ideas, impressive technology, and a good
      bit of hype\u2014so let\u2019s take a closer look.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"how-does-it-work\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"how-does-it-work\\\">How does it work?</h2>\\n<p>Typst is
      written in <a href=\\\"https://www.rust-lang.org/\\\">Rust</a>, a comparatively
      low-level programming language that fixes many shortcomings of other languages
      operating in the same domain. One interesting feature of Rust that Typst makes
      use of is compilation to web assembly, which allows us to run Rust programs
      in the browser. This is how Typst can do the blazing fast PDF generation <em>in
      the browser!</em></p>\\n<p>Of course this only works if it is Rust all the way
      down, which has important consequences. My first thought when I looked at the
      code was that it suffered from some serious <a href=\\\"https://en.wikipedia.org/wiki/Not_invented_here\\\">nih</a>
      syndrome: basically the whole stack is built on libraries written by the Typst
      team, even when high-qualitify open source libraries were available and could
      have been used with Rust.</p>\\n<p>But, while nih still seems relevant here
      and there, the majority of libraries make sense when viewed through the lens
      of wasm-compilation. My understanding is that it\u2019s not always easy to compile
      C libraries to wasm. And with a complex system like Typst, it is often essential
      to have full control over the underlying libraries. So I think most choices
      are quite reasonable.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"what-makes-it-popular\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"what-makes-it-popular\\\">What makes
      it popular?</h2>\\n<p>The Typst announcements on sites like <a href=\\\"https://news.ycombinator.com/item?id=35250210\\\">Hacker
      News</a> and <a href=\\\"https://lobste.rs/s/ko1yjj/typst_new_markup_based_typesetting\\\">lobste.rs</a>
      ranked \u2116\u20091, and the tool was mentioned in basically every social media
      circle and chat that I happen to be part of. There\u2019s clearly <em>a lot</em>
      of interest in a modernized version of LaTeX. Good ol\u2019 TeX and it\u2019s
      children have been around for a long while, and have essentially held the monopoly
      on PDF production for typographically advanced documents (tools like HTML-to-PDF
      converters like <a href=\\\"https://weasyprint.org/\\\">WeasyPrint</a> notwithstanding).</p>\\n<p>But
      the need for a nicer PDF generator is probably not the only reason why Typst
      gained so much traction. I believe that a lot of interest from the programmer
      community is fueled by the technological choices: Rust has the aura of a new
      and shiny tool that <a href=\\\"https://stackoverflow.blog/2023/01/26/comparing-tag-trends-with-our-most-loved-programming-languages/\\\">everyone
      would like to use</a>, <em>especially</em> the regulars on the aforementioned
      sites, who share an interest in the latest tools. An otherwise equivalent project
      written in a \u201Cboring\u201D language like Python would likely have sparked
      less interest.</p>\\n<p>I find it also important to note that Typst comes with
      <em>extensive documentation</em> that makes it easy to dive right in. It is
      far too common in the programming world to release some cool new tool into the
      wild, while treating documentation as an unimportant afterthought. Yes, I\u2019m
      guilty of that, too. Even the best tool can be unusable when its docs are missing
      or sparse. Typst didn\u2019t make this mistake, and I think it paid off.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"personal-opinions\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"personal-opinions\\\">Personal opinions</h2>\\n<p>This wouldn\u2019t
      be a proper \u201Cold man shakes fist at the clouds\u201D tech blog post if
      it didn\u2019t come with a number of \u201CI see room for improvements\u201D
      comments. Here we go.</p>\\n<section class=\\\"level3\\\" id=\\\"scripting\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"scripting\\\">Scripting</h3>\\n<p>One
      of my main concerns is the scripting language: It seems well designed, but I\u2019m
      not convinced that it was necessary to create a completely new language. I actually
      believe that something like Lua, which is established<sup>1</sup> but flexlible,
      would have worked well here. But what\u2019s more is that, if we accept that
      it was necessary to have a custom language, I would have preferred one that
      isn\u2019t Turing complete, i.e., one where we can be sure that document rendering
      will terminate. Something like <a href=\\\"https://dhall-lang.org/\\\">Dhall</a>.</p>\\n<p>As
      it currently stands we can neither reuse pre-existing code, nor do we have a
      guarantee that the document will stop evaluating at some point. It feels like
      a missed opportunity.</p>\\n</section>\\n<section class=\\\"level3\\\" id=\\\"notebooks\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"notebooks\\\">Notebooks</h3>\\n<p>Notebooks
      are a great tool to improve reproducibility in science writing. The code for
      analyses is collocated with the descriptive text in a single place. The data
      is closely linked to the final tables and graphics. It is one of the great features
      of <a href=\\\"https://quarto.org/\\\">Quarto</a>, <a href=\\\"https://jupyter.org/\\\">Jupyter</a>,
      <a href=\\\"https://orgmode.org/\\\">Org</a>, <a href=\\\"https://stenci.la/\\\">Stencila</a>,
      Mathematica, and so on, which makes them well suited for scientific writing
      in fields like medicine, psychology, and the natural sciences.</p>\\n<p>This
      could be an <a href=\\\"https://github.com/typst/typst/issues/117\\\">issue</a>
      for Typst, but I believe that it won\u2019t be a problem when Typst is used
      in combination with other tools. John MacFarlane (of <a href=\\\"https://commonmark.org\\\">CommonMark</a>
      and <a href=\\\"https://pandoc.org/\\\">pandoc</a> fame) has <a href=\\\"https://github.com/jgm/pandoc/issues/8713\\\">started
      work</a> on a Typst pandoc writer, which will convert existing Markdown documents
      to Typst, and could enable the use of Typst as PDF generator while still writing
      Markdown and Python code in Quarto.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"accessibility-and-metadata\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"accessibility-and-metadata\\\">Accessibility
      and metadata</h3>\\n<p>It\u2019s good practice to make PDFs accessible, which
      requires adding semantic information to a PDF instead of \u201Cjust\u201D placing
      characters on a page. Accessibility is even a legal requirement for government-issued
      documents in many countries. There are standards like PDF/A-1a and PDF/UA that
      ensure people with disabilities can access the information contained in the
      PDF. This is currently not supperted in Typst. LaTeX is still trying to catch
      up there, too, while <a href=\\\"https://wiki.contextgarden.net/\\\">ConTeXt</a>
      and <a href=\\\"https://speedata.de/\\\">speedata</a> are doing well, for example.</p>\\n</section>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"predictions\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"predictions\\\">Predictions</h2>\\n<p>I
      believe Typst will succeed, but not as a full-fledged writing tool. The greatest
      value I see is in the <strong>responsive, interactive, and even collaborative
      styling of PDFs</strong>. That feature is truly unique and sets Typst appart
      from all other software out there. The tool obviously has the potential to reach
      the critical mass of contributors to become a sustainable open source project,
      and the tech choices help to attract more developers. Last but not least, the
      app is shiny, works well, and makes people want to use it.</p>\\n<p>At the same
      time, I believe that the Typst writing app won\u2019t take hold in scientific
      writing. Most of the current enthusiasm is contained to technical circles, and
      scientists don\u2019t have strong reasons to switch yet. To the contrary, journals
      expect paper submissions to be done in Word or LaTeX, not PDF. This won\u2019t
      change anytime soon. Typst will have to insert itself into the current publishing
      landscape, and that\u2019s not a trivial task.</p>\\n<p>For example, <a href=\\\"https://sciflow.net/\\\">SciFlow</a>
      and <a href=\\\"https://overleaf.com/\\\">Overleaf</a> already exist, cover
      most of the market needs, have a solid headstart, and \u2013 this is the important
      part \u2013 are well aligned with the needs of science publishers. Any new tool
      has to compete with them. Also, let\u2019s not forget all the other tools that
      I mentioned above.</p>\\n<p>Regardless, I\u2019m optimistic that Typst can carve
      out its own business niche to occupy. For example, hardly any of my points above
      matter in print publishing. An indie book publisher that allows authors to use
      Typst for layouting would be amazing.</p>\\n<p>I hope that the Typst team\u2019s
      hard work will pay off, and I will continue to follow their progress with great
      interest.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"acknowledgements\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"acknowledgements\\\">Acknowledgements</h2>\\n<p>Heart-felt
      thanks to <a href=\\\"https://hachyderm.io/@maegul\\\">@maegul@hachyderm.io</a>
      for the insightful feedback on an earlier version of this post, and to <a href=\\\"https://ilonasilverwood.github.io/\\\">Ilona
      Silverwood</a> for her skillful editing. This post became much better thanks
      to their input.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"updates\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"updates\\\">Updates</h2>\\n<p>An earlier
      version listed <a href=\\\"https://www.authorea.com/\\\">Authorea</a> as an
      authoring tool, but the platform has shifted focus since I last looked at it,
      so I\u2019ve removed it.</p>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>I
      consider <a href=\\\"https://lua.org/\\\">Lua</a> to be <em>the</em> language
      of publishing tools. It fuels <a href=\\\"https://pandoc.org/\\\">pandoc</a>,
      <a href=\\\"https://quarto.org/\\\">Quarto</a>, <a href=\\\"https://wiki.contextgarden.net/\\\">ConTeXt</a>,
      <a href=\\\"http://luatex.org/\\\">LuaLaTeX</a>, <a href=\\\"https://speedata.de/\\\">speedata</a>,
      <a href=\\\"https://sile-typesetter.org/\\\">SILE</a>, and probably a few more.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8caf9ac97098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:05 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1815-7d43-9b68-32d00e6c1410
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '7'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.9a0fae1b-4c02-4532-b16c-caf915881c98
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/typst-musings/\",\"title\":\"Typst
      Musings\",\"summary\":\"Typst, the new writing tool, was open sourced a couple
      of days ago. This is right up my alley of course, and I have a couple of thoughts
      on it, which I share here. What is it?   Typst is a writing tool that\u2019s
      described as a LaTeX alternative: it takes plain-text markup as input and can
      produce nice looking PDFs from that.\",\"image\":null,\"tags\":[\"PDF\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"9a0fae1b-4c02-4532-b16c-caf915881c98\",\"reference\":[{\"id\":
      \"https://lua.org/\", \"unstructured\": \"I consider Lua to be the language
      of publishing tools. It fuels pandoc, Quarto, ConTeXt, LuaLaTeX, speedata, SILE,
      and probably a few more.\u21A9\uFE0E\"}],\"updated_at\":1679616000,\"published_at\":1679616000,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/typst-musings/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p><a
      href=\\\"https://typst.app\\\">Typst</a>, the new writing tool, was open sourced
      a couple of days ago. This is right up my alley of course, and I have a couple
      of thoughts on it, which I share here.</p>\\n<section class=\\\"level2\\\" id=\\\"what-is-it\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"what-is-it\\\">What is it?</h2>\\n<p>Typst
      is a writing tool that\u2019s described as a LaTeX alternative: it takes plain-text
      markup as input and can produce nice looking PDFs from that. The open-sourcing
      of the code created a lot of excitement and interest, with the <a href=\\\"https://github.com/typst/typst\\\">GitHub
      repository</a> getting starred over 9,000 times in just a few days.</p>\\n<p>The
      tool comes with fresh and interesting ideas, impressive technology, and a good
      bit of hype\u2014so let\u2019s take a closer look.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"how-does-it-work\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"how-does-it-work\\\">How does it work?</h2>\\n<p>Typst is
      written in <a href=\\\"https://www.rust-lang.org/\\\">Rust</a>, a comparatively
      low-level programming language that fixes many shortcomings of other languages
      operating in the same domain. One interesting feature of Rust that Typst makes
      use of is compilation to web assembly, which allows us to run Rust programs
      in the browser. This is how Typst can do the blazing fast PDF generation <em>in
      the browser!</em></p>\\n<p>Of course this only works if it is Rust all the way
      down, which has important consequences. My first thought when I looked at the
      code was that it suffered from some serious <a href=\\\"https://en.wikipedia.org/wiki/Not_invented_here\\\">nih</a>
      syndrome: basically the whole stack is built on libraries written by the Typst
      team, even when high-qualitify open source libraries were available and could
      have been used with Rust.</p>\\n<p>But, while nih still seems relevant here
      and there, the majority of libraries make sense when viewed through the lens
      of wasm-compilation. My understanding is that it\u2019s not always easy to compile
      C libraries to wasm. And with a complex system like Typst, it is often essential
      to have full control over the underlying libraries. So I think most choices
      are quite reasonable.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"what-makes-it-popular\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"what-makes-it-popular\\\">What makes
      it popular?</h2>\\n<p>The Typst announcements on sites like <a href=\\\"https://news.ycombinator.com/item?id=35250210\\\">Hacker
      News</a> and <a href=\\\"https://lobste.rs/s/ko1yjj/typst_new_markup_based_typesetting\\\">lobste.rs</a>
      ranked \u2116\u20091, and the tool was mentioned in basically every social media
      circle and chat that I happen to be part of. There\u2019s clearly <em>a lot</em>
      of interest in a modernized version of LaTeX. Good ol\u2019 TeX and it\u2019s
      children have been around for a long while, and have essentially held the monopoly
      on PDF production for typographically advanced documents (tools like HTML-to-PDF
      converters like <a href=\\\"https://weasyprint.org/\\\">WeasyPrint</a> notwithstanding).</p>\\n<p>But
      the need for a nicer PDF generator is probably not the only reason why Typst
      gained so much traction. I believe that a lot of interest from the programmer
      community is fueled by the technological choices: Rust has the aura of a new
      and shiny tool that <a href=\\\"https://stackoverflow.blog/2023/01/26/comparing-tag-trends-with-our-most-loved-programming-languages/\\\">everyone
      would like to use</a>, <em>especially</em> the regulars on the aforementioned
      sites, who share an interest in the latest tools. An otherwise equivalent project
      written in a \u201Cboring\u201D language like Python would likely have sparked
      less interest.</p>\\n<p>I find it also important to note that Typst comes with
      <em>extensive documentation</em> that makes it easy to dive right in. It is
      far too common in the programming world to release some cool new tool into the
      wild, while treating documentation as an unimportant afterthought. Yes, I\u2019m
      guilty of that, too. Even the best tool can be unusable when its docs are missing
      or sparse. Typst didn\u2019t make this mistake, and I think it paid off.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"personal-opinions\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"personal-opinions\\\">Personal opinions</h2>\\n<p>This wouldn\u2019t
      be a proper \u201Cold man shakes fist at the clouds\u201D tech blog post if
      it didn\u2019t come with a number of \u201CI see room for improvements\u201D
      comments. Here we go.</p>\\n<section class=\\\"level3\\\" id=\\\"scripting\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"scripting\\\">Scripting</h3>\\n<p>One
      of my main concerns is the scripting language: It seems well designed, but I\u2019m
      not convinced that it was necessary to create a completely new language. I actually
      believe that something like Lua, which is established<sup>1</sup> but flexlible,
      would have worked well here. But what\u2019s more is that, if we accept that
      it was necessary to have a custom language, I would have preferred one that
      isn\u2019t Turing complete, i.e., one where we can be sure that document rendering
      will terminate. Something like <a href=\\\"https://dhall-lang.org/\\\">Dhall</a>.</p>\\n<p>As
      it currently stands we can neither reuse pre-existing code, nor do we have a
      guarantee that the document will stop evaluating at some point. It feels like
      a missed opportunity.</p>\\n</section>\\n<section class=\\\"level3\\\" id=\\\"notebooks\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"notebooks\\\">Notebooks</h3>\\n<p>Notebooks
      are a great tool to improve reproducibility in science writing. The code for
      analyses is collocated with the descriptive text in a single place. The data
      is closely linked to the final tables and graphics. It is one of the great features
      of <a href=\\\"https://quarto.org/\\\">Quarto</a>, <a href=\\\"https://jupyter.org/\\\">Jupyter</a>,
      <a href=\\\"https://orgmode.org/\\\">Org</a>, <a href=\\\"https://stenci.la/\\\">Stencila</a>,
      Mathematica, and so on, which makes them well suited for scientific writing
      in fields like medicine, psychology, and the natural sciences.</p>\\n<p>This
      could be an <a href=\\\"https://github.com/typst/typst/issues/117\\\">issue</a>
      for Typst, but I believe that it won\u2019t be a problem when Typst is used
      in combination with other tools. John MacFarlane (of <a href=\\\"https://commonmark.org\\\">CommonMark</a>
      and <a href=\\\"https://pandoc.org/\\\">pandoc</a> fame) has <a href=\\\"https://github.com/jgm/pandoc/issues/8713\\\">started
      work</a> on a Typst pandoc writer, which will convert existing Markdown documents
      to Typst, and could enable the use of Typst as PDF generator while still writing
      Markdown and Python code in Quarto.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"accessibility-and-metadata\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"accessibility-and-metadata\\\">Accessibility
      and metadata</h3>\\n<p>It\u2019s good practice to make PDFs accessible, which
      requires adding semantic information to a PDF instead of \u201Cjust\u201D placing
      characters on a page. Accessibility is even a legal requirement for government-issued
      documents in many countries. There are standards like PDF/A-1a and PDF/UA that
      ensure people with disabilities can access the information contained in the
      PDF. This is currently not supperted in Typst. LaTeX is still trying to catch
      up there, too, while <a href=\\\"https://wiki.contextgarden.net/\\\">ConTeXt</a>
      and <a href=\\\"https://speedata.de/\\\">speedata</a> are doing well, for example.</p>\\n</section>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"predictions\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"predictions\\\">Predictions</h2>\\n<p>I
      believe Typst will succeed, but not as a full-fledged writing tool. The greatest
      value I see is in the <strong>responsive, interactive, and even collaborative
      styling of PDFs</strong>. That feature is truly unique and sets Typst appart
      from all other software out there. The tool obviously has the potential to reach
      the critical mass of contributors to become a sustainable open source project,
      and the tech choices help to attract more developers. Last but not least, the
      app is shiny, works well, and makes people want to use it.</p>\\n<p>At the same
      time, I believe that the Typst writing app won\u2019t take hold in scientific
      writing. Most of the current enthusiasm is contained to technical circles, and
      scientists don\u2019t have strong reasons to switch yet. To the contrary, journals
      expect paper submissions to be done in Word or LaTeX, not PDF. This won\u2019t
      change anytime soon. Typst will have to insert itself into the current publishing
      landscape, and that\u2019s not a trivial task.</p>\\n<p>For example, <a href=\\\"https://sciflow.net/\\\">SciFlow</a>
      and <a href=\\\"https://overleaf.com/\\\">Overleaf</a> already exist, cover
      most of the market needs, have a solid headstart, and \u2013 this is the important
      part \u2013 are well aligned with the needs of science publishers. Any new tool
      has to compete with them. Also, let\u2019s not forget all the other tools that
      I mentioned above.</p>\\n<p>Regardless, I\u2019m optimistic that Typst can carve
      out its own business niche to occupy. For example, hardly any of my points above
      matter in print publishing. An indie book publisher that allows authors to use
      Typst for layouting would be amazing.</p>\\n<p>I hope that the Typst team\u2019s
      hard work will pay off, and I will continue to follow their progress with great
      interest.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"acknowledgements\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"acknowledgements\\\">Acknowledgements</h2>\\n<p>Heart-felt
      thanks to <a href=\\\"https://hachyderm.io/@maegul\\\">@maegul@hachyderm.io</a>
      for the insightful feedback on an earlier version of this post, and to <a href=\\\"https://ilonasilverwood.github.io/\\\">Ilona
      Silverwood</a> for her skillful editing. This post became much better thanks
      to their input.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"updates\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"updates\\\">Updates</h2>\\n<p>An earlier
      version listed <a href=\\\"https://www.authorea.com/\\\">Authorea</a> as an
      authoring tool, but the platform has shifted focus since I last looked at it,
      so I\u2019ve removed it.</p>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>I
      consider <a href=\\\"https://lua.org/\\\">Lua</a> to be <em>the</em> language
      of publishing tools. It fuels <a href=\\\"https://pandoc.org/\\\">pandoc</a>,
      <a href=\\\"https://quarto.org/\\\">Quarto</a>, <a href=\\\"https://wiki.contextgarden.net/\\\">ConTeXt</a>,
      <a href=\\\"http://luatex.org/\\\">LuaLaTeX</a>, <a href=\\\"https://speedata.de/\\\">speedata</a>,
      <a href=\\\"https://sile-typesetter.org/\\\">SILE</a>, and probably a few more.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafa0d79098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:05 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-184c-7689-92ad-58c628eb79e6
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Ftypst-musings%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafa58b11965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:05 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-187c-7bc1-9024-130a23c3d77a
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '5'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Ftypst-musings%2F
  response:
    content: "{\"id\":\"9a0fae1b-4c02-4532-b16c-caf915881c98\",\"guid\":\"https://tarleb.com/posts/typst-musings/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/typst-musings/\",\"archive_url\":null,\"title\":\"Typst
      Musings\",\"summary\":\"Typst, the new writing tool, was open sourced a couple
      of days ago. This is right up my alley of course, and I have a couple of thoughts
      on it, which I share here. What is it?   Typst is a writing tool that\u2019s
      described as a LaTeX alternative: it takes plain-text markup as input and can
      produce nice looking PDFs from that.\",\"abstract\":null,\"content_html\":\"<p><a
      href=\\\"https://typst.app\\\">Typst</a>, the new writing tool, was open sourced
      a couple of days ago. This is right up my alley of course, and I have a couple
      of thoughts on it, which I share here.</p>\\n<section class=\\\"level2\\\" id=\\\"what-is-it\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"what-is-it\\\">What is it?</h2>\\n<p>Typst
      is a writing tool that\u2019s described as a LaTeX alternative: it takes plain-text
      markup as input and can produce nice looking PDFs from that. The open-sourcing
      of the code created a lot of excitement and interest, with the <a href=\\\"https://github.com/typst/typst\\\">GitHub
      repository</a> getting starred over 9,000 times in just a few days.</p>\\n<p>The
      tool comes with fresh and interesting ideas, impressive technology, and a good
      bit of hype\u2014so let\u2019s take a closer look.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"how-does-it-work\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"how-does-it-work\\\">How does it work?</h2>\\n<p>Typst is
      written in <a href=\\\"https://www.rust-lang.org/\\\">Rust</a>, a comparatively
      low-level programming language that fixes many shortcomings of other languages
      operating in the same domain. One interesting feature of Rust that Typst makes
      use of is compilation to web assembly, which allows us to run Rust programs
      in the browser. This is how Typst can do the blazing fast PDF generation <em>in
      the browser!</em></p>\\n<p>Of course this only works if it is Rust all the way
      down, which has important consequences. My first thought when I looked at the
      code was that it suffered from some serious <a href=\\\"https://en.wikipedia.org/wiki/Not_invented_here\\\">nih</a>
      syndrome: basically the whole stack is built on libraries written by the Typst
      team, even when high-qualitify open source libraries were available and could
      have been used with Rust.</p>\\n<p>But, while nih still seems relevant here
      and there, the majority of libraries make sense when viewed through the lens
      of wasm-compilation. My understanding is that it\u2019s not always easy to compile
      C libraries to wasm. And with a complex system like Typst, it is often essential
      to have full control over the underlying libraries. So I think most choices
      are quite reasonable.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"what-makes-it-popular\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"what-makes-it-popular\\\">What makes
      it popular?</h2>\\n<p>The Typst announcements on sites like <a href=\\\"https://news.ycombinator.com/item?id=35250210\\\">Hacker
      News</a> and <a href=\\\"https://lobste.rs/s/ko1yjj/typst_new_markup_based_typesetting\\\">lobste.rs</a>
      ranked \u2116\u20091, and the tool was mentioned in basically every social media
      circle and chat that I happen to be part of. There\u2019s clearly <em>a lot</em>
      of interest in a modernized version of LaTeX. Good ol\u2019 TeX and it\u2019s
      children have been around for a long while, and have essentially held the monopoly
      on PDF production for typographically advanced documents (tools like HTML-to-PDF
      converters like <a href=\\\"https://weasyprint.org/\\\">WeasyPrint</a> notwithstanding).</p>\\n<p>But
      the need for a nicer PDF generator is probably not the only reason why Typst
      gained so much traction. I believe that a lot of interest from the programmer
      community is fueled by the technological choices: Rust has the aura of a new
      and shiny tool that <a href=\\\"https://stackoverflow.blog/2023/01/26/comparing-tag-trends-with-our-most-loved-programming-languages/\\\">everyone
      would like to use</a>, <em>especially</em> the regulars on the aforementioned
      sites, who share an interest in the latest tools. An otherwise equivalent project
      written in a \u201Cboring\u201D language like Python would likely have sparked
      less interest.</p>\\n<p>I find it also important to note that Typst comes with
      <em>extensive documentation</em> that makes it easy to dive right in. It is
      far too common in the programming world to release some cool new tool into the
      wild, while treating documentation as an unimportant afterthought. Yes, I\u2019m
      guilty of that, too. Even the best tool can be unusable when its docs are missing
      or sparse. Typst didn\u2019t make this mistake, and I think it paid off.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"personal-opinions\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"personal-opinions\\\">Personal opinions</h2>\\n<p>This wouldn\u2019t
      be a proper \u201Cold man shakes fist at the clouds\u201D tech blog post if
      it didn\u2019t come with a number of \u201CI see room for improvements\u201D
      comments. Here we go.</p>\\n<section class=\\\"level3\\\" id=\\\"scripting\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"scripting\\\">Scripting</h3>\\n<p>One
      of my main concerns is the scripting language: It seems well designed, but I\u2019m
      not convinced that it was necessary to create a completely new language. I actually
      believe that something like Lua, which is established<sup>1</sup> but flexlible,
      would have worked well here. But what\u2019s more is that, if we accept that
      it was necessary to have a custom language, I would have preferred one that
      isn\u2019t Turing complete, i.e., one where we can be sure that document rendering
      will terminate. Something like <a href=\\\"https://dhall-lang.org/\\\">Dhall</a>.</p>\\n<p>As
      it currently stands we can neither reuse pre-existing code, nor do we have a
      guarantee that the document will stop evaluating at some point. It feels like
      a missed opportunity.</p>\\n</section>\\n<section class=\\\"level3\\\" id=\\\"notebooks\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"notebooks\\\">Notebooks</h3>\\n<p>Notebooks
      are a great tool to improve reproducibility in science writing. The code for
      analyses is collocated with the descriptive text in a single place. The data
      is closely linked to the final tables and graphics. It is one of the great features
      of <a href=\\\"https://quarto.org/\\\">Quarto</a>, <a href=\\\"https://jupyter.org/\\\">Jupyter</a>,
      <a href=\\\"https://orgmode.org/\\\">Org</a>, <a href=\\\"https://stenci.la/\\\">Stencila</a>,
      Mathematica, and so on, which makes them well suited for scientific writing
      in fields like medicine, psychology, and the natural sciences.</p>\\n<p>This
      could be an <a href=\\\"https://github.com/typst/typst/issues/117\\\">issue</a>
      for Typst, but I believe that it won\u2019t be a problem when Typst is used
      in combination with other tools. John MacFarlane (of <a href=\\\"https://commonmark.org\\\">CommonMark</a>
      and <a href=\\\"https://pandoc.org/\\\">pandoc</a> fame) has <a href=\\\"https://github.com/jgm/pandoc/issues/8713\\\">started
      work</a> on a Typst pandoc writer, which will convert existing Markdown documents
      to Typst, and could enable the use of Typst as PDF generator while still writing
      Markdown and Python code in Quarto.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"accessibility-and-metadata\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"accessibility-and-metadata\\\">Accessibility
      and metadata</h3>\\n<p>It\u2019s good practice to make PDFs accessible, which
      requires adding semantic information to a PDF instead of \u201Cjust\u201D placing
      characters on a page. Accessibility is even a legal requirement for government-issued
      documents in many countries. There are standards like PDF/A-1a and PDF/UA that
      ensure people with disabilities can access the information contained in the
      PDF. This is currently not supperted in Typst. LaTeX is still trying to catch
      up there, too, while <a href=\\\"https://wiki.contextgarden.net/\\\">ConTeXt</a>
      and <a href=\\\"https://speedata.de/\\\">speedata</a> are doing well, for example.</p>\\n</section>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"predictions\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"predictions\\\">Predictions</h2>\\n<p>I
      believe Typst will succeed, but not as a full-fledged writing tool. The greatest
      value I see is in the <strong>responsive, interactive, and even collaborative
      styling of PDFs</strong>. That feature is truly unique and sets Typst appart
      from all other software out there. The tool obviously has the potential to reach
      the critical mass of contributors to become a sustainable open source project,
      and the tech choices help to attract more developers. Last but not least, the
      app is shiny, works well, and makes people want to use it.</p>\\n<p>At the same
      time, I believe that the Typst writing app won\u2019t take hold in scientific
      writing. Most of the current enthusiasm is contained to technical circles, and
      scientists don\u2019t have strong reasons to switch yet. To the contrary, journals
      expect paper submissions to be done in Word or LaTeX, not PDF. This won\u2019t
      change anytime soon. Typst will have to insert itself into the current publishing
      landscape, and that\u2019s not a trivial task.</p>\\n<p>For example, <a href=\\\"https://sciflow.net/\\\">SciFlow</a>
      and <a href=\\\"https://overleaf.com/\\\">Overleaf</a> already exist, cover
      most of the market needs, have a solid headstart, and \u2013 this is the important
      part \u2013 are well aligned with the needs of science publishers. Any new tool
      has to compete with them. Also, let\u2019s not forget all the other tools that
      I mentioned above.</p>\\n<p>Regardless, I\u2019m optimistic that Typst can carve
      out its own business niche to occupy. For example, hardly any of my points above
      matter in print publishing. An indie book publisher that allows authors to use
      Typst for layouting would be amazing.</p>\\n<p>I hope that the Typst team\u2019s
      hard work will pay off, and I will continue to follow their progress with great
      interest.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"acknowledgements\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"acknowledgements\\\">Acknowledgements</h2>\\n<p>Heart-felt
      thanks to <a href=\\\"https://hachyderm.io/@maegul\\\">@maegul@hachyderm.io</a>
      for the insightful feedback on an earlier version of this post, and to <a href=\\\"https://ilonasilverwood.github.io/\\\">Ilona
      Silverwood</a> for her skillful editing. This post became much better thanks
      to their input.</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"updates\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"updates\\\">Updates</h2>\\n<p>An earlier
      version listed <a href=\\\"https://www.authorea.com/\\\">Authorea</a> as an
      authoring tool, but the platform has shifted focus since I last looked at it,
      so I\u2019ve removed it.</p>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>I
      consider <a href=\\\"https://lua.org/\\\">Lua</a> to be <em>the</em> language
      of publishing tools. It fuels <a href=\\\"https://pandoc.org/\\\">pandoc</a>,
      <a href=\\\"https://quarto.org/\\\">Quarto</a>, <a href=\\\"https://wiki.contextgarden.net/\\\">ConTeXt</a>,
      <a href=\\\"http://luatex.org/\\\">LuaLaTeX</a>, <a href=\\\"https://speedata.de/\\\">speedata</a>,
      <a href=\\\"https://sile-typesetter.org/\\\">SILE</a>, and probably a few more.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"published_at\":1679616000,\"updated_at\":1679616000,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":null,\"tags\":[\"PDF\"],\"language\":\"en\",\"reference\":[{\"id\":
      \"https://lua.org/\", \"unstructured\": \"I consider Lua to be the language
      of publishing tools. It fuels pandoc, Quarto, ConTeXt, LuaLaTeX, speedata, SILE,
      and probably a few more.\u21A9\uFE0E\"}],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafaa8f11965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Ftypst-musings%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:05 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-18b2-7c29-a5fd-25d0486d3dbe
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 200
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: https://rogue-scholar.org/api/communities?q=slug%3Atarleb&type=blog&type=subject&size=1
  response:
    body:
      string: '{"hits": {"hits": [{"id": "b67e853d-a24e-4cba-8499-75aa2ecf6edb", "created":
        "2024-10-10T20:10:10.900307+00:00", "updated": "2025-08-05T07:44:49.280885+00:00",
        "links": {"featured": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/featured",
        "self": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb",
        "self_html": "https://rogue-scholar.org/communities/tarleb/", "settings_html":
        "https://rogue-scholar.org/communities/tarleb/settings", "logo": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/logo",
        "rename": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/rename",
        "members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members",
        "public_members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members/public",
        "invitations": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/invitations",
        "requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/requests",
        "records": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/records",
        "membership_requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/membership-requests"},
        "revision_id": 297, "slug": "tarleb", "metadata": {"title": "tarleb", "description":
        "tarleb''s blog", "type": {"id": "blog", "title": {"de": "Blog", "en": "Blog",
        "sv": "Blogg"}}, "website": "https://tarleb.com/index.html"}, "access": {"visibility":
        "public", "members_visibility": "public", "member_policy": "open", "record_submission_policy":
        "open", "review_policy": "open"}, "custom_fields": {"rs:feed_url": "https://tarleb.com/index.xml",
        "rs:prefix": "10.59350", "rs:joined": "April 20, 2023", "rs:feed_format":
        "application/rss+xml", "rs:generator": "Quarto", "rs:license": "https://creativecommons.org/licenses/by/4.0/legalcode",
        "rs:language": "English", "rs:category": "Computer and information sciences"},
        "is_verified": false, "deletion_status": {"is_deleted": false, "status": "P"},
        "children": {"allow": false}}], "total": 1}, "aggregations": {"type": {"buckets":
        [{"key": "blog", "doc_count": 1, "label": "blog", "is_selected": true}], "label":
        "Type"}}, "sortBy": "bestmatch", "links": {"self": "https://rogue-scholar.org/api/communities?page=1&q=slug:tarleb&size=1&sort=bestmatch&type=blog&type=subject"}}'
    headers:
      Content-Length:
      - '2470'
      Content-Security-Policy:
      - 'default-src ''self'' data: ''unsafe-inline'' blob: *.rogue-scholar.org plausible.io
        www.youtube.com player.vimeo.com www.blogger.com; img-src *'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:05 GMT
      Permissions-Policy:
      - interest-cohort=()
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '1'
      Server:
      - gunicorn
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-Ratelimit-Limit:
      - '500'
      X-Ratelimit-Remaining:
      - '465'
      X-Ratelimit-Reset:
      - '1754423107'
      X-User-Id:
      - '4'
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Flist-continuation%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafc6a0c1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-19c8-7e1b-9d56-695c1a64f2a1
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: !!binary |
      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
      cvXrdclpd/oL
    headers:
      Content-Encoding:
      - br
      Content-Type:
      - application/x-sentry-envelope
      User-Agent:
      - sentry.python/2.34.1
      X-Sentry-Auth:
      - Sentry sentry_key=1c9eaaf51fe266c81428811887ed1699, sentry_version=7, sentry_client=sentry.python/2.34.1
    method: POST
    uri: https://o1035963.ingest.us.sentry.io/api/4508128176766976/envelope/
  response:
    body:
      string: '{"id":"52e947d9ff3047cfbb873dc86877f593"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Length:
      - '41'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Via:
      - 1.1 google
      access-control-allow-origin:
      - '*'
      access-control-expose-headers:
      - x-sentry-error,x-sentry-rate-limits,retry-after
      cross-origin-resource-policy:
      - cross-origin
      vary:
      - origin, access-control-request-method, access-control-request-headers
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Flist-continuation%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafcca5e1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1a06-74fc-83d2-5365bba95dff
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p>Line
      breaks usually have no semantic meaning within a Markdown paragraph. However,
      using line breaks to mark the end of a sentece can help with productivity for
      various reasons.<sup>1</sup> Documents with one sentence per line are also called
      \u201Cventilated prose\u201D, and the <a href=\\\"https://writetheasciidocs.netlify.app\\\">Write
      the {Ascii}Docs</a> website has a <a href=\\\"https://writetheasciidocs.netlify.app/ventilated-prose\\\">good
      article on that topic</a>.</p>\\n<p>A question came up in a Slack channel, asking
      whether it was possible to convert existing Markdown docs to this style. Naturally,
      the answer is \u201Cpandoc can do that\u201D, but that isn\u2019t obvious here.</p>\\n<p>The
      solution that I came up with is centered around pandoc\u2019s <em>SoftBreak</em>
      AST element. Pandoc uses SoftBreak elements internally to mark the place where
      line breaks occured in the input, but only if those breaks should be treated
      like spaces in most situations. The way to make those breaks visible in the
      output is to call pandoc with <code>--wrap=preserve</code> \u2013 only then
      will a line break in the input result in a break in the output in the same location.</p>\\n<pre><code>$
      printf 'Hello\\\\npandoc' | pandoc --to=markdown\\n\u21D2 Hello pandoc\\n\\n$
      printf 'Hello\\\\npandoc' | pandoc --to=markdown --wrap=preserve\\n\u21D2 Hello\\n\u21D2
      pandoc</code></pre>\\n<p>We are going to use SoftBreak for semantic line breaks,
      so the first step is to get rid of the SoftBreak elements created during parsing.
      A Lua filter can do so with</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb2\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code
      class=\\\"sourceCode lua\\\"><span id=\\\"cb2-1\\\"><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">SoftBreak</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span> <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span>Space<span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">()</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>Then
      we check for strings that end with a period and are followed by a space. The
      space in such a combination is then turned into a SoftBreak.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb3\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb3-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> semantic_line_feeds <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb3-2\\\">  <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span></span>\\n<span
      id=\\\"cb3-3\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">for</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">i</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">2</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">#</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">do</span></span>\\n<span
      id=\\\"cb3-4\\\">    <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">if</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">inlines</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">].</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">t</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'Space'</span>
      <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span></span>\\n<span id=\\\"cb3-5\\\">       <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">inlines</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">t</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'Str'</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">and</span></span>\\n<span
      id=\\\"cb3-6\\\">       <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">text</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">match</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'%.$'</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">then</span></span>\\n<span
      id=\\\"cb3-7\\\">      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">]</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>SoftBreak<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span></span>\\n<span
      id=\\\"cb3-8\\\">    <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb3-9\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span>\\n<span id=\\\"cb3-10\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span></span>\\n<span id=\\\"cb3-11\\\"><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span>\\n<span
      id=\\\"cb3-12\\\"></span>\\n<span id=\\\"cb3-13\\\"><span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span></span>\\n<span id=\\\"cb3-14\\\">  <span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">--
      remove soft breaks inserted during parsing.</span></span>\\n<span id=\\\"cb3-15\\\">
      \ <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">SoftBreak</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">()</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Space<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">},</span></span>\\n<span id=\\\"cb3-16\\\">
      \ <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- insert semantic soft breaks</span></span>\\n<span id=\\\"cb3-17\\\">
      \ <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">Para</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">semantic_line_feeds</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">Plain</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">semantic_line_feeds</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">},</span></span>\\n<span id=\\\"cb3-18\\\"><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">}</span></span></code></pre></div>\\n<p>This
      filter can then be combined with the <code>--wrap=preserve</code> option to
      get the desired semantic line breaks.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb4\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb4-1\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">printf</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'This. And that.'</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">|</span> <span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-L</span> semlf.lua <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--wrap</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>preserve</span>\\n<span id=\\\"cb4-2\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">\u21D2</span>
      This.</span>\\n<span id=\\\"cb4-3\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">\u21D2</span> And
      that.</span></code></pre></div>\\n<p>There, mission accomplished.<sup>2</sup></p>\\n<div
      class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section class=\\\"footnotes
      footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li
      id=\\\"fn1\\\"><p>It\u2019s not my cup of tea, but I can see why people might
      like the concept.\u21A9\uFE0E</p></li>\\n<li id=\\\"fn2\\\"><p>There are some
      cases in which the filter does not give the correct result, for example when
      using American-style punctuation after quotes, or when a full sentence is emphasized.
      It should be possible to fix the filter for these edge cases, but it doesn\u2019t
      seem worth the effort: the presented solution should work fine for 95\_% of
      all use cases.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"images\":[],\"updated_at\":1667088000,\"registered_at\":0,\"published_at\":1667088000,\"image\":null,\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[{\"unstructured\":\"It\u2019s
      not my cup of tea, but I can see why people might like the concept.\u21A9\uFE0E\"},{\"unstructured\":\"There
      are some cases in which the filter does not give the correct result, for example
      when using American-style punctuation after quotes, or when a full sentence
      is emphasized. It should be possible to fix the filter for these edge cases,
      but it doesn\u2019t seem worth the effort: the presented solution should work
      fine for 95\_% of all use cases.\u21A9\uFE0E\"}],\"relationships\":[],\"funding_references\":null,\"summary\":\"Line
      breaks usually have no semantic meaning within a Markdown paragraph. However,
      using line breaks to mark the end of a sentece can help with productivity for
      various reasons.\\n<sup>\\n 1\\n</sup>\\nDocuments with one sentence per line
      are also called \u201Cventilated prose\u201D, and the Write the {Ascii}Docs
      website has a good article on that topic.\",\"abstract\":null,\"tags\":[\"Markdown\",\"Pandoc\"],\"title\":\"Semantic
      line breaks\",\"url\":\"https://tarleb.com/posts/semantic-line-breaks/\",\"guid\":\"https://tarleb.com/posts/semantic-line-breaks/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '16025'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/semantic-line-breaks/\",\"title\":\"Semantic
      line breaks\",\"summary\":\"Line breaks usually have no semantic meaning within
      a Markdown paragraph. However, using line breaks to mark the end of a sentece
      can help with productivity for various reasons.\\n<sup>\\n 1\\n</sup>\\nDocuments
      with one sentence per line are also called \u201Cventilated prose\u201D, and
      the Write the {Ascii}Docs website has a good article on that topic.\",\"image\":null,\"tags\":[\"Markdown\",\"Pandoc\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"abbced2b-8051-4b73-be0c-6a380f5ec337\",\"reference\":[{\"unstructured\":
      \"It\u2019s not my cup of tea, but I can see why people might like the concept.\u21A9\uFE0E\"},
      {\"unstructured\": \"There are some cases in which the filter does not give
      the correct result, for example when using American-style punctuation after
      quotes, or when a full sentence is emphasized. It should be possible to fix
      the filter for these edge cases, but it doesn\u2019t seem worth the effort:
      the presented solution should work fine for 95\_% of all use cases.\u21A9\uFE0E\"}],\"updated_at\":1667088000,\"published_at\":1667088000,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/semantic-line-breaks/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>Line
      breaks usually have no semantic meaning within a Markdown paragraph. However,
      using line breaks to mark the end of a sentece can help with productivity for
      various reasons.<sup>1</sup> Documents with one sentence per line are also called
      \u201Cventilated prose\u201D, and the <a href=\\\"https://writetheasciidocs.netlify.app\\\">Write
      the {Ascii}Docs</a> website has a <a href=\\\"https://writetheasciidocs.netlify.app/ventilated-prose\\\">good
      article on that topic</a>.</p>\\n<p>A question came up in a Slack channel, asking
      whether it was possible to convert existing Markdown docs to this style. Naturally,
      the answer is \u201Cpandoc can do that\u201D, but that isn\u2019t obvious here.</p>\\n<p>The
      solution that I came up with is centered around pandoc\u2019s <em>SoftBreak</em>
      AST element. Pandoc uses SoftBreak elements internally to mark the place where
      line breaks occured in the input, but only if those breaks should be treated
      like spaces in most situations. The way to make those breaks visible in the
      output is to call pandoc with <code>--wrap=preserve</code> \u2013 only then
      will a line break in the input result in a break in the output in the same location.</p>\\n<pre><code>$
      printf 'Hello\\\\npandoc' | pandoc --to=markdown\\n\u21D2 Hello pandoc\\n\\n$
      printf 'Hello\\\\npandoc' | pandoc --to=markdown --wrap=preserve\\n\u21D2 Hello\\n\u21D2
      pandoc</code></pre>\\n<p>We are going to use SoftBreak for semantic line breaks,
      so the first step is to get rid of the SoftBreak elements created during parsing.
      A Lua filter can do so with</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb2\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code
      class=\\\"sourceCode lua\\\"><span id=\\\"cb2-1\\\"><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">SoftBreak</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span> <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span>Space<span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">()</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>Then
      we check for strings that end with a period and are followed by a space. The
      space in such a combination is then turned into a SoftBreak.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb3\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb3-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> semantic_line_feeds <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb3-2\\\">  <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span></span>\\n<span
      id=\\\"cb3-3\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">for</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">i</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">2</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">#</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">do</span></span>\\n<span
      id=\\\"cb3-4\\\">    <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">if</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">inlines</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">].</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">t</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'Space'</span>
      <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span></span>\\n<span id=\\\"cb3-5\\\">       <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">inlines</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">t</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'Str'</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">and</span></span>\\n<span
      id=\\\"cb3-6\\\">       <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">text</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">match</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'%.$'</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">then</span></span>\\n<span
      id=\\\"cb3-7\\\">      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">]</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>SoftBreak<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span></span>\\n<span
      id=\\\"cb3-8\\\">    <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb3-9\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span>\\n<span id=\\\"cb3-10\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span></span>\\n<span id=\\\"cb3-11\\\"><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span>\\n<span
      id=\\\"cb3-12\\\"></span>\\n<span id=\\\"cb3-13\\\"><span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span></span>\\n<span id=\\\"cb3-14\\\">  <span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">--
      remove soft breaks inserted during parsing.</span></span>\\n<span id=\\\"cb3-15\\\">
      \ <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">SoftBreak</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">()</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Space<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">},</span></span>\\n<span id=\\\"cb3-16\\\">
      \ <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- insert semantic soft breaks</span></span>\\n<span id=\\\"cb3-17\\\">
      \ <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">Para</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">semantic_line_feeds</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">Plain</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">semantic_line_feeds</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">},</span></span>\\n<span id=\\\"cb3-18\\\"><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">}</span></span></code></pre></div>\\n<p>This
      filter can then be combined with the <code>--wrap=preserve</code> option to
      get the desired semantic line breaks.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb4\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb4-1\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">printf</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'This. And that.'</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">|</span> <span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-L</span> semlf.lua <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--wrap</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>preserve</span>\\n<span id=\\\"cb4-2\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">\u21D2</span>
      This.</span>\\n<span id=\\\"cb4-3\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">\u21D2</span> And
      that.</span></code></pre></div>\\n<p>There, mission accomplished.<sup>2</sup></p>\\n<div
      class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section class=\\\"footnotes
      footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li
      id=\\\"fn1\\\"><p>It\u2019s not my cup of tea, but I can see why people might
      like the concept.\u21A9\uFE0E</p></li>\\n<li id=\\\"fn2\\\"><p>There are some
      cases in which the filter does not give the correct result, for example when
      using American-style punctuation after quotes, or when a full sentence is emphasized.
      It should be possible to fix the filter for these edge cases, but it doesn\u2019t
      seem worth the effort: the presented solution should work fine for 95\_% of
      all use cases.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafd3be7098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1a4b-7fe5-aca4-eb4901380b7a
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '4'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.abbced2b-8051-4b73-be0c-6a380f5ec337
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/semantic-line-breaks/\",\"title\":\"Semantic
      line breaks\",\"summary\":\"Line breaks usually have no semantic meaning within
      a Markdown paragraph. However, using line breaks to mark the end of a sentece
      can help with productivity for various reasons.\\n<sup>\\n 1\\n</sup>\\nDocuments
      with one sentence per line are also called \u201Cventilated prose\u201D, and
      the Write the {Ascii}Docs website has a good article on that topic.\",\"image\":null,\"tags\":[\"Markdown\",\"Pandoc\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"abbced2b-8051-4b73-be0c-6a380f5ec337\",\"reference\":[{\"unstructured\":
      \"It\u2019s not my cup of tea, but I can see why people might like the concept.\u21A9\uFE0E\"},
      {\"unstructured\": \"There are some cases in which the filter does not give
      the correct result, for example when using American-style punctuation after
      quotes, or when a full sentence is emphasized. It should be possible to fix
      the filter for these edge cases, but it doesn\u2019t seem worth the effort:
      the presented solution should work fine for 95\_% of all use cases.\u21A9\uFE0E\"}],\"updated_at\":1667088000,\"published_at\":1667088000,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/semantic-line-breaks/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>Line
      breaks usually have no semantic meaning within a Markdown paragraph. However,
      using line breaks to mark the end of a sentece can help with productivity for
      various reasons.<sup>1</sup> Documents with one sentence per line are also called
      \u201Cventilated prose\u201D, and the <a href=\\\"https://writetheasciidocs.netlify.app\\\">Write
      the {Ascii}Docs</a> website has a <a href=\\\"https://writetheasciidocs.netlify.app/ventilated-prose\\\">good
      article on that topic</a>.</p>\\n<p>A question came up in a Slack channel, asking
      whether it was possible to convert existing Markdown docs to this style. Naturally,
      the answer is \u201Cpandoc can do that\u201D, but that isn\u2019t obvious here.</p>\\n<p>The
      solution that I came up with is centered around pandoc\u2019s <em>SoftBreak</em>
      AST element. Pandoc uses SoftBreak elements internally to mark the place where
      line breaks occured in the input, but only if those breaks should be treated
      like spaces in most situations. The way to make those breaks visible in the
      output is to call pandoc with <code>--wrap=preserve</code> \u2013 only then
      will a line break in the input result in a break in the output in the same location.</p>\\n<pre><code>$
      printf 'Hello\\\\npandoc' | pandoc --to=markdown\\n\u21D2 Hello pandoc\\n\\n$
      printf 'Hello\\\\npandoc' | pandoc --to=markdown --wrap=preserve\\n\u21D2 Hello\\n\u21D2
      pandoc</code></pre>\\n<p>We are going to use SoftBreak for semantic line breaks,
      so the first step is to get rid of the SoftBreak elements created during parsing.
      A Lua filter can do so with</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb2\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code
      class=\\\"sourceCode lua\\\"><span id=\\\"cb2-1\\\"><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">SoftBreak</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span> <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span>Space<span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">()</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>Then
      we check for strings that end with a period and are followed by a space. The
      space in such a combination is then turned into a SoftBreak.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb3\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb3-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> semantic_line_feeds <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb3-2\\\">  <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span></span>\\n<span
      id=\\\"cb3-3\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">for</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">i</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">2</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">#</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">do</span></span>\\n<span
      id=\\\"cb3-4\\\">    <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">if</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">inlines</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">].</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">t</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'Space'</span>
      <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span></span>\\n<span id=\\\"cb3-5\\\">       <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">inlines</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">t</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'Str'</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">and</span></span>\\n<span
      id=\\\"cb3-6\\\">       <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">text</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">match</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'%.$'</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">then</span></span>\\n<span
      id=\\\"cb3-7\\\">      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">]</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>SoftBreak<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span></span>\\n<span
      id=\\\"cb3-8\\\">    <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb3-9\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span>\\n<span id=\\\"cb3-10\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span></span>\\n<span id=\\\"cb3-11\\\"><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span>\\n<span
      id=\\\"cb3-12\\\"></span>\\n<span id=\\\"cb3-13\\\"><span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span></span>\\n<span id=\\\"cb3-14\\\">  <span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">--
      remove soft breaks inserted during parsing.</span></span>\\n<span id=\\\"cb3-15\\\">
      \ <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">SoftBreak</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">()</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Space<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">},</span></span>\\n<span id=\\\"cb3-16\\\">
      \ <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- insert semantic soft breaks</span></span>\\n<span id=\\\"cb3-17\\\">
      \ <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">Para</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">semantic_line_feeds</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">Plain</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">semantic_line_feeds</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">},</span></span>\\n<span id=\\\"cb3-18\\\"><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">}</span></span></code></pre></div>\\n<p>This
      filter can then be combined with the <code>--wrap=preserve</code> option to
      get the desired semantic line breaks.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb4\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb4-1\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">printf</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'This. And that.'</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">|</span> <span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-L</span> semlf.lua <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--wrap</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>preserve</span>\\n<span id=\\\"cb4-2\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">\u21D2</span>
      This.</span>\\n<span id=\\\"cb4-3\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">\u21D2</span> And
      that.</span></code></pre></div>\\n<p>There, mission accomplished.<sup>2</sup></p>\\n<div
      class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section class=\\\"footnotes
      footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li
      id=\\\"fn1\\\"><p>It\u2019s not my cup of tea, but I can see why people might
      like the concept.\u21A9\uFE0E</p></li>\\n<li id=\\\"fn2\\\"><p>There are some
      cases in which the filter does not give the correct result, for example when
      using American-style punctuation after quotes, or when a full sentence is emphasized.
      It should be possible to fix the filter for these edge cases, but it doesn\u2019t
      seem worth the effort: the presented solution should work fine for 95\_% of
      all use cases.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafd9ca1098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1a88-748f-a95d-ff0441d120c0
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fsemantic-line-breaks%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafdfb541965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1acb-7ae1-b5bc-bd9e1dc24325
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fsemantic-line-breaks%2F
  response:
    content: "{\"id\":\"abbced2b-8051-4b73-be0c-6a380f5ec337\",\"guid\":\"https://tarleb.com/posts/semantic-line-breaks/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/semantic-line-breaks/\",\"archive_url\":null,\"title\":\"Semantic
      line breaks\",\"summary\":\"Line breaks usually have no semantic meaning within
      a Markdown paragraph. However, using line breaks to mark the end of a sentece
      can help with productivity for various reasons.\\n<sup>\\n 1\\n</sup>\\nDocuments
      with one sentence per line are also called \u201Cventilated prose\u201D, and
      the Write the {Ascii}Docs website has a good article on that topic.\",\"abstract\":null,\"content_html\":\"<p>Line
      breaks usually have no semantic meaning within a Markdown paragraph. However,
      using line breaks to mark the end of a sentece can help with productivity for
      various reasons.<sup>1</sup> Documents with one sentence per line are also called
      \u201Cventilated prose\u201D, and the <a href=\\\"https://writetheasciidocs.netlify.app\\\">Write
      the {Ascii}Docs</a> website has a <a href=\\\"https://writetheasciidocs.netlify.app/ventilated-prose\\\">good
      article on that topic</a>.</p>\\n<p>A question came up in a Slack channel, asking
      whether it was possible to convert existing Markdown docs to this style. Naturally,
      the answer is \u201Cpandoc can do that\u201D, but that isn\u2019t obvious here.</p>\\n<p>The
      solution that I came up with is centered around pandoc\u2019s <em>SoftBreak</em>
      AST element. Pandoc uses SoftBreak elements internally to mark the place where
      line breaks occured in the input, but only if those breaks should be treated
      like spaces in most situations. The way to make those breaks visible in the
      output is to call pandoc with <code>--wrap=preserve</code> \u2013 only then
      will a line break in the input result in a break in the output in the same location.</p>\\n<pre><code>$
      printf 'Hello\\\\npandoc' | pandoc --to=markdown\\n\u21D2 Hello pandoc\\n\\n$
      printf 'Hello\\\\npandoc' | pandoc --to=markdown --wrap=preserve\\n\u21D2 Hello\\n\u21D2
      pandoc</code></pre>\\n<p>We are going to use SoftBreak for semantic line breaks,
      so the first step is to get rid of the SoftBreak elements created during parsing.
      A Lua filter can do so with</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb2\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code
      class=\\\"sourceCode lua\\\"><span id=\\\"cb2-1\\\"><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">SoftBreak</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span> <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span>Space<span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">()</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>Then
      we check for strings that end with a period and are followed by a space. The
      space in such a combination is then turned into a SoftBreak.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb3\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb3-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> semantic_line_feeds <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb3-2\\\">  <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span></span>\\n<span
      id=\\\"cb3-3\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">for</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">i</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">2</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">#</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">do</span></span>\\n<span
      id=\\\"cb3-4\\\">    <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">if</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">inlines</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">].</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">t</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'Space'</span>
      <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span></span>\\n<span id=\\\"cb3-5\\\">       <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">inlines</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">t</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'Str'</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">and</span></span>\\n<span
      id=\\\"cb3-6\\\">       <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">text</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">match</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'%.$'</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">then</span></span>\\n<span
      id=\\\"cb3-7\\\">      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">inlines</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">i</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">]</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>SoftBreak<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span></span>\\n<span
      id=\\\"cb3-8\\\">    <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb3-9\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span>\\n<span id=\\\"cb3-10\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">el</span></span>\\n<span id=\\\"cb3-11\\\"><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span>\\n<span
      id=\\\"cb3-12\\\"></span>\\n<span id=\\\"cb3-13\\\"><span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span></span>\\n<span id=\\\"cb3-14\\\">  <span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">--
      remove soft breaks inserted during parsing.</span></span>\\n<span id=\\\"cb3-15\\\">
      \ <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">SoftBreak</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">()</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Space<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">()</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">},</span></span>\\n<span id=\\\"cb3-16\\\">
      \ <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- insert semantic soft breaks</span></span>\\n<span id=\\\"cb3-17\\\">
      \ <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">Para</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">semantic_line_feeds</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">Plain</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">semantic_line_feeds</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">},</span></span>\\n<span id=\\\"cb3-18\\\"><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">}</span></span></code></pre></div>\\n<p>This
      filter can then be combined with the <code>--wrap=preserve</code> option to
      get the desired semantic line breaks.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb4\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb4-1\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">printf</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'This. And that.'</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">|</span> <span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-L</span> semlf.lua <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--wrap</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>preserve</span>\\n<span id=\\\"cb4-2\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">\u21D2</span>
      This.</span>\\n<span id=\\\"cb4-3\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">\u21D2</span> And
      that.</span></code></pre></div>\\n<p>There, mission accomplished.<sup>2</sup></p>\\n<div
      class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section class=\\\"footnotes
      footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li
      id=\\\"fn1\\\"><p>It\u2019s not my cup of tea, but I can see why people might
      like the concept.\u21A9\uFE0E</p></li>\\n<li id=\\\"fn2\\\"><p>There are some
      cases in which the filter does not give the correct result, for example when
      using American-style punctuation after quotes, or when a full sentence is emphasized.
      It should be possible to fix the filter for these edge cases, but it doesn\u2019t
      seem worth the effort: the presented solution should work fine for 95\_% of
      all use cases.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"published_at\":1667088000,\"updated_at\":1667088000,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":null,\"tags\":[\"Markdown\",\"Pandoc\"],\"language\":\"en\",\"reference\":[{\"unstructured\":
      \"It\u2019s not my cup of tea, but I can see why people might like the concept.\u21A9\uFE0E\"},
      {\"unstructured\": \"There are some cases in which the filter does not give
      the correct result, for example when using American-style punctuation after
      quotes, or when a full sentence is emphasized. It should be possible to fix
      the filter for these edge cases, but it doesn\u2019t seem worth the effort:
      the presented solution should work fine for 95\_% of all use cases.\u21A9\uFE0E\"}],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cafe7bf51965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fsemantic-line-breaks%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1b19-79aa-8a6a-319fb59715b2
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Ftip-install-in-docker%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8caff6c9a1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1bae-7202-81de-e15ead470350
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Ftip-install-in-docker%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8caffccf11965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1bea-7241-b2e3-b82065aab2d5
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 406
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p>When
      extending pandoc (or Quarto) with Lua filters, we interact with so-called Lua
      userdata objects. These objects are used to wrap document AST elements, making
      them accessible from Lua scripts. They mostly behave like normal Lua tables.
      This post is intended as a quick overview, listing interesting properties of
      userdata objects.</p>\\n<section class=\\\"level2\\\" id=\\\"userdata-objects\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"userdata-objects\\\">Userdata objects</h2>\\n<p>Haskell-generated
      userdata objects have three main components: a type <em>name</em>, <em>properties</em>,
      and <em>methods</em>:</p>\\n<section class=\\\"level3\\\" id=\\\"type-name\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"type-name\\\">Type name</h3>\\n<p>The
      <em>name</em> can be retrieved with <code>pandoc.utils.type</code>. It should
      be treated as a read-only constant. Internally, the <em>name</em> is used as
      a type tag, which is important when retrieving an object from a Lua script back
      into the main program. It is possible to access the name through the debug interface,
      e.g.,</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode
      lua\\\"><span id=\\\"cb1-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> typename <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">x</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb1-2\\\">  <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">debug.getmetatable</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">x</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">).</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">__name</span></span>\\n<span
      id=\\\"cb1-3\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      above <code>typename</code> function is actually a bit faster than <code>pandoc.utils.type</code>.
      It can improve performance when accessing this info in a tight loop, but its
      use is not recommended.</p>\\n</section>\\n<section class=\\\"level3\\\" id=\\\"properties\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"properties\\\">Properties</h3>\\n<p><em>Properties</em>,
      e.g., the <code>content</code> fields of <em>Para</em> elements, are \u201Clazy\u201D:
      the property value is marshaled to Lua when the property is accessed for the
      first time. We are usually interested in no more than one or two element properties,
      so this is a big performance improvement for most scripts. Lazy properties are
      especially useful with large objects like <em>Pandoc</em>, which would otherwise
      take a long time to marshal and unmarshal with all their child elements.</p>\\n<p>However,
      this lazy marshaling is slower if all properties will be accessed anyway. If
      there are performance issues due to lazy properties, then please let me know,
      and I\u2019ll try to find a fix.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"methods\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"methods\\\">Methods</h3>\\n<p><em>Methods</em>
      are wrapped Haskell functions: when calling a method, the arguments are unmarshaled
      back into Haskell objects, which are then passed to the wrapped function and
      processed in Haskell. The computation\u2019s result is then pushed back to Lua.</p>\\n<p>This
      may sound weirdly complicated. While <em>it is</em> slow for very simple functions
      (like <code>pandoc.utils.type</code>), it\u2019s very fast and convenient for
      complex methods like <code>Pandoc:walk</code>: objects with lazy properties
      are fast to unmarshal, the main Haskell code is fast, and it frees us from having
      to re-implement Haskell algorithms in Lua.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"iterating\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"iterating\\\">Iterating</h3>\\n<p>The
      properties and methods are listed when iterating with <code>pairs</code>. The
      iteration order is defined at compile time, with properties listed first, followed
      by methods. We usually try to keep each of these lists sorted alphabetically,
      but there may be exceptions.</p>\\n<p>Calling <code>pairs</code> on a Haskell
      userdata object will always succeed, even if it has neither methods nor properties;
      the result will be the empty iterator in that case.</p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"aliases\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"aliases\\\">Aliases</h3>\\n<p>Some
      objects also have property aliases: E.g., <code>div.classes</code> is really
      just an alias for <code>div.attr.classes</code>. Both entries point to the same
      list object. Aliases are not included in the iterator generated by <code>pairs</code>.
      See the internals on how to get a hold of them.</p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"list-behavior\\\">\\n<h3 class=\\\"anchored\\\"
      data-anchor-id=\\\"list-behavior\\\">List behavior</h3>\\n<p>Userdata objects
      can be made to behave like lists, but iterating over those \u201Clists\u201D
      is comparatively slow. That\u2019s why the only object that uses this feature
      is <code>PANDOC_VERSION</code>: for example, we can write <code>PANDOC_VERSION[2]
      &gt;= 19</code> to check <em>just</em> the major version.<sup>1</sup></p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"internals\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"internals\\\">Internals</h3>\\n<p>Each
      type has a metatable, which defines its behavior. Most users should not need
      to access the metatable, so the <code>getmetatable</code> function returns <code>true</code>
      instead of the actual metatable when called on a Haskell userdata object. As
      we\u2019ve seen with type names, It\u2019s still possible to inspect the userdata
      metatable with the help of <code>debug.getmetatable</code>.</p>\\n<p>The metatable
      has four interesting fields: <code>methods</code>, <code>aliases</code>, <code>getters</code>,
      and <code>setters</code>. The fields contain just what you\u2019d expect.</p>\\n<p>E.g.,
      we can inspect the list of aliases defined for Inline objects with</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span
      id=\\\"cb2-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">InlineMT</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">debug.getmetatable</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Str <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">''</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span></span>\\n<span id=\\\"cb2-2\\\"><span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">for</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">keys</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">in</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pairs</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">InlineMT</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">aliases</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span> <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">do</span></span>\\n<span id=\\\"cb2-3\\\">
      \ <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- print the alias name and the alias value</span></span>\\n<span
      id=\\\"cb2-4\\\">  <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">print</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'is an alias for'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">,</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">table.concat</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">keys</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'.'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">))</span></span>\\n<span id=\\\"cb2-5\\\"><span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>Do
      not rely on the internal structure, and do not modify the metatable. Here be
      dragons.</p>\\n</section>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>This
      feature exists only to ensure backwards compatibility. It is better to do comparisons
      in like <code>PANDOC_VERSION &gt;= '2.19'</code> instead.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"images\":[],\"updated_at\":1662508800,\"registered_at\":0,\"published_at\":1662508800,\"image\":null,\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[{\"unstructured\":\"This
      feature exists only to ensure backwards compatibility. It is better to do comparisons
      in like PANDOC_VERSION >= '2.19' instead.\u21A9\uFE0E\"}],\"relationships\":[],\"funding_references\":null,\"summary\":\"When
      extending pandoc (or Quarto) with Lua filters, we interact with so-called Lua
      userdata objects. These objects are used to wrap document AST elements, making
      them accessible from Lua scripts. They mostly behave like normal Lua tables.
      This post is intended as a quick overview, listing interesting properties of
      userdata objects.\",\"abstract\":null,\"tags\":[\"Haskell\",\"Lua\",\"Pandoc\",\"Quarto\"],\"title\":\"Haskell
      usedata objects\",\"url\":\"https://tarleb.com/posts/haskell-lua-objects/\",\"guid\":\"https://tarleb.com/posts/haskell-lua-objects/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '12074'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/haskell-lua-objects/\",\"title\":\"Haskell
      usedata objects\",\"summary\":\"When extending pandoc (or Quarto) with Lua filters,
      we interact with so-called Lua userdata objects. These objects are used to wrap
      document AST elements, making them accessible from Lua scripts. They mostly
      behave like normal Lua tables. This post is intended as a quick overview, listing
      interesting properties of userdata objects.\",\"image\":null,\"tags\":[\"Haskell\",\"Lua\",\"Pandoc\",\"Quarto\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"f85f1bf0-4e94-4861-8308-b86d87503ff4\",\"reference\":[{\"unstructured\":
      \"This feature exists only to ensure backwards compatibility. It is better to
      do comparisons in like PANDOC_VERSION >= '2.19' instead.\u21A9\uFE0E\"}],\"updated_at\":1662508800,\"published_at\":1662508800,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/haskell-lua-objects/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>When
      extending pandoc (or Quarto) with Lua filters, we interact with so-called Lua
      userdata objects. These objects are used to wrap document AST elements, making
      them accessible from Lua scripts. They mostly behave like normal Lua tables.
      This post is intended as a quick overview, listing interesting properties of
      userdata objects.</p>\\n<section class=\\\"level2\\\" id=\\\"userdata-objects\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"userdata-objects\\\">Userdata objects</h2>\\n<p>Haskell-generated
      userdata objects have three main components: a type <em>name</em>, <em>properties</em>,
      and <em>methods</em>:</p>\\n<section class=\\\"level3\\\" id=\\\"type-name\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"type-name\\\">Type name</h3>\\n<p>The
      <em>name</em> can be retrieved with <code>pandoc.utils.type</code>. It should
      be treated as a read-only constant. Internally, the <em>name</em> is used as
      a type tag, which is important when retrieving an object from a Lua script back
      into the main program. It is possible to access the name through the debug interface,
      e.g.,</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode
      lua\\\"><span id=\\\"cb1-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> typename <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">x</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb1-2\\\">  <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">debug.getmetatable</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">x</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">).</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">__name</span></span>\\n<span
      id=\\\"cb1-3\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      above <code>typename</code> function is actually a bit faster than <code>pandoc.utils.type</code>.
      It can improve performance when accessing this info in a tight loop, but its
      use is not recommended.</p>\\n</section>\\n<section class=\\\"level3\\\" id=\\\"properties\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"properties\\\">Properties</h3>\\n<p><em>Properties</em>,
      e.g., the <code>content</code> fields of <em>Para</em> elements, are \u201Clazy\u201D:
      the property value is marshaled to Lua when the property is accessed for the
      first time. We are usually interested in no more than one or two element properties,
      so this is a big performance improvement for most scripts. Lazy properties are
      especially useful with large objects like <em>Pandoc</em>, which would otherwise
      take a long time to marshal and unmarshal with all their child elements.</p>\\n<p>However,
      this lazy marshaling is slower if all properties will be accessed anyway. If
      there are performance issues due to lazy properties, then please let me know,
      and I\u2019ll try to find a fix.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"methods\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"methods\\\">Methods</h3>\\n<p><em>Methods</em>
      are wrapped Haskell functions: when calling a method, the arguments are unmarshaled
      back into Haskell objects, which are then passed to the wrapped function and
      processed in Haskell. The computation\u2019s result is then pushed back to Lua.</p>\\n<p>This
      may sound weirdly complicated. While <em>it is</em> slow for very simple functions
      (like <code>pandoc.utils.type</code>), it\u2019s very fast and convenient for
      complex methods like <code>Pandoc:walk</code>: objects with lazy properties
      are fast to unmarshal, the main Haskell code is fast, and it frees us from having
      to re-implement Haskell algorithms in Lua.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"iterating\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"iterating\\\">Iterating</h3>\\n<p>The
      properties and methods are listed when iterating with <code>pairs</code>. The
      iteration order is defined at compile time, with properties listed first, followed
      by methods. We usually try to keep each of these lists sorted alphabetically,
      but there may be exceptions.</p>\\n<p>Calling <code>pairs</code> on a Haskell
      userdata object will always succeed, even if it has neither methods nor properties;
      the result will be the empty iterator in that case.</p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"aliases\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"aliases\\\">Aliases</h3>\\n<p>Some
      objects also have property aliases: E.g., <code>div.classes</code> is really
      just an alias for <code>div.attr.classes</code>. Both entries point to the same
      list object. Aliases are not included in the iterator generated by <code>pairs</code>.
      See the internals on how to get a hold of them.</p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"list-behavior\\\">\\n<h3 class=\\\"anchored\\\"
      data-anchor-id=\\\"list-behavior\\\">List behavior</h3>\\n<p>Userdata objects
      can be made to behave like lists, but iterating over those \u201Clists\u201D
      is comparatively slow. That\u2019s why the only object that uses this feature
      is <code>PANDOC_VERSION</code>: for example, we can write <code>PANDOC_VERSION[2]
      &gt;= 19</code> to check <em>just</em> the major version.<sup>1</sup></p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"internals\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"internals\\\">Internals</h3>\\n<p>Each
      type has a metatable, which defines its behavior. Most users should not need
      to access the metatable, so the <code>getmetatable</code> function returns <code>true</code>
      instead of the actual metatable when called on a Haskell userdata object. As
      we\u2019ve seen with type names, It\u2019s still possible to inspect the userdata
      metatable with the help of <code>debug.getmetatable</code>.</p>\\n<p>The metatable
      has four interesting fields: <code>methods</code>, <code>aliases</code>, <code>getters</code>,
      and <code>setters</code>. The fields contain just what you\u2019d expect.</p>\\n<p>E.g.,
      we can inspect the list of aliases defined for Inline objects with</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span
      id=\\\"cb2-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">InlineMT</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">debug.getmetatable</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Str <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">''</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span></span>\\n<span id=\\\"cb2-2\\\"><span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">for</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">keys</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">in</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pairs</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">InlineMT</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">aliases</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span> <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">do</span></span>\\n<span id=\\\"cb2-3\\\">
      \ <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- print the alias name and the alias value</span></span>\\n<span
      id=\\\"cb2-4\\\">  <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">print</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'is an alias for'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">,</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">table.concat</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">keys</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'.'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">))</span></span>\\n<span id=\\\"cb2-5\\\"><span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>Do
      not rely on the internal structure, and do not modify the metatable. Here be
      dragons.</p>\\n</section>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>This
      feature exists only to ensure backwards compatibility. It is better to do comparisons
      in like <code>PANDOC_VERSION &gt;= '2.19'</code> instead.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb003a22098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1c2b-7601-add8-174b5772b9b5
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '5'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.f85f1bf0-4e94-4861-8308-b86d87503ff4
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/haskell-lua-objects/\",\"title\":\"Haskell
      usedata objects\",\"summary\":\"When extending pandoc (or Quarto) with Lua filters,
      we interact with so-called Lua userdata objects. These objects are used to wrap
      document AST elements, making them accessible from Lua scripts. They mostly
      behave like normal Lua tables. This post is intended as a quick overview, listing
      interesting properties of userdata objects.\",\"image\":null,\"tags\":[\"Haskell\",\"Lua\",\"Pandoc\",\"Quarto\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"f85f1bf0-4e94-4861-8308-b86d87503ff4\",\"reference\":[{\"unstructured\":
      \"This feature exists only to ensure backwards compatibility. It is better to
      do comparisons in like PANDOC_VERSION >= '2.19' instead.\u21A9\uFE0E\"}],\"updated_at\":1662508800,\"published_at\":1662508800,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/haskell-lua-objects/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>When
      extending pandoc (or Quarto) with Lua filters, we interact with so-called Lua
      userdata objects. These objects are used to wrap document AST elements, making
      them accessible from Lua scripts. They mostly behave like normal Lua tables.
      This post is intended as a quick overview, listing interesting properties of
      userdata objects.</p>\\n<section class=\\\"level2\\\" id=\\\"userdata-objects\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"userdata-objects\\\">Userdata objects</h2>\\n<p>Haskell-generated
      userdata objects have three main components: a type <em>name</em>, <em>properties</em>,
      and <em>methods</em>:</p>\\n<section class=\\\"level3\\\" id=\\\"type-name\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"type-name\\\">Type name</h3>\\n<p>The
      <em>name</em> can be retrieved with <code>pandoc.utils.type</code>. It should
      be treated as a read-only constant. Internally, the <em>name</em> is used as
      a type tag, which is important when retrieving an object from a Lua script back
      into the main program. It is possible to access the name through the debug interface,
      e.g.,</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode
      lua\\\"><span id=\\\"cb1-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> typename <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">x</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb1-2\\\">  <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">debug.getmetatable</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">x</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">).</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">__name</span></span>\\n<span
      id=\\\"cb1-3\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      above <code>typename</code> function is actually a bit faster than <code>pandoc.utils.type</code>.
      It can improve performance when accessing this info in a tight loop, but its
      use is not recommended.</p>\\n</section>\\n<section class=\\\"level3\\\" id=\\\"properties\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"properties\\\">Properties</h3>\\n<p><em>Properties</em>,
      e.g., the <code>content</code> fields of <em>Para</em> elements, are \u201Clazy\u201D:
      the property value is marshaled to Lua when the property is accessed for the
      first time. We are usually interested in no more than one or two element properties,
      so this is a big performance improvement for most scripts. Lazy properties are
      especially useful with large objects like <em>Pandoc</em>, which would otherwise
      take a long time to marshal and unmarshal with all their child elements.</p>\\n<p>However,
      this lazy marshaling is slower if all properties will be accessed anyway. If
      there are performance issues due to lazy properties, then please let me know,
      and I\u2019ll try to find a fix.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"methods\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"methods\\\">Methods</h3>\\n<p><em>Methods</em>
      are wrapped Haskell functions: when calling a method, the arguments are unmarshaled
      back into Haskell objects, which are then passed to the wrapped function and
      processed in Haskell. The computation\u2019s result is then pushed back to Lua.</p>\\n<p>This
      may sound weirdly complicated. While <em>it is</em> slow for very simple functions
      (like <code>pandoc.utils.type</code>), it\u2019s very fast and convenient for
      complex methods like <code>Pandoc:walk</code>: objects with lazy properties
      are fast to unmarshal, the main Haskell code is fast, and it frees us from having
      to re-implement Haskell algorithms in Lua.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"iterating\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"iterating\\\">Iterating</h3>\\n<p>The
      properties and methods are listed when iterating with <code>pairs</code>. The
      iteration order is defined at compile time, with properties listed first, followed
      by methods. We usually try to keep each of these lists sorted alphabetically,
      but there may be exceptions.</p>\\n<p>Calling <code>pairs</code> on a Haskell
      userdata object will always succeed, even if it has neither methods nor properties;
      the result will be the empty iterator in that case.</p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"aliases\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"aliases\\\">Aliases</h3>\\n<p>Some
      objects also have property aliases: E.g., <code>div.classes</code> is really
      just an alias for <code>div.attr.classes</code>. Both entries point to the same
      list object. Aliases are not included in the iterator generated by <code>pairs</code>.
      See the internals on how to get a hold of them.</p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"list-behavior\\\">\\n<h3 class=\\\"anchored\\\"
      data-anchor-id=\\\"list-behavior\\\">List behavior</h3>\\n<p>Userdata objects
      can be made to behave like lists, but iterating over those \u201Clists\u201D
      is comparatively slow. That\u2019s why the only object that uses this feature
      is <code>PANDOC_VERSION</code>: for example, we can write <code>PANDOC_VERSION[2]
      &gt;= 19</code> to check <em>just</em> the major version.<sup>1</sup></p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"internals\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"internals\\\">Internals</h3>\\n<p>Each
      type has a metatable, which defines its behavior. Most users should not need
      to access the metatable, so the <code>getmetatable</code> function returns <code>true</code>
      instead of the actual metatable when called on a Haskell userdata object. As
      we\u2019ve seen with type names, It\u2019s still possible to inspect the userdata
      metatable with the help of <code>debug.getmetatable</code>.</p>\\n<p>The metatable
      has four interesting fields: <code>methods</code>, <code>aliases</code>, <code>getters</code>,
      and <code>setters</code>. The fields contain just what you\u2019d expect.</p>\\n<p>E.g.,
      we can inspect the list of aliases defined for Inline objects with</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span
      id=\\\"cb2-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">InlineMT</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">debug.getmetatable</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Str <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">''</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span></span>\\n<span id=\\\"cb2-2\\\"><span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">for</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">keys</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">in</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pairs</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">InlineMT</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">aliases</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span> <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">do</span></span>\\n<span id=\\\"cb2-3\\\">
      \ <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- print the alias name and the alias value</span></span>\\n<span
      id=\\\"cb2-4\\\">  <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">print</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'is an alias for'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">,</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">table.concat</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">keys</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'.'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">))</span></span>\\n<span id=\\\"cb2-5\\\"><span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>Do
      not rely on the internal structure, and do not modify the metatable. Here be
      dragons.</p>\\n</section>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>This
      feature exists only to ensure backwards compatibility. It is better to do comparisons
      in like <code>PANDOC_VERSION &gt;= '2.19'</code> instead.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb009aef098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1c65-7787-85ff-7c951cd74441
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fhaskell-lua-objects%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb010dc21965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1cb3-75ba-8aec-a0985584d18c
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '7'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fhaskell-lua-objects%2F
  response:
    content: "{\"id\":\"f85f1bf0-4e94-4861-8308-b86d87503ff4\",\"guid\":\"https://tarleb.com/posts/haskell-lua-objects/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/haskell-lua-objects/\",\"archive_url\":null,\"title\":\"Haskell
      usedata objects\",\"summary\":\"When extending pandoc (or Quarto) with Lua filters,
      we interact with so-called Lua userdata objects. These objects are used to wrap
      document AST elements, making them accessible from Lua scripts. They mostly
      behave like normal Lua tables. This post is intended as a quick overview, listing
      interesting properties of userdata objects.\",\"abstract\":null,\"content_html\":\"<p>When
      extending pandoc (or Quarto) with Lua filters, we interact with so-called Lua
      userdata objects. These objects are used to wrap document AST elements, making
      them accessible from Lua scripts. They mostly behave like normal Lua tables.
      This post is intended as a quick overview, listing interesting properties of
      userdata objects.</p>\\n<section class=\\\"level2\\\" id=\\\"userdata-objects\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"userdata-objects\\\">Userdata objects</h2>\\n<p>Haskell-generated
      userdata objects have three main components: a type <em>name</em>, <em>properties</em>,
      and <em>methods</em>:</p>\\n<section class=\\\"level3\\\" id=\\\"type-name\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"type-name\\\">Type name</h3>\\n<p>The
      <em>name</em> can be retrieved with <code>pandoc.utils.type</code>. It should
      be treated as a read-only constant. Internally, the <em>name</em> is used as
      a type tag, which is important when retrieving an object from a Lua script back
      into the main program. It is possible to access the name through the debug interface,
      e.g.,</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode
      lua\\\"><span id=\\\"cb1-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> typename <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">x</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb1-2\\\">  <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">debug.getmetatable</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">x</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">).</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">__name</span></span>\\n<span
      id=\\\"cb1-3\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      above <code>typename</code> function is actually a bit faster than <code>pandoc.utils.type</code>.
      It can improve performance when accessing this info in a tight loop, but its
      use is not recommended.</p>\\n</section>\\n<section class=\\\"level3\\\" id=\\\"properties\\\">\\n<h3
      class=\\\"anchored\\\" data-anchor-id=\\\"properties\\\">Properties</h3>\\n<p><em>Properties</em>,
      e.g., the <code>content</code> fields of <em>Para</em> elements, are \u201Clazy\u201D:
      the property value is marshaled to Lua when the property is accessed for the
      first time. We are usually interested in no more than one or two element properties,
      so this is a big performance improvement for most scripts. Lazy properties are
      especially useful with large objects like <em>Pandoc</em>, which would otherwise
      take a long time to marshal and unmarshal with all their child elements.</p>\\n<p>However,
      this lazy marshaling is slower if all properties will be accessed anyway. If
      there are performance issues due to lazy properties, then please let me know,
      and I\u2019ll try to find a fix.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"methods\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"methods\\\">Methods</h3>\\n<p><em>Methods</em>
      are wrapped Haskell functions: when calling a method, the arguments are unmarshaled
      back into Haskell objects, which are then passed to the wrapped function and
      processed in Haskell. The computation\u2019s result is then pushed back to Lua.</p>\\n<p>This
      may sound weirdly complicated. While <em>it is</em> slow for very simple functions
      (like <code>pandoc.utils.type</code>), it\u2019s very fast and convenient for
      complex methods like <code>Pandoc:walk</code>: objects with lazy properties
      are fast to unmarshal, the main Haskell code is fast, and it frees us from having
      to re-implement Haskell algorithms in Lua.</p>\\n</section>\\n<section class=\\\"level3\\\"
      id=\\\"iterating\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"iterating\\\">Iterating</h3>\\n<p>The
      properties and methods are listed when iterating with <code>pairs</code>. The
      iteration order is defined at compile time, with properties listed first, followed
      by methods. We usually try to keep each of these lists sorted alphabetically,
      but there may be exceptions.</p>\\n<p>Calling <code>pairs</code> on a Haskell
      userdata object will always succeed, even if it has neither methods nor properties;
      the result will be the empty iterator in that case.</p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"aliases\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"aliases\\\">Aliases</h3>\\n<p>Some
      objects also have property aliases: E.g., <code>div.classes</code> is really
      just an alias for <code>div.attr.classes</code>. Both entries point to the same
      list object. Aliases are not included in the iterator generated by <code>pairs</code>.
      See the internals on how to get a hold of them.</p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"list-behavior\\\">\\n<h3 class=\\\"anchored\\\"
      data-anchor-id=\\\"list-behavior\\\">List behavior</h3>\\n<p>Userdata objects
      can be made to behave like lists, but iterating over those \u201Clists\u201D
      is comparatively slow. That\u2019s why the only object that uses this feature
      is <code>PANDOC_VERSION</code>: for example, we can write <code>PANDOC_VERSION[2]
      &gt;= 19</code> to check <em>just</em> the major version.<sup>1</sup></p>\\n</section>\\n<section
      class=\\\"level3\\\" id=\\\"internals\\\">\\n<h3 class=\\\"anchored\\\" data-anchor-id=\\\"internals\\\">Internals</h3>\\n<p>Each
      type has a metatable, which defines its behavior. Most users should not need
      to access the metatable, so the <code>getmetatable</code> function returns <code>true</code>
      instead of the actual metatable when called on a Haskell userdata object. As
      we\u2019ve seen with type names, It\u2019s still possible to inspect the userdata
      metatable with the help of <code>debug.getmetatable</code>.</p>\\n<p>The metatable
      has four interesting fields: <code>methods</code>, <code>aliases</code>, <code>getters</code>,
      and <code>setters</code>. The fields contain just what you\u2019d expect.</p>\\n<p>E.g.,
      we can inspect the list of aliases defined for Inline objects with</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span
      id=\\\"cb2-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">InlineMT</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">debug.getmetatable</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Str <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">''</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span></span>\\n<span id=\\\"cb2-2\\\"><span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">for</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">keys</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">in</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pairs</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">InlineMT</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">aliases</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span> <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">do</span></span>\\n<span id=\\\"cb2-3\\\">
      \ <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- print the alias name and the alias value</span></span>\\n<span
      id=\\\"cb2-4\\\">  <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">print</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'is an alias for'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">,</span> <span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">table.concat</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">keys</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'.'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">))</span></span>\\n<span id=\\\"cb2-5\\\"><span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>Do
      not rely on the internal structure, and do not modify the metatable. Here be
      dragons.</p>\\n</section>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>This
      feature exists only to ensure backwards compatibility. It is better to do comparisons
      in like <code>PANDOC_VERSION &gt;= '2.19'</code> instead.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"published_at\":1662508800,\"updated_at\":1662508800,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":null,\"tags\":[\"Haskell\",\"Lua\",\"Pandoc\",\"Quarto\"],\"language\":\"en\",\"reference\":[{\"unstructured\":
      \"This feature exists only to ensure backwards compatibility. It is better to
      do comparisons in like PANDOC_VERSION >= '2.19' instead.\u21A9\uFE0E\"}],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb017e0e1965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fhaskell-lua-objects%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:06 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1cf7-756c-bd87-871ed3c2421d
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 200
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: https://rogue-scholar.org/api/communities?q=slug%3Atarleb&type=blog&type=subject&size=1
  response:
    body:
      string: '{"hits": {"hits": [{"id": "b67e853d-a24e-4cba-8499-75aa2ecf6edb", "created":
        "2024-10-10T20:10:10.900307+00:00", "updated": "2025-08-05T07:44:49.280885+00:00",
        "links": {"featured": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/featured",
        "self": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb",
        "self_html": "https://rogue-scholar.org/communities/tarleb/", "settings_html":
        "https://rogue-scholar.org/communities/tarleb/settings", "logo": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/logo",
        "rename": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/rename",
        "members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members",
        "public_members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members/public",
        "invitations": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/invitations",
        "requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/requests",
        "records": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/records",
        "membership_requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/membership-requests"},
        "revision_id": 297, "slug": "tarleb", "metadata": {"title": "tarleb", "description":
        "tarleb''s blog", "type": {"id": "blog", "title": {"de": "Blog", "en": "Blog",
        "sv": "Blogg"}}, "website": "https://tarleb.com/index.html"}, "access": {"visibility":
        "public", "members_visibility": "public", "member_policy": "open", "record_submission_policy":
        "open", "review_policy": "open"}, "custom_fields": {"rs:feed_url": "https://tarleb.com/index.xml",
        "rs:prefix": "10.59350", "rs:joined": "April 20, 2023", "rs:feed_format":
        "application/rss+xml", "rs:generator": "Quarto", "rs:license": "https://creativecommons.org/licenses/by/4.0/legalcode",
        "rs:language": "English", "rs:category": "Computer and information sciences"},
        "is_verified": false, "deletion_status": {"is_deleted": false, "status": "P"},
        "children": {"allow": false}}], "total": 1}, "aggregations": {"type": {"buckets":
        [{"key": "blog", "doc_count": 1, "label": "blog", "is_selected": true}], "label":
        "Type"}}, "sortBy": "bestmatch", "links": {"self": "https://rogue-scholar.org/api/communities?page=1&q=slug:tarleb&size=1&sort=bestmatch&type=blog&type=subject"}}'
    headers:
      Content-Length:
      - '2470'
      Content-Security-Policy:
      - 'default-src ''self'' data: ''unsafe-inline'' blob: *.rogue-scholar.org plausible.io
        www.youtube.com player.vimeo.com www.blogger.com; img-src *'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      Permissions-Policy:
      - interest-cohort=()
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '0'
      Server:
      - gunicorn
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-Ratelimit-Limit:
      - '500'
      X-Ratelimit-Remaining:
      - '466'
      X-Ratelimit-Reset:
      - '1754423108'
      X-User-Id:
      - '4'
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Ftip-document-font%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb036f5e1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1e2d-7f83-8964-589fa3832461
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: !!binary |
      W8ehEUU17YcYkZrUA6CRsnD+/hE6fM77z19a/c/Pl/bNzOJ0yRgwvlTtPm5nN0cn7ivBRQt4gGIh
      qSWRBLt8mtr3na4PArSxyV+RoXezsd4UT7FBSZTNebKoEenu8YT/X2dvfaBLlXR7tqgAiy4pt8Ku
      u/AKSQ7I44DkmcL+fwrP/F9ooPAf5+nZ1sAnnGxwfhbYySJ4IMCL2G3TEHDTSfICscNafvKSZopu
      t62yRZWisg6Z/me/JYHi5jPZz/pB79XPK1sxDQgQ0Rd/qbTbPndT8KHjSQaSOBL/tR4BH1H5XFTA
      YIqr6WyGZZ2mdcrj6TKu03pZLOaztI54VQAFh8rn3AODJEpm42g5jmbbeMXSGYsWYRStkmh5BxS8
      5SUCO4K3vMRcVMBgNktWfJ4up0mdpgtcclyW07gu48UiWdV8CRRQPQqrVYfKAwNjddWXXmgFFCxK
      5A6BwaJcRMvVcpakcbRKl+V0OU3jqubJglfFtEjLZJbWfBYDBdMXUpT5HgdgEJcr5LyexTUm83m5
      jNNkuYzj5XKBVTxfreB0+usIfjAIbNYcABRWeW/lQb75eN4PTiugsJ2HFYHF0XweJ6e/jrCnrSsB
      A7RWW6DQacPAjrAfsS0csPsjrBR+2HXAyl5G6qYRqgEK68B/hrEC5m2PJwqdrnqJwFQvJU1SeOs3
      dVD0+LE8KGJ5YBB8f3/zZbu9vsHtBLxhGBBdPGDpScsdUZpcNeZEEmz577Jz561QTQAUnOfl3nej
      fGSSWOuXXS0kKt4hMCh112nVoeeTJys8WjcR6hGV0Lbq8skvcGgGoMALlxvuW2Aw+ebQuklXo1Jo
      JwzyKN3E6qbH8Q64vqBjbsQkfET1OJGimJjBt1pNw3g6ccLjmC230aQa4nowjwIYmN61eW1nwMyV
      m3V4eMzhUwUUpFCoNLB0GlMwFnM5af3sgd0D+TG51pYISjYMMFkrIhTBvY1dnnscdeh5xT0Po9yv
      O2NA87g9QggRtSds0I8yWXlHZnBG1muSwcZdc+uv6gwOcdIfvV6ObzZCCMlAVBlQkkEGhRbOwg0W
      PDfuSfh2VGfQem8cm0yOrXb+NOFGzPpXc6+EF+gmGVT9VUgIIU72DVk3YYOoMji7ptZSGUwyOLuf
      7WAHtlt59rkUqm6uXPjEIRcVWZONWH5GlRdD7mTfjJzsG0oyKKRuMqCk1c5T4vUe1RlQMNr53uIf
      O4u6nIZatzIhhFgsta3uM6jYkRnszjzZN0ndXFSvvhY2mosc9XGuKnwmayJSPAPKC9Uj7Cg8cuuA
      HUH8zg4MXoo9Bw2EF/8wa3wQuSfRcxxV5Wq+iKNXQKHVzgODALlVobZNABTm+lMHDO4/CenRYrUD
      CvsnbpsajJPY8HKg5f+dAhzO2+JzKa7E+ebbYRNfio3bqJtZ+X4z3+zNz+/vz1chDuemnF6IK3F+
      qH6+a391nw53txu3UefyTmzmm+78sUwu57+SWBbJzUPZffpTfb5s7z7fdBvxJMpu5e5uN/ONupSl
      ujO/ku912a3c3e3GbTrZVu8384ttebjabpKLh/JwIZ7E3c/2afOgh4sP36KrDxfp5eFiqL+GcjXt
      3i7N983XzzItz7fm3aI92KVrNvu9/ph/mM95u7i+cOkXHcCJQqUFMAhaJD3PlRahts0kjsLZajqL
      Jv6x6ex4PzyspgFQEJEzFdgxsd33avalE9TLWR0XdTROcZWO0+U8Hi+n0XJcLOfVcjGLpnWdVq5G
      AIMIKGx49LxrgRbYcYpUgRaeW4nFOXJ4Gox23k1a7vYo5Vj2fKxa5rtJkKG51WiV4PO3zYcyVaLr
      BQaXWmGzkSOwCr6i1RKmZiCsHAgelcmkePP+AE4nCkLl3BhgNZcOT1SHKZhvut7uscVycV8ZvO39
      GWOA/rm4DBipM3iH3KIlR149+ykDSj6FDK4bbI+3Suq0GckMJimVdaIt6Ww6vNCOrMn9KIM/GVBS
      Z+Bk37Cjk31zyuCMEsV3Pijxg8GpO2SwGR6OfpQTh2J8tuPGc+vtwLQMG9egr3iTOTmnQxvWG83p
      R9BD45FXaN36b4s22ly/ydw984zHuVLvhNBy4TCvtc2d5753o5jA0jPWCc754LSK5BE1MUOuel+x
      intOSQat8C48hRavTAaURGfkFYmYegANdk8YBOByCqkZPmD6p/afBrCjYK0DBsHLF7te/Ly8Gr5e
      +a93CqufsfvzPbn6EB/U/w/67pP59L+3w2r4Ecc/Z+Xlbftl+91eLm7f6br6eLgNgIrfgsAgsNSB
      hWi+t2P39xD8CYBCIGzc3OodvYfADwaDscmK6SRsFP0oJw73Sgy7Hd2waP0uT7gRtFKnOJk+5jXo
      OUNI/DxuBDdsfvpgsHk4lmTZiyx7odILjGxhfIhLMuCcTXa2YuD373ZP/f2beL5HF9ops9mW6g5k
      hB2dcIH9HqMUyMv/Bl79Hq6IZPflB4MMoHxLps9ABuZsI5YklspZvOpGGTToM6CktxKTRUpetK6u
      0fgqAApAocKa7K6F7Ua5iGRsC5u2Upd5i6pyhCtydb3dXF3eVsIKa8uwO/N6KxXf924A4uwz12IA
      vd8ITwijujSLsjs/W5EZf19/k3cDcRS+KoIn4duAOM/97iG1JU9IuEXieouRSg6dG17u5MhBK61Q
      UeLb3pEnzHQCf9SiIm65V9zpco/eEW1QkVMwchklV8Rb0TRoCScewTfgB7dKqIYIRZzunu6r5A7d
      3sRvlFrvyR6sFzjZMt4KA5HI90Qosv/qAvjrn4Rvq+u68LbeG0ZnhLuQLWWjQMIwxbbCLt9k1KFv
      dbX+ExA9xxqTjcPYbdBDGNH/oK0vtUI8nyvy+eMWylgXLzAIGvRWedDYlkZK4UV5HNwNUJAAhdUQ
      CORJfL4uHO4VZQYBfk7oY4A9W65s7xGHqsp1ykJkTY6D+6Uz8KJD3fsMGPl3bhpPHFTAAbnFowq4
      fy4DRib70s085SHXoCbsTcU9jtzJW34G0ne0M2RNHMo6dKiqkbFoKHnxIs9GlKpFfhDOyxadwSlY
      uYTVdQ5lrbLVCrcZoNrkhkDmdiYH2xmzQwt4MsoaGLykbtHtxFvsRyWvyK1hHKVYTj8FhFe1k9eH
      Rt6xYJi3KrXeC3SVm1cLOcnmPaz9gwoCAqeLV864tzhU1ctuFpFFLqPW+ze59dx6QtiRjA7v/BV8
      Fh33KIczchgWkm3CKQ33tMOaHGhCtcUqL6Uu9yNIRQHzUVX5NEoEB5A1ObstR6ClZM0pZYv8uKS/
      yVZ7LglKbhxWzVI0Q9lKmb44Zb2G5cm40TLZ7WDDNCt40WGF0vPRVnMH3Dq/uc6M9eliCDYPF2Xw
      8tqi4Rarm5vzJvefP253r7ykKhm3KfTsU4UO2PFEwXmLvAMGn7gcB/mOJe5yBmCwtT0ChRJt+l2e
      qEqQ4qozK7Va71vLfoXxwO53Jwpd628/TR/rwi/b7fXbSKp5cGslX8RphX3wvgyDeDFL02QaR/Nw
      sZzPFysAizKjcKu4bfqWaylr+z2cz71s6AHb2Tk53qXDBSqk9MtkTbb/TbjlfYmjVd9Z6ygTKLHI
      qykqKDfjAjuREC3+2ltqpcLeSm1QjRabkBlOs8EKzXFVK4YIIQZ6veDhQldDLgctdDVEJDeS+KZp
      dfNkYTfWkr3lVMWLjm5ekKmijQNZDVAJz9SHovtw1AFfOAAB3xz8vzVnyFaxwqWWWilg8LK3Uopi
      GpbiFVoZrWUDT7x9P32ha60lWm8Np2k5RfJIKB0Pi7z+s3ayb/6dvjVIFvmvHwyuC6mb/8gP+0z8
      14kDruMAKJRtr/ZYUUwzYKf6H9MkxIhvuGAZ9oQKn7udqqya3bKh37CDHTXeoPBky/uPnkunibcD
      2WMxuJyDQ4RfpNviCQMpyZn2mcpJpftC4jiaCk0b/yYdOkcbl8T+4dG81EphfCIRNVHaF4fBoygd
      EiNMnfs5L/geNbHvBAKd7ct2ey1apACaJRvw+NGQYVze8T3mFNA07Ry01EpRSeP8UzeIwMm8edBc
      Fw9RgaKQmuqxSQOiECDq0IkBy8t+Zj5uAxierdDVYFzLVn/VN4d2/LbBC9qYAUSOHavbpzoJp0mY
      BkDhbVmi8eOPqtSVUAsH3rDmIAwlFdaSe6SksHHHA4PgxeSFT55E42KAQbBHNGMuxSMmiOyQ45YW
      vR1zg94OI94tRpT0oo+ZgbtmUKWCTI1LY8Q7x5Bpf0nuHFqfO95hvsRku37SCPfPaC1z2zCuWdUP
      /eC4dS9ms8vdoCPi/pYtdoh88FHABUPqBt5to20DxAKkEgDVzRFevGprKMmJ5Xm4yE9ZuFjch5c6
      Oza/iKKvlqpxnOxcAas+jETGZsjSj6UNDfdlG35/f2MhzeU+gpI6w9v/1SV3Dr1HN80cXwyhvUfn
      c3z2lpc+/36z5cWQF1I3uXUuHHjHu7/qq5bxjcSFQdrVSrt0ZwpWUjwKsdpDwbnd7nTanShI3TRl
      9UC8QcbqBpW3QxvGU+McbxAYfFP4bLD0WBEn1oWIUMRxcv8x4mLqrbXtuPdHI+TPKGpWS7sThUyH
      9k3Uzuom1xw4YoFbNPrbvi52gwu5bR6B3evMIwuhUNnlx2Mvr6du3OkKgYLCpxyNcLpCB68xOI9s
      4edf/8+dzMPVKknmMRVFsI6JnXvhi22S+2eXneHqDpf4QxMu87wEwilHD4Ezejjv/eN27ffntv32
      NpzPvZfHE1Jhz778m8mJdVfUAFTLFtni8DZErCK++VL+9gePVPa3b/+Q9m8o3whI374RvzO+K/zh
      t/+5bGm/fcNo0bpv/9eoJK9rhwisZeSj7GutNpMc3+dqXtjk4eJs9ebMrXDdZkf5gNyrIsNIjR7/
      NvyuZNljBGDtf2Bk/8vLb7+95Y/m9OLRBWSgbBk8BIXm9CDiCHpULAq4AM2pIhwdMlC1iAwhInkq
      qLCu0qPOgpCnlERFCD00Z1QF8dCj3hJ7dUiePjISMtBgCcghoAv13gU9noFGS4wAkrSlU/TMuCmo
      vANYiFEYkUQ1Rva0ozlDdN4J9CdahiAOGSdah87FAD1KFsmJS12oksKuNdkiqm9rgC15KjofaScD
      FYuAIpQ0pwpHcshA1YL3wQGSp5ITThmos+A8qSYNKpHVE5JnjB5jeTMD9VZQA2HqQqN4Dw0aLLvA
      fKU/g43AqmVxPRotCzq/Jc4QAruUhSJYRgoOU7cZvDjfrZtwyjuiZUUv5U39iWQRKbQ1ZJxIVp0P
      WBbPPJEtUhCkHf3J1iuxymPtKZbRuTqcbBPFekEKHvoTnfXRQb1o5oneYsDodj3qrUNFnz/JM0aO
      qKsy0GAlkEaXkmcISA4ZaLRCAF6QOH3wTqA/CSyzcltDxklgPUXitk39SWiJg9T9ZZyE1jER+fxl
      oUQWxQeQ/PklVDXUp2ehxBYcKPv0S6ewjNcBKXlGFY7IQMWyYIgeXWjwgrSjQdVSDAr9qTYgBI+M
      01kGUnXQmt4CRe0jDlvyVAWHZXH9GSwDE/CV/gzWO2RAAo1WNfgn6VIGC+Rk7z5dJEhZKKMlkhAp
      daHRBaWdBEpWOI4toD+ZLaFim3jGyWwDkvPIOFmsRlCuw9GhrBa8kK7SnmqDgtanZ5zsLAuijGWS
      ibK3wMFR/nSf6qLrl5iFcrDkGCOk5OkJIJSptGe0Cp76iGehAhZAlePWfTpV6EOVeQpaAkHkq4wT
      bWQQBmhPsuyj3/WnsEUffT+hR3Zh65ygPF7g3vshZFrfez+2MuW8dNVj7MXO9LZsEPFBOYQwvP2Q
      JuGu/HMq+3/d3B7eAv861k5OPPS3f/Nf02RyTBMvs6m2+ef5kesyn+mHPqdlWW17HmlKLdu5/u7M
      rf/uE4OG4od1fnxmkuali6j6s7KMdLk9Px231DLSZSo5/MaE57mNdDnvG/Pj1zPQS9/ySJf2fDzS
      +RrpEvWcM9Jlvu1XYO8f9/7YRrqsqMTY5SP1kS5RbdDOEdLxDSAwKd54aSaekTbSpTzSLY906enW
      RrqETQcPMmbNZ97n/xjG1OW2eznaSJf1uS9lv33crtRGukxPun5Pj7zD7KIOXc4sIDqi26408l9N
      W721kXDtIi9ppDDSX40UR7rMpT/hASP/1dfSjfk2G0e6PPcQ8OB5nLSVbFBmiCKz2sTfuz3L8mf5
      RxvAxifYyH810nWka/7M9raMdCUgGOkKYaQrhpGuZ+73sn8v+81EBTjTXC+b5U2/Z3OkfcmPMtOC
      OO2eweF9IA8xwS1O+PkKfcx1ycO7gHsbViUSZrPO92/zTTtp2qaVZxPW/koRyzSl7v+frYqNhM65
      /x44qVMh8n9raiFEBsLP1L/963/qiqdY94+57utW5v5n2KZDFt8lAT4+L2dOPS/Dbzn5N47Yh4D4
      Xfqr/7r8ncpFif654ESSKSZvFkyzEVQ2MfnJzN5PWVdZ10jDd0kAe/2v/5i/KVxG71XEcLwYM5cA
      fqRrq49szrxu896Xm6m7iP+YtG6ll7mZupp65N0cOZ/mzJ8lfw1yKWRiP0UujBKCXRMReg9cRfQU
      cRAoIj6QfqQrw0jXJX0+UtnMs+VmfkifyUSQe6xZxNcJZq/dzEuHMX8z841ETUhUtUUKPKA6BnQK
      pP83LSKqeHQO5WLtECO6IOiHJ508QmaTHZORuJJJ4lajYeEolFcgVJxFdqPVfPmI4XNq4JGu/Z7N
      6XVWsqmr4elddBNK9vLNHFvaTTNpX0xU2rVpM/M97bdMJtG0flaRO0vsHTAiSv+Bq5A/GWEKQuXm
      qW6kK8lI15qlS8yplf1m6mraveRtEdyRVgwpcIeEnhCDVP03zSOHoOgUWoArznof4zaIWE6Gs7Tb
      lz8tc3bMzmjmycgSs4lBxSSm4BQwJQJccyQoMkC4G+jpU0iLU0+bJT/qfKZemgVXMY9Xv9v4wtvN
      d70IL8Msea5b3UvaTE0sE1W7JlUePUYXEEnyD9h9yPBVpT8uAoAWOtKVYslg2fqZz3tOi6mrOcMW
      CPju2I0IolnmTYd7yxTFOwvFKHUneWGJ7PmcOXirANEr+uEnXiity2ymBaORxU0meI5GwxKCzpOf
      Xdm3d4m3TqN686UqjHTda88uoP6lK62UrfSX2V8z18+yGIxUEFX7JVXuoyMShJK8A1cAf1oSokDA
      o+ORrmU1xVx9nHekOdNS5rRtL3Pmdk9HNivH+HNuttTZZVV5sBDUc9QD8UrlNzji6KOl0ymUZTOH
      YBlCiISXgverklvIRIlkhCmZyDOZNUThhEuiV/u1fDdn1igJloPDEGFiZSWfZOMMs/5+p24mNTNv
      z+n4R9PjLCUerERwCCNhBy70e5xoFCCAqLx8Q870epj5rF+GAKK5ns1Wbnotm7WeAzeIxXh0TNrb
      s27xWfKXWDfXY81azjyYTTvS2fErZCojle6jcy6gg2GLG1wIMeoAbp1DCVk7RA2gHv3waQaaVpoN
      5zkaYZdMTLiaxJOueXZLgs5YvUqiBVLnDCYLu64oXHdmmDNJZjMgmhZPujxaFBQqIIeMrgMX+T1J
      SDEioQJxpOvZkODJtgyXz2xOBtxtpvh0Or08urV/Q5jdfFaRRyvioiLimdhveMoaYh/TDsFj+W9e
      tA5Ye7uFNPWlA9GUkiQzK4mRidiEqGwCENKMU0QRrEkSrXOe2cOCzla181l6mdNmVpcbOijil07Z
      b3X+I8dZP+vZZzOVRbV8m0r36jE42ybctB64auhREkQ8K6iKM3csdvHEcqRezxfftCu72cp0pvNl
      jqTd8+th2RZBzWDoiUz8sVwDx5himNS7dwIn4y9jTt7gAnuICGfqi9Yc8pJiNrz6YGRZJhOWKRvJ
      E3hOM+RlAeTvNUfYMXXQykkXRru04Rc2POqeX3X3Yi21t+kgfUJmw6TAJURFQOioOnBxf80RhxDL
      sMAcI26k6+1k+0HmT7mV1k1dzchsLASjKu9T5QFZEBFzZH2DiyiiJkznUDZNEDE4CuhLd5GDT6hm
      Di4bCetswqpoEgBGQRBaA9YoQQsSyQlayUjXr/urZ2JpqvX7RHBC3UazYLqqHC1KcMoIDUkHLuh7
      lJAEZIdleaTr49ny89HMMvJcjOnVPNL3bPq9nEuLa+FlriAJu96I3uoUGYy33cthklndhN9nc6Ti
      kANaIlUugkqKToUfErsKsRtxCqTK759DZbszpO2zfekrZp/jPBly6o2oUzMxeJM0TStOhCES1ihB
      64I4p8jR/KBTl9LzYua6RdIA7sjjS29mKe3gCC6Lqt2TKvfBqUaEmMgDVwY/hyHKwBVfuq4QnQVD
      6Fdaf6ZzuGS31d3XgYKHGUybuSxCdslxxDjP7+aZrdk/OV/yBNI0StVQr2aVzpiAollqXlVOFlE8
      OXzTA5zx/UjYQtcplJ8rZCno6hhELCdDuvWjJwXOK5sYVm9kkWgS5snI4oQlwxpnjzVJyLJ6j4Kd
      MZpNl/RsaTdbLre7aT2dOmJD7ve9XoqZhV6mrhE3bNNBPoVM/F8tLg445qoI0n3gKqNHiapT8mgD
      I11/rj2fdagH32DO4HzEhz+qKiFV7gOGEBF3dP37FwJCZ5nOoYT78xgdzkwc0tSPPi+4JpdNlKxG
      nDqTvEMzzz4oLrrIzFiThC0wqTBglCqxypZF06uAH9iXOJGYoqL5ocuyipwtslCUJWRyHTjk9zgh
      IVS3tKu7acdZ9ls+wX4oHfMTLQ99lc2JiCrsp9IVQJSWuJPtJO+QNTyON3Ng6wIJ+KUvndDNIYga
      ghWM+JBNzGEyeZ4yAyxZprj0KmHrVYCuYYZZzULMIPk5Gd5FzFfpdzPXx/Hs+WymNLPXr9eJu5hu
      Wk/7Ws/FPPdieSb3lznO3BQxqm7OH81D9AGXaOtBwAc+U7pigUQmLRgfJiXHc6CCZ4I4hykPc4N4
      fZ+b+oDfdLhYJoc8cZg4E+cbVyEJ7hIdOAS9pYOTQ0ew1605L44MvSj3zI/VNff6yB9Huvk6bBNa
      Hmdey09G4uz32voq6bFL8nZi2JZrdeMrSA2OdMm44FZne0GvNbhTPf+/wMeZvgYdzJ75I11SsCrr
      ZG7JS6J1NFHeHIGxaqTLs+Xzwz5I5+EmP1v+SEdRI+EAGmuYNAdHuuR2ECp5Wmr5SO3j9izL77Xt
      efuz/KMNKOc2HWQ6cIeli4g+hodtSSPSY38PkiTC5n4v1YryhsvbJbf597byKP3PsKVh9RH1vFoI
      ynTphpZQq6jyoP5++JhgTRknIzOQEWUyE7rZzGmNqCHgHJ/YrreGWnUgMIUUhGuvnetjpCtr24x0
      7a+jdfMIvu36NtLVqkRz9LLqWa1D8VGXEIpx4IB+o+C813jgVf1e1pTRE1bKZnBB1Qw/TRcKTmWe
      gJ3EW+Ciru53F8Nk8WUezsP6rbT+JIlUdeQdiBR5VHYqS/yIsm53FtCBTPkFKdlFeM86IbZ++DRN
      c15oMgEUjUyezZRhNi5xgFXzzPw0Cz02nEWWMLHT+o6Jp+VH2vtT6fwnsGcznTl9b6CeIickFvBN
      QiHNgcP7/aHgFK/e7DDG42v8OMsaPYbl5gG9HKbsradtM2U3S52/59P2/RwKu3dm8aW4j9gS59+/
      GFBGlB3DuDxJqPoYXzag2ewTBE3kgJ23P9VwqD68h8D6qF4vawox4J6kyF30KG4JgzAHPir/44D3
      QnLFQcXZ6F3UoSB+zBiGawhX9KUfZz3mNN/z8D6AZUs5lnj5NnO8XumxDe+Ds2CRLAEpKLrhbWj1
      ebSSP/PwPpD1w9twlO/5WNbhfYgWoaT26Tzr1/A+oGULwW33lHqW/trPhNX57RUV5DIOb0PslGeb
      GzTBLrVJeZJN7ddydKj8MdezWpMby4gB62305U5ZUk9z6bl2A7NVkd9T9JG9MLwNU5pcYbFXVXse
      aX3uc7U2QoCSKVbWUKGp7XVexz3nDSWw6ElFb/mSiF6x3qI0uNB/Xk0E3aTsN1P2dlyhDsUYUpN0
      Q0HaS4kq95LOOsvD2/CVpxyHb6NtfqhyYsOL6ZFKONENRMPrJowStm8PWGQrA1XP/ppbI0ogJUUC
      UWpbfR4yvA+yA6cNpbSUs33NYRuC4W6dtIJi7bWHKd1yhHXS/uKUIzbSvvRDq3s8to1UjEWUq6R9
      qTPfvDK8Dan3agqkgoExCfcstef9k22HYmXayv49FPEW1uHOrR3CMYgMucDwkfzsZaNW2Vkkbrnp
      bERx2BJl3V5/apoZeu153Z+Po4WkGUujyD0X34fAn5r5ns6Wu7kzBOzyc1zkXbbC/nL9zOcb/s95
      seG4iqOQYp9RAMZ85J963iN+D6THWoZKb5lcgR0NEmLUwLocm0cWNBE3Hv3psfUqR2WwKNuVBAFm
      vF/zOvI513Pfop0Mb8NSWt/KREvUsvKZ0xa/59JA1jWFc4zOCVaf/GXqnuvKYIsbK92ilB5zpp7N
      pe8QOXrQIqkrw0vq+fb3QXYOkMWSi3Pkh7fhTEdZ1ufPP5dsolhwWhspEOyOWlCNoedZst4IdER6
      bdJ6PdMtc+VIw3X33g+wKKEFO+//mbTfxc2l5+OsszlepvUXFrYbwKLV4W2YV6W+b7ToLTC5c/1U
      Gihl7JRaZjJkzKOFPPuVPJwiWhIJ57muNDE83UdvtZ9PsEKxNFpIrkumLd+/YrFguG3aCzcYj1Bi
      3R+++u5Y/vjWz7w/H0y0UaFj5Pz+c37K/aE4dkv7bck9aOVMDpXIIFkGU6nh+M9RR9lXZ3Cx2Un/
      6Lql9r0iC7VQwWRQsdKS2l1BDDAR7h1RPlC+pJui0pinRIM7Ghh36tJe1hX9GbyPbbehkPmD75Bj
      6la13J9Hr1XzBwJghPc8lmaOlxiaVNUBt1z3h8orx/Z8TMRjaGEQIjABJlVHC/aorQNPRmtwgFi4
      CAxvQz1/aHXnN4p74WtOHTtW71pkUsuAiDvfSv95q3OyFEe98z2dS+5rUUBRr+y5ImUeeAiN1Ejr
      OzkTDETIMUY739gY1TNqGs+hi0f7aiQpGmFwtGIrxlmGB5Q7NBktrPZS4qF3nEN207A8lzYI1tjx
      Spcw/OeIrgTywzVipeTgLcyODcKx4xRo4tE3to6Is0NmKAFi6SRMEqDwINQDTyS5ag4UDtrULa1E
      YRJOeWPF6SMoSl2KI1oEcScjoDUpJ1E4VXofmkkGgxCnqNpp+blEel3lhdWy4/g3SyzabxaFSYUo
      PD53wYnD1ISDP8UCas239xjZN83AQlQC2wzeHkK/Ha8UB9lvVtBMQIryhnqN7C8+YZHaifMBDOJZ
      aH8e3dhrLQuUXkJdy8068l3QyCgEyw3jGJztRWT+B7XyHXHTcKYu4DyNG2Pla9BcUWBDmiQXWzZD
      NYCiGRPRlc+dPlgpWWYMLie/5qT5zB9jKfnzFO/gBoFO5EP+7FIUebZbrKXynGiGxMeD3+mm4VyB
      XCGlcyp+5IYsbLpjbiyAsdraaQ1XGoZFVFDh6OQiQ+G4pous+g57oDxn4n4nrLw8K2aYp5DIy7a3
      aJWcx9KClzUTL+lKXwa1NzRO50BBKFFqVYtGFP1BfaA+2FHoqctWHCyDmdCgfBDGrEObKyWi3sFq
      LBwzAHtOfHK3mxH0DO0nCYA16yj46wQa5rTvsoWF0oyl2C0i8RGVaz0KF9hKiJcXz+wkrCsNBm0S
      cmaA/lQ9IXeDsWJsZM7NJwG3784IgwCTs1Sg8TKatLOQY37ItE3H7b43jtdoI90oTIJEH3SmeRrN
      XM94h/YRbT7OfOoUPnmtxklYW+EPYaGfgYLFzx1jJI5ugBl2yQzNqy9e4sIz4KQzQG52qI77NoMR
      zJGot/Ompx0FoTw2s7+tOGD3EN9yiX1VFLjHZ+Et83DVG0xjz3Cr9d7os0pi7NHxZBiPJNlYjFBw
      vjqOjUPxFkI1sDuNMaDhFBRyUNmDAztCznycI0SZWKifnh7agLM9QLlIyR8howlGl1YJ6z/K4qXg
      YLc75RZk28d7Hm1KiXto+ufRUsxuRFO/4A91FMsxlzZPUQFLkmlyOp1OfwE=
    headers:
      Content-Encoding:
      - br
      Content-Type:
      - application/x-sentry-envelope
      User-Agent:
      - sentry.python/2.34.1
      X-Sentry-Auth:
      - Sentry sentry_key=1c9eaaf51fe266c81428811887ed1699, sentry_version=7, sentry_client=sentry.python/2.34.1
    method: POST
    uri: https://o1035963.ingest.us.sentry.io/api/4508128176766976/envelope/
  response:
    body:
      string: '{"id":"3e9355ecf44f4a1381f4f8b7654f0adb"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Length:
      - '41'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Via:
      - 1.1 google
      access-control-allow-origin:
      - '*'
      access-control-expose-headers:
      - x-sentry-error,x-sentry-rate-limits,retry-after
      cross-origin-resource-policy:
      - cross-origin
      vary:
      - origin, access-control-request-method, access-control-request-headers
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Ftip-document-font%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb03dfae1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1e6f-780a-a6d4-ab7868cc4c48
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 406
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p>Sitemaps
      are an easy way to list all pages that a search engine should crawl and index.
      Quarto supports the standard, XML based <a href=\\\"https://www.sitemaps.org/protocol.html\\\">Sitemap
      Protocol</a>, although that fact is a bit hidden in the docs.</p>\\n<p>Quarto
      will automatically produce a sitemap if the website\u2019s URL is given as <code>site-url</code>
      property:</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode yaml code-with-copy\\\"><code class=\\\"sourceCode
      yaml\\\"><span id=\\\"cb1-1\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">website</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb1-2\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">title</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> tarleb</span></span>\\n<span id=\\\"cb1-3\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">site-url</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'https://tarleb.com'</span></span>\\n<span
      id=\\\"cb1-4\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">site-path</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'/'</span></span></code></pre></div>\\n<p>The
      URL will contain a colon <code>:</code>, which is why the YAML value must be
      put in quotes.</p>\\n<p>You\u2019ll find the <code>sitemap.xml</code> file in
      your <code>_site</code> folder after re-rendering your pages with <code>quarto
      render</code>.</p>\",\"images\":[],\"updated_at\":1661299200,\"registered_at\":0,\"published_at\":1661299200,\"image\":null,\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"summary\":\"Sitemaps
      are an easy way to list all pages that a search engine should crawl and index.
      Quarto supports the standard, XML based Sitemap Protocol, although that fact
      is a bit hidden in the docs.  Quarto will automatically produce a sitemap if
      the website\u2019s URL is given as site-url property: website:   title: tarleb
      \  site-url: 'https://tarleb.com'   site-path: '/'  The URL will contain a colon
      :, which is why the YAML value must be put in quotes.\",\"abstract\":null,\"tags\":[\"Quarto\"],\"title\":\"Generating
      a sitemap with Quarto\",\"url\":\"https://tarleb.com/posts/quarto-sitemap/\",\"guid\":\"https://tarleb.com/posts/quarto-sitemap/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '3566'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/quarto-sitemap/\",\"title\":\"Generating
      a sitemap with Quarto\",\"summary\":\"Sitemaps are an easy way to list all pages
      that a search engine should crawl and index. Quarto supports the standard, XML
      based Sitemap Protocol, although that fact is a bit hidden in the docs.  Quarto
      will automatically produce a sitemap if the website\u2019s URL is given as site-url
      property: website:   title: tarleb   site-url: 'https://tarleb.com'   site-path:
      '/'  The URL will contain a colon :, which is why the YAML value must be put
      in quotes.\",\"image\":null,\"tags\":[\"Quarto\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"792b05ff-dcb5-445d-96ce-2fe689e5a68a\",\"reference\":[],\"updated_at\":1661299200,\"published_at\":1661299200,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/quarto-sitemap/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>Sitemaps
      are an easy way to list all pages that a search engine should crawl and index.
      Quarto supports the standard, XML based <a href=\\\"https://www.sitemaps.org/protocol.html\\\">Sitemap
      Protocol</a>, although that fact is a bit hidden in the docs.</p>\\n<p>Quarto
      will automatically produce a sitemap if the website\u2019s URL is given as <code>site-url</code>
      property:</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode yaml code-with-copy\\\"><code class=\\\"sourceCode
      yaml\\\"><span id=\\\"cb1-1\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">website</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb1-2\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">title</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> tarleb</span></span>\\n<span id=\\\"cb1-3\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">site-url</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'https://tarleb.com'</span></span>\\n<span
      id=\\\"cb1-4\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">site-path</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'/'</span></span></code></pre></div>\\n<p>The
      URL will contain a colon <code>:</code>, which is why the YAML value must be
      put in quotes.</p>\\n<p>You\u2019ll find the <code>sitemap.xml</code> file in
      your <code>_site</code> folder after re-rendering your pages with <code>quarto
      render</code>.</p>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb044b40098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1eb3-7b5c-8e2d-411c766a7d1f
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.792b05ff-dcb5-445d-96ce-2fe689e5a68a
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/quarto-sitemap/\",\"title\":\"Generating
      a sitemap with Quarto\",\"summary\":\"Sitemaps are an easy way to list all pages
      that a search engine should crawl and index. Quarto supports the standard, XML
      based Sitemap Protocol, although that fact is a bit hidden in the docs.  Quarto
      will automatically produce a sitemap if the website\u2019s URL is given as site-url
      property: website:   title: tarleb   site-url: 'https://tarleb.com'   site-path:
      '/'  The URL will contain a colon :, which is why the YAML value must be put
      in quotes.\",\"image\":null,\"tags\":[\"Quarto\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"792b05ff-dcb5-445d-96ce-2fe689e5a68a\",\"reference\":[],\"updated_at\":1661299200,\"published_at\":1661299200,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/quarto-sitemap/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>Sitemaps
      are an easy way to list all pages that a search engine should crawl and index.
      Quarto supports the standard, XML based <a href=\\\"https://www.sitemaps.org/protocol.html\\\">Sitemap
      Protocol</a>, although that fact is a bit hidden in the docs.</p>\\n<p>Quarto
      will automatically produce a sitemap if the website\u2019s URL is given as <code>site-url</code>
      property:</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode yaml code-with-copy\\\"><code class=\\\"sourceCode
      yaml\\\"><span id=\\\"cb1-1\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">website</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb1-2\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">title</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> tarleb</span></span>\\n<span id=\\\"cb1-3\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">site-url</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'https://tarleb.com'</span></span>\\n<span
      id=\\\"cb1-4\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">site-path</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'/'</span></span></code></pre></div>\\n<p>The
      URL will contain a colon <code>:</code>, which is why the YAML value must be
      put in quotes.</p>\\n<p>You\u2019ll find the <code>sitemap.xml</code> file in
      your <code>_site</code> folder after re-rendering your pages with <code>quarto
      render</code>.</p>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb04ac0a098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1ef1-7741-8b06-93d502c37627
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fquarto-sitemap%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0518901965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1f35-7901-9379-9b795517d2c4
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fquarto-sitemap%2F
  response:
    content: "{\"id\":\"792b05ff-dcb5-445d-96ce-2fe689e5a68a\",\"guid\":\"https://tarleb.com/posts/quarto-sitemap/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/quarto-sitemap/\",\"archive_url\":null,\"title\":\"Generating
      a sitemap with Quarto\",\"summary\":\"Sitemaps are an easy way to list all pages
      that a search engine should crawl and index. Quarto supports the standard, XML
      based Sitemap Protocol, although that fact is a bit hidden in the docs.  Quarto
      will automatically produce a sitemap if the website\u2019s URL is given as site-url
      property: website:   title: tarleb   site-url: 'https://tarleb.com'   site-path:
      '/'  The URL will contain a colon :, which is why the YAML value must be put
      in quotes.\",\"abstract\":null,\"content_html\":\"<p>Sitemaps are an easy way
      to list all pages that a search engine should crawl and index. Quarto supports
      the standard, XML based <a href=\\\"https://www.sitemaps.org/protocol.html\\\">Sitemap
      Protocol</a>, although that fact is a bit hidden in the docs.</p>\\n<p>Quarto
      will automatically produce a sitemap if the website\u2019s URL is given as <code>site-url</code>
      property:</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode yaml code-with-copy\\\"><code class=\\\"sourceCode
      yaml\\\"><span id=\\\"cb1-1\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">website</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb1-2\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">title</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> tarleb</span></span>\\n<span id=\\\"cb1-3\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">site-url</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'https://tarleb.com'</span></span>\\n<span
      id=\\\"cb1-4\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">site-path</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'/'</span></span></code></pre></div>\\n<p>The
      URL will contain a colon <code>:</code>, which is why the YAML value must be
      put in quotes.</p>\\n<p>You\u2019ll find the <code>sitemap.xml</code> file in
      your <code>_site</code> folder after re-rendering your pages with <code>quarto
      render</code>.</p>\",\"published_at\":1661299200,\"updated_at\":1661299200,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":null,\"tags\":[\"Quarto\"],\"language\":\"en\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0588f01965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fquarto-sitemap%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-1f89-7c2a-8dfc-9f85242a6921
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fpandoc-resources%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb06b9d51965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-203a-7c02-917a-63e09ec18479
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fpandoc-resources%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb070a231965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2072-726b-b1af-bd5aa2eb2b5f
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 406
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p><a
      href=\\\"https://quarto.org\\\">Quarto</a> makes it very easy to publish a website
      via GitHub Pages: It is as simple as running <code>quarto publish gh-pages</code>.
      Here we explore a slightly different method that uses a GitHub Action to publish
      the website automatically every time it is updated.</p>\\n<section class=\\\"level2\\\"
      id=\\\"classic-github-pages\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"classic-github-pages\\\">Classic
      GitHub Pages</h2>\\n<p>The classic way to publish a website via GitHub pages
      is to maintain a separate branch <code>gh-pages</code>. The branch is used to
      store the rendered HTML pages, and GitHub will publish the branch\u2019s contents
      as website everytime that branch is updated.</p>\\n<p>Quarto uses this mechanism
      when called with</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode
      bash\\\"><span id=\\\"cb1-1\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto</span> publish gh-pages</span></code></pre></div>\\n<p>We
      can combine this with GitHub Actions easily, ensuring that the site is updated
      every time new content is pushed to the main branch.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      yaml code-with-copy\\\"><code class=\\\"sourceCode yaml\\\"><span id=\\\"cb2-1\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># file: .github/workflows/publish.yml</span></span>\\n<span id=\\\"cb2-2\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Publish Website</span></span>\\n<span
      id=\\\"cb2-3\\\"></span>\\n<span id=\\\"cb2-4\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Allow one concurrent
      deployment</span></span>\\n<span id=\\\"cb2-5\\\"><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">concurrency</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb2-6\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">group</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"pages\\\"</span></span>\\n<span id=\\\"cb2-7\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">cancel-in-progress</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"ch\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">true</span></span>\\n<span id=\\\"cb2-8\\\"></span>\\n<span
      id=\\\"cb2-9\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">on</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-10\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">push</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb2-11\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \   </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">branches</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'main'</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb2-12\\\"></span>\\n<span id=\\\"cb2-13\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">jobs</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span></span>\\n<span id=\\\"cb2-14\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto-publish</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-15\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">name</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> Publish with Quarto</span></span>\\n<span
      id=\\\"cb2-16\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">runs-on</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> ubuntu-latest</span></span>\\n<span id=\\\"cb2-17\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">steps</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-18\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Checkout repository</span></span>\\n<span id=\\\"cb2-19\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> actions/checkout@v3</span></span>\\n<span id=\\\"cb2-20\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Install Quarto</span></span>\\n<span
      id=\\\"cb2-21\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> quarto-dev/quarto-actions/setup@v2</span></span>\\n<span
      id=\\\"cb2-22\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Publish to GitHub Pages</span></span>\\n<span id=\\\"cb2-23\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto-dev/quarto-actions/publish@v2</span></span>\\n<span id=\\\"cb2-24\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">with</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-25\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">          </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">target</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> gh-pages</span></span></code></pre></div>\\n<p>The
      <code>quart-dev/quart-actions/publish</code> action calls <code>quarto publish</code>
      internally. This is short, to the point, and won\u2019t interfere with local
      calls to <code>quarto publish gh-pages</code>.</p>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"actions-only-pages-beta\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"actions-only-pages-beta\\\">Actions-only
      Pages (Beta)</h2>\\n<p>GitHub recently added support for GitHub Pages that do
      not require an extra <code>gh-pages</code> branch. Instead, the website is compiled
      and pushed directly from an action.</p>\\n<p>This takes slightly more code to
      set up, as the action must be granted the necessary permissions. However, it
      is still fairly short and quick to do.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb3\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode yaml code-with-copy\\\"><code
      class=\\\"sourceCode yaml\\\"><span id=\\\"cb3-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      file: .github/workflows/publish.yml</span></span>\\n<span id=\\\"cb3-2\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Publish Website</span></span>\\n<span
      id=\\\"cb3-3\\\"></span>\\n<span id=\\\"cb3-4\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Allow one concurrent
      deployment</span></span>\\n<span id=\\\"cb3-5\\\"><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">concurrency</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-6\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">group</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"pages\\\"</span></span>\\n<span id=\\\"cb3-7\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">cancel-in-progress</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"ch\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">true</span></span>\\n<span id=\\\"cb3-8\\\"></span>\\n<span
      id=\\\"cb3-9\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Sets permissions of the GITHUB_TOKEN to allow
      deployment to GitHub Pages</span></span>\\n<span id=\\\"cb3-10\\\"><span class=\\\"fu\\\"
      style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">permissions</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-11\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">contents</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> read</span></span>\\n<span id=\\\"cb3-12\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pages</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> write</span></span>\\n<span id=\\\"cb3-13\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">id-token</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> write</span></span>\\n<span id=\\\"cb3-14\\\"></span>\\n<span
      id=\\\"cb3-15\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">on</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-16\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">push</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-17\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \   </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">branches</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'main'</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb3-18\\\"></span>\\n<span id=\\\"cb3-19\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">jobs</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span></span>\\n<span id=\\\"cb3-20\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-21\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">runs-on</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> ubuntu-latest</span></span>\\n<span id=\\\"cb3-22\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">environment</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-23\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">name</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> github-pages</span></span>\\n<span id=\\\"cb3-24\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">url</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> ${{ steps.deployment.outputs.page_url }}</span></span>\\n<span
      id=\\\"cb3-25\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">steps</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-26\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \     </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Checkout repository</span></span>\\n<span
      id=\\\"cb3-27\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/checkout@v3</span></span>\\n<span
      id=\\\"cb3-28\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Install Quarto</span></span>\\n<span id=\\\"cb3-29\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \       </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto-dev/quarto-actions/setup@v2</span></span>\\n<span id=\\\"cb3-30\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Setup Pages</span></span>\\n<span
      id=\\\"cb3-31\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/configure-pages@v1</span></span>\\n<span
      id=\\\"cb3-32\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Render Website</span></span>\\n<span id=\\\"cb3-33\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \       </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">run</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto render</span></span>\\n<span id=\\\"cb3-34\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \     </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Upload artifact</span></span>\\n<span
      id=\\\"cb3-35\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/upload-pages-artifact@v1</span></span>\\n<span
      id=\\\"cb3-36\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">with</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-37\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \         </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">path</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'_site'</span></span>\\n<span id=\\\"cb3-38\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Deploy to GitHub
      Pages</span></span>\\n<span id=\\\"cb3-39\\\"><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">        </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">id</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> deployment</span></span>\\n<span
      id=\\\"cb3-40\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/deploy-pages@main</span></span></code></pre></div>\\n<p>Now
      we must change the setting to use the new publishing workflow:</p>\\n<p>Under
      <em>Settings</em> \u2192 <em>Pages</em> \u2192 <em>Build and deployment</em>
      the source must be switched to \u201CGitHub Action\u201D:</p>\\n<div class=\\\"quarto-figure
      quarto-figure-center\\\">\\n<figure class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid
      figure-img\\\" src=\\\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\\\"/></p>\\n<figcaption>Required
      setting to enable the new method</figcaption>\\n</figure>\\n</div>\\n<p>The
      <code>gh-pages</code> branch is no longer needed and can be deleted.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"trade-offs\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"trade-offs\\\">Trade-offs</h2>\\n<p>The
      branch-based method for GitHub pages always felt slightly inelegant. I prefer
      the new method, as it does not require an extra branch and feels much cleaner.
      We lose the ability to update the website via <code>quarto publish</code>, but
      as I usually rely on GitHub Actions to perform the updates, it doesn\u2019t
      affect me much: <code>git push</code> has the same effect. However, it seems
      important to be aware of this trade-off.</p>\\n</section>\",\"images\":[{\"src\":\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\"},{\"src\":\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\",\"alt\":\"Required
      setting to enable the new method\"}],\"updated_at\":1659916800,\"registered_at\":0,\"published_at\":1659916800,\"image\":\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\",\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"summary\":\"Quarto
      makes it very easy to publish a website via GitHub Pages: It is as simple as
      running quarto publish gh-pages. Here we explore a slightly different method
      that uses a GitHub Action to publish the website automatically every time it
      is updated. Classic GitHub Pages   The classic way to publish a website via
      GitHub pages is to maintain a separate branch gh-pages.\",\"abstract\":null,\"tags\":[\"Quarto\"],\"title\":\"Quarto
      Website with GitHub Actions\",\"url\":\"https://tarleb.com/posts/quarto-with-gh-pages/\",\"guid\":\"https://tarleb.com/posts/quarto-with-gh-pages/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '29834'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/quarto-with-gh-pages/\",\"title\":\"Quarto
      Website with GitHub Actions\",\"summary\":\"Quarto makes it very easy to publish
      a website via GitHub Pages: It is as simple as running quarto publish gh-pages.
      Here we explore a slightly different method that uses a GitHub Action to publish
      the website automatically every time it is updated. Classic GitHub Pages   The
      classic way to publish a website via GitHub pages is to maintain a separate
      branch gh-pages.\",\"image\":\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\",\"tags\":[\"Quarto\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"e0af7c1e-b50a-437b-b06a-0f7747eb0228\",\"reference\":[],\"updated_at\":1659916800,\"published_at\":1659916800,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[{\"src\":
      \"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\"}, {\"alt\":
      \"Required setting to enable the new method\", \"src\": \"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\"}],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/quarto-with-gh-pages/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p><a
      href=\\\"https://quarto.org\\\">Quarto</a> makes it very easy to publish a website
      via GitHub Pages: It is as simple as running <code>quarto publish gh-pages</code>.
      Here we explore a slightly different method that uses a GitHub Action to publish
      the website automatically every time it is updated.</p>\\n<section class=\\\"level2\\\"
      id=\\\"classic-github-pages\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"classic-github-pages\\\">Classic
      GitHub Pages</h2>\\n<p>The classic way to publish a website via GitHub pages
      is to maintain a separate branch <code>gh-pages</code>. The branch is used to
      store the rendered HTML pages, and GitHub will publish the branch\u2019s contents
      as website everytime that branch is updated.</p>\\n<p>Quarto uses this mechanism
      when called with</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode
      bash\\\"><span id=\\\"cb1-1\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto</span> publish gh-pages</span></code></pre></div>\\n<p>We
      can combine this with GitHub Actions easily, ensuring that the site is updated
      every time new content is pushed to the main branch.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      yaml code-with-copy\\\"><code class=\\\"sourceCode yaml\\\"><span id=\\\"cb2-1\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># file: .github/workflows/publish.yml</span></span>\\n<span id=\\\"cb2-2\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Publish Website</span></span>\\n<span
      id=\\\"cb2-3\\\"></span>\\n<span id=\\\"cb2-4\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Allow one concurrent
      deployment</span></span>\\n<span id=\\\"cb2-5\\\"><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">concurrency</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb2-6\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">group</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"pages\\\"</span></span>\\n<span id=\\\"cb2-7\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">cancel-in-progress</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"ch\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">true</span></span>\\n<span id=\\\"cb2-8\\\"></span>\\n<span
      id=\\\"cb2-9\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">on</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-10\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">push</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb2-11\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \   </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">branches</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'main'</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb2-12\\\"></span>\\n<span id=\\\"cb2-13\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">jobs</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span></span>\\n<span id=\\\"cb2-14\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto-publish</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-15\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">name</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> Publish with Quarto</span></span>\\n<span
      id=\\\"cb2-16\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">runs-on</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> ubuntu-latest</span></span>\\n<span id=\\\"cb2-17\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">steps</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-18\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Checkout repository</span></span>\\n<span id=\\\"cb2-19\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> actions/checkout@v3</span></span>\\n<span id=\\\"cb2-20\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Install Quarto</span></span>\\n<span
      id=\\\"cb2-21\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> quarto-dev/quarto-actions/setup@v2</span></span>\\n<span
      id=\\\"cb2-22\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Publish to GitHub Pages</span></span>\\n<span id=\\\"cb2-23\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto-dev/quarto-actions/publish@v2</span></span>\\n<span id=\\\"cb2-24\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">with</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-25\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">          </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">target</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> gh-pages</span></span></code></pre></div>\\n<p>The
      <code>quart-dev/quart-actions/publish</code> action calls <code>quarto publish</code>
      internally. This is short, to the point, and won\u2019t interfere with local
      calls to <code>quarto publish gh-pages</code>.</p>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"actions-only-pages-beta\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"actions-only-pages-beta\\\">Actions-only
      Pages (Beta)</h2>\\n<p>GitHub recently added support for GitHub Pages that do
      not require an extra <code>gh-pages</code> branch. Instead, the website is compiled
      and pushed directly from an action.</p>\\n<p>This takes slightly more code to
      set up, as the action must be granted the necessary permissions. However, it
      is still fairly short and quick to do.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb3\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode yaml code-with-copy\\\"><code
      class=\\\"sourceCode yaml\\\"><span id=\\\"cb3-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      file: .github/workflows/publish.yml</span></span>\\n<span id=\\\"cb3-2\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Publish Website</span></span>\\n<span
      id=\\\"cb3-3\\\"></span>\\n<span id=\\\"cb3-4\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Allow one concurrent
      deployment</span></span>\\n<span id=\\\"cb3-5\\\"><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">concurrency</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-6\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">group</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"pages\\\"</span></span>\\n<span id=\\\"cb3-7\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">cancel-in-progress</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"ch\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">true</span></span>\\n<span id=\\\"cb3-8\\\"></span>\\n<span
      id=\\\"cb3-9\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Sets permissions of the GITHUB_TOKEN to allow
      deployment to GitHub Pages</span></span>\\n<span id=\\\"cb3-10\\\"><span class=\\\"fu\\\"
      style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">permissions</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-11\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">contents</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> read</span></span>\\n<span id=\\\"cb3-12\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pages</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> write</span></span>\\n<span id=\\\"cb3-13\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">id-token</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> write</span></span>\\n<span id=\\\"cb3-14\\\"></span>\\n<span
      id=\\\"cb3-15\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">on</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-16\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">push</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-17\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \   </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">branches</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'main'</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb3-18\\\"></span>\\n<span id=\\\"cb3-19\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">jobs</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span></span>\\n<span id=\\\"cb3-20\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-21\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">runs-on</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> ubuntu-latest</span></span>\\n<span id=\\\"cb3-22\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">environment</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-23\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">name</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> github-pages</span></span>\\n<span id=\\\"cb3-24\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">url</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> ${{ steps.deployment.outputs.page_url }}</span></span>\\n<span
      id=\\\"cb3-25\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">steps</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-26\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \     </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Checkout repository</span></span>\\n<span
      id=\\\"cb3-27\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/checkout@v3</span></span>\\n<span
      id=\\\"cb3-28\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Install Quarto</span></span>\\n<span id=\\\"cb3-29\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \       </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto-dev/quarto-actions/setup@v2</span></span>\\n<span id=\\\"cb3-30\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Setup Pages</span></span>\\n<span
      id=\\\"cb3-31\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/configure-pages@v1</span></span>\\n<span
      id=\\\"cb3-32\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Render Website</span></span>\\n<span id=\\\"cb3-33\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \       </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">run</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto render</span></span>\\n<span id=\\\"cb3-34\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \     </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Upload artifact</span></span>\\n<span
      id=\\\"cb3-35\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/upload-pages-artifact@v1</span></span>\\n<span
      id=\\\"cb3-36\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">with</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-37\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \         </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">path</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'_site'</span></span>\\n<span id=\\\"cb3-38\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Deploy to GitHub
      Pages</span></span>\\n<span id=\\\"cb3-39\\\"><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">        </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">id</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> deployment</span></span>\\n<span
      id=\\\"cb3-40\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/deploy-pages@main</span></span></code></pre></div>\\n<p>Now
      we must change the setting to use the new publishing workflow:</p>\\n<p>Under
      <em>Settings</em> \u2192 <em>Pages</em> \u2192 <em>Build and deployment</em>
      the source must be switched to \u201CGitHub Action\u201D:</p>\\n<div class=\\\"quarto-figure
      quarto-figure-center\\\">\\n<figure class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid
      figure-img\\\" src=\\\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\\\"/></p>\\n<figcaption>Required
      setting to enable the new method</figcaption>\\n</figure>\\n</div>\\n<p>The
      <code>gh-pages</code> branch is no longer needed and can be deleted.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"trade-offs\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"trade-offs\\\">Trade-offs</h2>\\n<p>The
      branch-based method for GitHub pages always felt slightly inelegant. I prefer
      the new method, as it does not require an extra branch and feels much cleaner.
      We lose the ability to update the website via <code>quarto publish</code>, but
      as I usually rely on GitHub Actions to perform the updates, it doesn\u2019t
      affect me much: <code>git push</code> has the same effect. However, it seems
      important to be aware of this trade-off.</p>\\n</section>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb07ab20098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-20d6-7995-ae94-bad4fc202fcb
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '4'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.e0af7c1e-b50a-437b-b06a-0f7747eb0228
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/quarto-with-gh-pages/\",\"title\":\"Quarto
      Website with GitHub Actions\",\"summary\":\"Quarto makes it very easy to publish
      a website via GitHub Pages: It is as simple as running quarto publish gh-pages.
      Here we explore a slightly different method that uses a GitHub Action to publish
      the website automatically every time it is updated. Classic GitHub Pages   The
      classic way to publish a website via GitHub pages is to maintain a separate
      branch gh-pages.\",\"image\":\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\",\"tags\":[\"Quarto\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"e0af7c1e-b50a-437b-b06a-0f7747eb0228\",\"reference\":[],\"updated_at\":1659916800,\"published_at\":1659916800,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[{\"src\":
      \"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\"}, {\"alt\":
      \"Required setting to enable the new method\", \"src\": \"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\"}],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/quarto-with-gh-pages/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p><a
      href=\\\"https://quarto.org\\\">Quarto</a> makes it very easy to publish a website
      via GitHub Pages: It is as simple as running <code>quarto publish gh-pages</code>.
      Here we explore a slightly different method that uses a GitHub Action to publish
      the website automatically every time it is updated.</p>\\n<section class=\\\"level2\\\"
      id=\\\"classic-github-pages\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"classic-github-pages\\\">Classic
      GitHub Pages</h2>\\n<p>The classic way to publish a website via GitHub pages
      is to maintain a separate branch <code>gh-pages</code>. The branch is used to
      store the rendered HTML pages, and GitHub will publish the branch\u2019s contents
      as website everytime that branch is updated.</p>\\n<p>Quarto uses this mechanism
      when called with</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode
      bash\\\"><span id=\\\"cb1-1\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto</span> publish gh-pages</span></code></pre></div>\\n<p>We
      can combine this with GitHub Actions easily, ensuring that the site is updated
      every time new content is pushed to the main branch.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      yaml code-with-copy\\\"><code class=\\\"sourceCode yaml\\\"><span id=\\\"cb2-1\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># file: .github/workflows/publish.yml</span></span>\\n<span id=\\\"cb2-2\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Publish Website</span></span>\\n<span
      id=\\\"cb2-3\\\"></span>\\n<span id=\\\"cb2-4\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Allow one concurrent
      deployment</span></span>\\n<span id=\\\"cb2-5\\\"><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">concurrency</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb2-6\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">group</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"pages\\\"</span></span>\\n<span id=\\\"cb2-7\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">cancel-in-progress</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"ch\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">true</span></span>\\n<span id=\\\"cb2-8\\\"></span>\\n<span
      id=\\\"cb2-9\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">on</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-10\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">push</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb2-11\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \   </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">branches</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'main'</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb2-12\\\"></span>\\n<span id=\\\"cb2-13\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">jobs</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span></span>\\n<span id=\\\"cb2-14\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto-publish</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-15\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">name</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> Publish with Quarto</span></span>\\n<span
      id=\\\"cb2-16\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">runs-on</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> ubuntu-latest</span></span>\\n<span id=\\\"cb2-17\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">steps</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-18\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Checkout repository</span></span>\\n<span id=\\\"cb2-19\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> actions/checkout@v3</span></span>\\n<span id=\\\"cb2-20\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Install Quarto</span></span>\\n<span
      id=\\\"cb2-21\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> quarto-dev/quarto-actions/setup@v2</span></span>\\n<span
      id=\\\"cb2-22\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Publish to GitHub Pages</span></span>\\n<span id=\\\"cb2-23\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto-dev/quarto-actions/publish@v2</span></span>\\n<span id=\\\"cb2-24\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">with</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-25\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">          </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">target</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> gh-pages</span></span></code></pre></div>\\n<p>The
      <code>quart-dev/quart-actions/publish</code> action calls <code>quarto publish</code>
      internally. This is short, to the point, and won\u2019t interfere with local
      calls to <code>quarto publish gh-pages</code>.</p>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"actions-only-pages-beta\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"actions-only-pages-beta\\\">Actions-only
      Pages (Beta)</h2>\\n<p>GitHub recently added support for GitHub Pages that do
      not require an extra <code>gh-pages</code> branch. Instead, the website is compiled
      and pushed directly from an action.</p>\\n<p>This takes slightly more code to
      set up, as the action must be granted the necessary permissions. However, it
      is still fairly short and quick to do.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb3\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode yaml code-with-copy\\\"><code
      class=\\\"sourceCode yaml\\\"><span id=\\\"cb3-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      file: .github/workflows/publish.yml</span></span>\\n<span id=\\\"cb3-2\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Publish Website</span></span>\\n<span
      id=\\\"cb3-3\\\"></span>\\n<span id=\\\"cb3-4\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Allow one concurrent
      deployment</span></span>\\n<span id=\\\"cb3-5\\\"><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">concurrency</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-6\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">group</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"pages\\\"</span></span>\\n<span id=\\\"cb3-7\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">cancel-in-progress</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"ch\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">true</span></span>\\n<span id=\\\"cb3-8\\\"></span>\\n<span
      id=\\\"cb3-9\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Sets permissions of the GITHUB_TOKEN to allow
      deployment to GitHub Pages</span></span>\\n<span id=\\\"cb3-10\\\"><span class=\\\"fu\\\"
      style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">permissions</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-11\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">contents</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> read</span></span>\\n<span id=\\\"cb3-12\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pages</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> write</span></span>\\n<span id=\\\"cb3-13\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">id-token</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> write</span></span>\\n<span id=\\\"cb3-14\\\"></span>\\n<span
      id=\\\"cb3-15\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">on</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-16\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">push</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-17\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \   </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">branches</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'main'</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb3-18\\\"></span>\\n<span id=\\\"cb3-19\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">jobs</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span></span>\\n<span id=\\\"cb3-20\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-21\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">runs-on</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> ubuntu-latest</span></span>\\n<span id=\\\"cb3-22\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">environment</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-23\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">name</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> github-pages</span></span>\\n<span id=\\\"cb3-24\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">url</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> ${{ steps.deployment.outputs.page_url }}</span></span>\\n<span
      id=\\\"cb3-25\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">steps</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-26\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \     </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Checkout repository</span></span>\\n<span
      id=\\\"cb3-27\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/checkout@v3</span></span>\\n<span
      id=\\\"cb3-28\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Install Quarto</span></span>\\n<span id=\\\"cb3-29\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \       </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto-dev/quarto-actions/setup@v2</span></span>\\n<span id=\\\"cb3-30\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Setup Pages</span></span>\\n<span
      id=\\\"cb3-31\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/configure-pages@v1</span></span>\\n<span
      id=\\\"cb3-32\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Render Website</span></span>\\n<span id=\\\"cb3-33\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \       </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">run</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto render</span></span>\\n<span id=\\\"cb3-34\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \     </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Upload artifact</span></span>\\n<span
      id=\\\"cb3-35\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/upload-pages-artifact@v1</span></span>\\n<span
      id=\\\"cb3-36\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">with</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-37\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \         </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">path</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'_site'</span></span>\\n<span id=\\\"cb3-38\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Deploy to GitHub
      Pages</span></span>\\n<span id=\\\"cb3-39\\\"><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">        </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">id</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> deployment</span></span>\\n<span
      id=\\\"cb3-40\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/deploy-pages@main</span></span></code></pre></div>\\n<p>Now
      we must change the setting to use the new publishing workflow:</p>\\n<p>Under
      <em>Settings</em> \u2192 <em>Pages</em> \u2192 <em>Build and deployment</em>
      the source must be switched to \u201CGitHub Action\u201D:</p>\\n<div class=\\\"quarto-figure
      quarto-figure-center\\\">\\n<figure class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid
      figure-img\\\" src=\\\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\\\"/></p>\\n<figcaption>Required
      setting to enable the new method</figcaption>\\n</figure>\\n</div>\\n<p>The
      <code>gh-pages</code> branch is no longer needed and can be deleted.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"trade-offs\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"trade-offs\\\">Trade-offs</h2>\\n<p>The
      branch-based method for GitHub pages always felt slightly inelegant. I prefer
      the new method, as it does not require an extra branch and feels much cleaner.
      We lose the ability to update the website via <code>quarto publish</code>, but
      as I usually rely on GitHub Actions to perform the updates, it doesn\u2019t
      affect me much: <code>git push</code> has the same effect. However, it seems
      important to be aware of this trade-off.</p>\\n</section>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb081bf9098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2113-7d3a-b62a-4b37ad2494e3
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fquarto-with-gh-pages%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb088b221965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:07 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-215d-71de-a090-b1eb5b905521
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fquarto-with-gh-pages%2F
  response:
    content: "{\"id\":\"e0af7c1e-b50a-437b-b06a-0f7747eb0228\",\"guid\":\"https://tarleb.com/posts/quarto-with-gh-pages/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/quarto-with-gh-pages/\",\"archive_url\":null,\"title\":\"Quarto
      Website with GitHub Actions\",\"summary\":\"Quarto makes it very easy to publish
      a website via GitHub Pages: It is as simple as running quarto publish gh-pages.
      Here we explore a slightly different method that uses a GitHub Action to publish
      the website automatically every time it is updated. Classic GitHub Pages   The
      classic way to publish a website via GitHub pages is to maintain a separate
      branch gh-pages.\",\"abstract\":null,\"content_html\":\"<p><a href=\\\"https://quarto.org\\\">Quarto</a>
      makes it very easy to publish a website via GitHub Pages: It is as simple as
      running <code>quarto publish gh-pages</code>. Here we explore a slightly different
      method that uses a GitHub Action to publish the website automatically every
      time it is updated.</p>\\n<section class=\\\"level2\\\" id=\\\"classic-github-pages\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"classic-github-pages\\\">Classic GitHub
      Pages</h2>\\n<p>The classic way to publish a website via GitHub pages is to
      maintain a separate branch <code>gh-pages</code>. The branch is used to store
      the rendered HTML pages, and GitHub will publish the branch\u2019s contents
      as website everytime that branch is updated.</p>\\n<p>Quarto uses this mechanism
      when called with</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb1\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode
      bash\\\"><span id=\\\"cb1-1\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto</span> publish gh-pages</span></code></pre></div>\\n<p>We
      can combine this with GitHub Actions easily, ensuring that the site is updated
      every time new content is pushed to the main branch.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      yaml code-with-copy\\\"><code class=\\\"sourceCode yaml\\\"><span id=\\\"cb2-1\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># file: .github/workflows/publish.yml</span></span>\\n<span id=\\\"cb2-2\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Publish Website</span></span>\\n<span
      id=\\\"cb2-3\\\"></span>\\n<span id=\\\"cb2-4\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Allow one concurrent
      deployment</span></span>\\n<span id=\\\"cb2-5\\\"><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">concurrency</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb2-6\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">group</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"pages\\\"</span></span>\\n<span id=\\\"cb2-7\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">cancel-in-progress</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"ch\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">true</span></span>\\n<span id=\\\"cb2-8\\\"></span>\\n<span
      id=\\\"cb2-9\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">on</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-10\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">push</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb2-11\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \   </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">branches</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'main'</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb2-12\\\"></span>\\n<span id=\\\"cb2-13\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">jobs</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span></span>\\n<span id=\\\"cb2-14\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto-publish</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-15\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">name</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> Publish with Quarto</span></span>\\n<span
      id=\\\"cb2-16\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">runs-on</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> ubuntu-latest</span></span>\\n<span id=\\\"cb2-17\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">steps</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-18\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Checkout repository</span></span>\\n<span id=\\\"cb2-19\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> actions/checkout@v3</span></span>\\n<span id=\\\"cb2-20\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Install Quarto</span></span>\\n<span
      id=\\\"cb2-21\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> quarto-dev/quarto-actions/setup@v2</span></span>\\n<span
      id=\\\"cb2-22\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Publish to GitHub Pages</span></span>\\n<span id=\\\"cb2-23\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto-dev/quarto-actions/publish@v2</span></span>\\n<span id=\\\"cb2-24\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">with</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb2-25\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">          </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">target</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> gh-pages</span></span></code></pre></div>\\n<p>The
      <code>quart-dev/quart-actions/publish</code> action calls <code>quarto publish</code>
      internally. This is short, to the point, and won\u2019t interfere with local
      calls to <code>quarto publish gh-pages</code>.</p>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"actions-only-pages-beta\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"actions-only-pages-beta\\\">Actions-only
      Pages (Beta)</h2>\\n<p>GitHub recently added support for GitHub Pages that do
      not require an extra <code>gh-pages</code> branch. Instead, the website is compiled
      and pushed directly from an action.</p>\\n<p>This takes slightly more code to
      set up, as the action must be granted the necessary permissions. However, it
      is still fairly short and quick to do.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb3\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode yaml code-with-copy\\\"><code
      class=\\\"sourceCode yaml\\\"><span id=\\\"cb3-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      file: .github/workflows/publish.yml</span></span>\\n<span id=\\\"cb3-2\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Publish Website</span></span>\\n<span
      id=\\\"cb3-3\\\"></span>\\n<span id=\\\"cb3-4\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Allow one concurrent
      deployment</span></span>\\n<span id=\\\"cb3-5\\\"><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">concurrency</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-6\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">group</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"pages\\\"</span></span>\\n<span id=\\\"cb3-7\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">cancel-in-progress</span><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"ch\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">true</span></span>\\n<span id=\\\"cb3-8\\\"></span>\\n<span
      id=\\\"cb3-9\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Sets permissions of the GITHUB_TOKEN to allow
      deployment to GitHub Pages</span></span>\\n<span id=\\\"cb3-10\\\"><span class=\\\"fu\\\"
      style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">permissions</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-11\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">contents</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> read</span></span>\\n<span id=\\\"cb3-12\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pages</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> write</span></span>\\n<span id=\\\"cb3-13\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \ </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">id-token</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> write</span></span>\\n<span id=\\\"cb3-14\\\"></span>\\n<span
      id=\\\"cb3-15\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">on</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-16\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">push</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-17\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \   </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">branches</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'main'</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb3-18\\\"></span>\\n<span id=\\\"cb3-19\\\"><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">jobs</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span></span>\\n<span id=\\\"cb3-20\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">  </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">quarto</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-21\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">runs-on</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> ubuntu-latest</span></span>\\n<span id=\\\"cb3-22\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">environment</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span></span>\\n<span
      id=\\\"cb3-23\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">name</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> github-pages</span></span>\\n<span id=\\\"cb3-24\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">url</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> ${{ steps.deployment.outputs.page_url }}</span></span>\\n<span
      id=\\\"cb3-25\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">    </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">steps</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-26\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \     </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Checkout repository</span></span>\\n<span
      id=\\\"cb3-27\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/checkout@v3</span></span>\\n<span
      id=\\\"cb3-28\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Install Quarto</span></span>\\n<span id=\\\"cb3-29\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \       </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">uses</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto-dev/quarto-actions/setup@v2</span></span>\\n<span id=\\\"cb3-30\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Setup Pages</span></span>\\n<span
      id=\\\"cb3-31\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/configure-pages@v1</span></span>\\n<span
      id=\\\"cb3-32\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">-</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> Render Website</span></span>\\n<span id=\\\"cb3-33\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \       </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">run</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> quarto render</span></span>\\n<span id=\\\"cb3-34\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \     </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Upload artifact</span></span>\\n<span
      id=\\\"cb3-35\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/upload-pages-artifact@v1</span></span>\\n<span
      id=\\\"cb3-36\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">with</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span></span>\\n<span id=\\\"cb3-37\\\"><span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">
      \         </span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">path</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'_site'</span></span>\\n<span id=\\\"cb3-38\\\"><span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">      </span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">name</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> Deploy to GitHub
      Pages</span></span>\\n<span id=\\\"cb3-39\\\"><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">        </span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">id</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\"> deployment</span></span>\\n<span
      id=\\\"cb3-40\\\"><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">        </span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">uses</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"> actions/deploy-pages@main</span></span></code></pre></div>\\n<p>Now
      we must change the setting to use the new publishing workflow:</p>\\n<p>Under
      <em>Settings</em> \u2192 <em>Pages</em> \u2192 <em>Build and deployment</em>
      the source must be switched to \u201CGitHub Action\u201D:</p>\\n<div class=\\\"quarto-figure
      quarto-figure-center\\\">\\n<figure class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid
      figure-img\\\" src=\\\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\\\"/></p>\\n<figcaption>Required
      setting to enable the new method</figcaption>\\n</figure>\\n</div>\\n<p>The
      <code>gh-pages</code> branch is no longer needed and can be deleted.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"trade-offs\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"trade-offs\\\">Trade-offs</h2>\\n<p>The
      branch-based method for GitHub pages always felt slightly inelegant. I prefer
      the new method, as it does not require an extra branch and feels much cleaner.
      We lose the ability to update the website via <code>quarto publish</code>, but
      as I usually rely on GitHub Actions to perform the updates, it doesn\u2019t
      affect me much: <code>git push</code> has the same effect. However, it seems
      important to be aware of this trade-off.</p>\\n</section>\",\"published_at\":1659916800,\"updated_at\":1659916800,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":\"https://tarleb.com/posts/quarto-with-gh-pages/pages-settings.png\",\"tags\":[\"Quarto\"],\"language\":\"en\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb08fb6a1965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fquarto-with-gh-pages%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-21a7-7d31-b39a-50946e58ef01
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '7'
    http_version: HTTP/2
    status_code: 200
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: https://rogue-scholar.org/api/communities?q=slug%3Atarleb&type=blog&type=subject&size=1
  response:
    body:
      string: '{"hits": {"hits": [{"id": "b67e853d-a24e-4cba-8499-75aa2ecf6edb", "created":
        "2024-10-10T20:10:10.900307+00:00", "updated": "2025-08-05T07:44:49.280885+00:00",
        "links": {"featured": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/featured",
        "self": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb",
        "self_html": "https://rogue-scholar.org/communities/tarleb/", "settings_html":
        "https://rogue-scholar.org/communities/tarleb/settings", "logo": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/logo",
        "rename": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/rename",
        "members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members",
        "public_members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members/public",
        "invitations": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/invitations",
        "requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/requests",
        "records": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/records",
        "membership_requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/membership-requests"},
        "revision_id": 297, "slug": "tarleb", "metadata": {"title": "tarleb", "description":
        "tarleb''s blog", "type": {"id": "blog", "title": {"de": "Blog", "en": "Blog",
        "sv": "Blogg"}}, "website": "https://tarleb.com/index.html"}, "access": {"visibility":
        "public", "members_visibility": "public", "member_policy": "open", "record_submission_policy":
        "open", "review_policy": "open"}, "custom_fields": {"rs:feed_url": "https://tarleb.com/index.xml",
        "rs:prefix": "10.59350", "rs:joined": "April 20, 2023", "rs:feed_format":
        "application/rss+xml", "rs:generator": "Quarto", "rs:license": "https://creativecommons.org/licenses/by/4.0/legalcode",
        "rs:language": "English", "rs:category": "Computer and information sciences"},
        "is_verified": false, "deletion_status": {"is_deleted": false, "status": "P"},
        "children": {"allow": false}}], "total": 1}, "aggregations": {"type": {"buckets":
        [{"key": "blog", "doc_count": 1, "label": "blog", "is_selected": true}], "label":
        "Type"}}, "sortBy": "bestmatch", "links": {"self": "https://rogue-scholar.org/api/communities?page=1&q=slug:tarleb&size=1&sort=bestmatch&type=blog&type=subject"}}'
    headers:
      Content-Length:
      - '2470'
      Content-Security-Policy:
      - 'default-src ''self'' data: ''unsafe-inline'' blob: *.rogue-scholar.org plausible.io
        www.youtube.com player.vimeo.com www.blogger.com; img-src *'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      Permissions-Policy:
      - interest-cohort=()
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '0'
      Server:
      - gunicorn
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-Ratelimit-Limit:
      - '500'
      X-Ratelimit-Remaining:
      - '466'
      X-Ratelimit-Reset:
      - '1754423109'
      X-User-Id:
      - '4'
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fsantas-little-lua-scripts%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0acccc1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-22c4-7852-b8b7-5e861755cd86
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: !!binary |
      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
    headers:
      Content-Encoding:
      - br
      Content-Type:
      - application/x-sentry-envelope
      User-Agent:
      - sentry.python/2.34.1
      X-Sentry-Auth:
      - Sentry sentry_key=1c9eaaf51fe266c81428811887ed1699, sentry_version=7, sentry_client=sentry.python/2.34.1
    method: POST
    uri: https://o1035963.ingest.us.sentry.io/api/4508128176766976/envelope/
  response:
    body:
      string: '{"id":"3e3ae83237ab4964866c0910e5bfb86d"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Length:
      - '41'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Via:
      - 1.1 google
      access-control-allow-origin:
      - '*'
      access-control-expose-headers:
      - x-sentry-error,x-sentry-rate-limits,retry-after
      cross-origin-resource-policy:
      - cross-origin
      vary:
      - origin, access-control-request-method, access-control-request-headers
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fsantas-little-lua-scripts%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0b2d161965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-230a-7ee4-8ff2-eb469f782b58
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '5'
    http_version: HTTP/2
    status_code: 406
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p>A
      question came up on the Lua mailing list, asking whether there was a PDF version
      of the <a href=\\\"https://lua.org/manual/5.4/manual.html\\\">Lua manual</a>.
      This is, of course, the home domain of pandoc, and I got nerd-sniped into producing
      a PDF (and ePUB) version of the manual.</p>\\n<p>This is a good opportunity
      to showcase some pandoc features. The post describes the process of going from
      an HTML web page to a PDF file via LaTeX and pandoc. We will see how to</p>\\n<ol
      type=\\\"1\\\">\\n<li>quickly convert documents with pandoc;</li>\\n<li>use
      Lua filters to improve the result by modifying the document; and</li>\\n<li>fine-tune
      the output by setting appropriate pandoc options.</li>\\n</ol>\\n<section class=\\\"level2\\\"
      id=\\\"invoking-pandoc\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"invoking-pandoc\\\">Invoking
      pandoc</h2>\\n<p>The first step is to call pandoc on the Lua manual website.
      Even when keeping everything bare-bones, the result is already decent:</p>\\n<pre><code>pandoc
      --pdf-engine=xelatex --output=lua-manual.pdf \\\\\\n    \\\"https://lua.org/manual/5.4/manual.html\\\"</code></pre>\\n<p>Produces</p>\\n<div
      class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure class=\\\"figure\\\">\\n<p><img
      class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\\\"/></p>\\n<figcaption>First
      page of unoptimized PDF</figcaption>\\n</figure>\\n</div>\\n<p>This requires
      a somewhat recent version of pandoc as well as XeLaTeX to be installed. It is
      possible to forgo the trouble of installing the requirements by using the <em>pandoc/latex</em>
      Docker image:</p>\\n<pre><code>docker run --rm -v \\\"$PWD\\\":/data -u $(id
      -u):$(id -g) pandoc/latex:2.9.2.1 \\\\\\n    --pdf-engine=xelatex --output=lua-manual.pdf
      \\\\\\n    \\\"https://lua.org/manual/5.4/manual.html\\\"</code></pre>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"replacing-characters\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"replacing-characters\\\">Replacing characters</h2>\\n<p>The
      above commands will produce warnings about characters which are unavailable
      in the default fonts. We don\u2019t want characters to go missing, of course,
      so let\u2019s fix that first. The warnings are:</p>\\n<pre><code>[WARNING] Missing
      character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\\n[WARNING]
      Missing character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\\n[WARNING]
      Missing character: There is no \u03C0 (U+03C0) in font [lmroman10-italic]:mapping=tex-text;!</code></pre>\\n<p>Searching
      the page for <code>\u2264</code> shows that it is used in inline code, while
      <code>\u03C0</code> occurs as emphasized character in the description of <code>math.pi</code>.
      We could, of course, search for a font which has the appropriate glyphs and
      instruct pandoc/LaTeX to use it. But we\u2019ll go a different route.</p>\\n<p>A
      good way to improve the result of a converstion is to use a pandoc <a href=\\\"https://pandoc.org/lua-filters.html\\\">Lua
      filter</a>. We create a file called <code>beautify-manual.lua</code> and pass
      it to pandoc via the <code>--lua-filter=beautify-manual.lua</code> command line
      option.</p>\\n<p>Handling <code>\u2264</code> is straight forward, we just replace
      the char with the slightly uglier looking ASCII sequence <code>&lt;=</code>
      in all code elements.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb4\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode
      lua\\\"><span id=\\\"cb4-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> Code <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb4-2\\\">  <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">text</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">text</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">gsub</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'\u2264'</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'&lt;='</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb4-3\\\">  <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">c</span></span>\\n<span id=\\\"cb4-4\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span></code></pre></div>\\n<p>While there is no italics
      version <code>\u03C0</code> in the default font, there <em>is</em> such a glyph
      in the default math font. Pandoc\u2019s internal representation for <em>\u03C0</em>
      is <code>Emph [Str \\\"\u03C0\\\"]</code>, which we replace with a math element
      holding the same content.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb5\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code
      class=\\\"sourceCode lua\\\"><span id=\\\"cb5-1\\\"><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">function</span>
      Emph <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb5-2\\\">  <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">s</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb5-3\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">if</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">#</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">s</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">tag</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'Str'</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">s</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">text</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'\u03C0'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">then</span></span>\\n<span id=\\\"cb5-4\\\">    <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Math<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'InlineMath'</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'\u03C0'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span></span>\\n<span id=\\\"cb5-5\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span>\\n<span
      id=\\\"cb5-6\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      document now compiles without warnings, and all characters are properly included.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"add-table-of-contents\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"add-table-of-contents\\\">Add Table of Contents</h2>\\n<p>The
      Lua manual is long, often used as a reference, and, in its HTML version, comes
      with a table of contents on a separate page. The PDF, for it to be useful as
      a reference, should have a table of contents as well. Pandoc can be told to
      generate a table of contents by adding the <code>--toc</code> command line flag.
      The toc depth is controlled via <code>--toc-depth</code>; <code>2</code> is
      a good setting here. However, in this case, the result is neither pleasing nor
      informative:</p>\\n<div class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure
      class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\\\"/></p>\\n<figcaption>Bad
      looking table of contents</figcaption>\\n</figure>\\n</div>\\n<p>Something is
      terribly wrong. By inspecting the parsed document by running <code>pandoc --to=native
      \u2026</code>, we see that all <em>Header</em>s contain a <em>Span</em>. That
      span holds the actual contents. Apparently LaTeX does not like this and omits
      the content of the span when generating the toc.</p>\\n<p>The span also has
      the id used by links to the header. Numbered sections start with the section
      number, which we\u2019d rather produce via pandoc.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb6\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb6-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> Header <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb6-2\\\">  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- Unnumbered sections have the main contents as the first element.</span></span>\\n<span
      id=\\\"cb6-3\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- Numbered sections start with the number
      and an em-dash, so</span></span>\\n<span id=\\\"cb6-4\\\">  <span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">--
      the Span is the fifth element (Lua multipass).</span></span>\\n<span id=\\\"cb6-5\\\">
      \ <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span></span>\\n<span id=\\\"cb6-6\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">if</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">tag</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">==</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'Str'</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">h</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">text</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">match</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'[%d%.]+'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">then</span></span>\\n<span id=\\\"cb6-7\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">span</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">5</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb6-8\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">else</span></span>\\n<span
      id=\\\"cb6-9\\\">    <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">]</span></span>\\n<span
      id=\\\"cb6-10\\\">    <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">classes</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">insert</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'unnumbered'</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb6-11\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb6-12\\\"></span>\\n<span
      id=\\\"cb6-13\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">identifier</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">span</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">identifier</span></span>\\n<span id=\\\"cb6-14\\\">
      \ <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span></span>\\n<span id=\\\"cb6-15\\\"></span>\\n<span
      id=\\\"cb6-16\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">h</span></span>\\n<span
      id=\\\"cb6-17\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      filter also removes the section numbering. We add it back by passing <code>--number-sections</code>
      to pandoc.</p>\\n<div class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure
      class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\\\"/></p>\\n<figcaption>less-bad
      table of contents</figcaption>\\n</figure>\\n</div>\\n<p>Not bad.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"improve-title-and-metadata\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"improve-title-and-metadata\\\">Improve title and metadata</h2>\\n<p>The
      PDF is already quite usable, let\u2019s prettify it a bit more: It would be
      important to properly list the authors in the title and metadata, remove the
      unnecessary first header, and maybe add the Lua logo to the title. All this
      is easiest when acting on the full document.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb7\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb7-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> Pandoc <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb7-2\\\">  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- comma separated authors</span></span>\\n<span id=\\\"cb7-3\\\">
      \ <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">authors</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">blocks</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">2</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">]</span></span>\\n<span
      id=\\\"cb7-4\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">authors</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span>  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- remove 'by'</span></span>\\n<span id=\\\"cb7-5\\\">  <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">author</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">pandoc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>List<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">()</span></span>\\n<span id=\\\"cb7-6\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">for</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">author</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">in</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">utils</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>stringify<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">authors</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">):</span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">gmatch</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'[^,]+'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">do</span></span>\\n<span id=\\\"cb7-7\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">author</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">insert</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">author</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb7-8\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb7-9\\\"></span>\\n<span
      id=\\\"cb7-10\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- Remove unnecessary blocks</span></span>\\n<span
      id=\\\"cb7-11\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">4</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- menubar</span></span>\\n<span id=\\\"cb7-12\\\">  <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">remove</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">2</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span> <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- authors paragraph</span></span>\\n<span
      id=\\\"cb7-13\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- title header</span></span>\\n<span id=\\\"cb7-14\\\"></span>\\n<span
      id=\\\"cb7-15\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- add subtitle image</span></span>\\n<span
      id=\\\"cb7-16\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">subtitle</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span>MetaInlines<span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span></span>\\n<span id=\\\"cb7-17\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">pandoc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>RawInline<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'latex'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'</span><span class=\\\"sc\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\\\\\</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vspace{1em}'</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">),</span></span>\\n<span id=\\\"cb7-18\\\">
      \   <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Image<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"Lua logo\\\"</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- \\\"https://www.lua.org/images/lua-logo.gif\\\")</span></span>\\n<span
      id=\\\"cb7-19\\\">  <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">}</span></span>\\n<span id=\\\"cb7-20\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span></span>\\n<span id=\\\"cb7-21\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span></code></pre></div>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"final-touch\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"final-touch\\\">Final
      touch</h2>\\n<p>Finally, we may want the PDF to add a little more visible structure,
      e.g., starting top-level sections on their own page.</p>\\n<p>The command used
      by pandoc to create the top level headings can be controlled with the <code>--top-level-division</code>
      option. Setting that option to <code>chapter</code> ensures that each major
      section starts on a new page. However, the default document class used by LaTeX
      doesn\u2019t allow chapters, so a different class has to be set with <code>--variable
      documentclass=report</code>.</p>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"summary\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"summary\\\">Summary</h2>\\n<p>For
      completeness, <a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-manual-cleanup.lua\\\">here
      is the complete filter</a>, and this is the full pandoc command used to generate
      the PDF:</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb8\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode
      bash\\\"><span id=\\\"cb8-1\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span> <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-2\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--toc</span> <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-3\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--toc-depth</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>2 <span
      class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-4\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--metadata</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>documentclass=report <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-5\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--pdf-engine</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>xelatex
      <span class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-6\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--lua-filter</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>lua-manual-cleanup.lua <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-7\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--number-sections</span> <span class=\\\"dt\\\"
      style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-8\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--top-level-division</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>chapter
      <span class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-9\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--output</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>lua-5.4-manual.pdf <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-10\\\">  <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"https://lua.org/manual/5.4/manual.html\\\"</span></span></code></pre></div>\\n<p>One
      of the big advantages of pandoc is that it offers a lot of freedom. Since we
      already cleaned the content up, we can now also create other formats, like an
      ebook, just by changing the name of the output file. The final results are available
      below:</p>\\n<ul>\\n<li><a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-5.4-manual.pdf\\\">Lua
      5.4 manual (PDF)</a></li>\\n<li><a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-5.4-manual.epub\\\">Lua
      5.4 manual (EPUB)</a></li>\\n</ul>\\n</section>\",\"images\":[{\"src\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\"},{\"src\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\"},{\"src\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\"},{\"src\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\",\"alt\":\"First
      page of unoptimized PDF\"},{\"src\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\",\"alt\":\"Bad
      looking table of contents\"},{\"src\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\",\"alt\":\"less-bad
      table of contents\"}],\"updated_at\":1594425600,\"registered_at\":0,\"published_at\":1594425600,\"image\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\",\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"summary\":\"A
      question came up on the Lua mailing list, asking whether there was a PDF version
      of the Lua manual. This is, of course, the home domain of pandoc, and I got
      nerd-sniped into producing a PDF (and ePUB) version of the manual. This is a
      good opportunity to showcase some pandoc features. The post describes the process
      of going from an HTML web page to a PDF file via LaTeX and pandoc. We will see
      how to quickly convert documents with pandoc;\",\"abstract\":null,\"tags\":[\"Pandoc\",\"Lua\",\"Pdf\"],\"title\":\"PDF
      Version of the Lua Manual\",\"url\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/\",\"guid\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '40342'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/\",\"title\":\"PDF
      Version of the Lua Manual\",\"summary\":\"A question came up on the Lua mailing
      list, asking whether there was a PDF version of the Lua manual. This is, of
      course, the home domain of pandoc, and I got nerd-sniped into producing a PDF
      (and ePUB) version of the manual. This is a good opportunity to showcase some
      pandoc features. The post describes the process of going from an HTML web page
      to a PDF file via LaTeX and pandoc. We will see how to quickly convert documents
      with pandoc;\",\"image\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\",\"tags\":[\"Pandoc\",\"Lua\",\"Pdf\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"075f227e-b596-4a12-ac9f-d4449c7ab4a4\",\"reference\":[],\"updated_at\":1594425600,\"published_at\":1594425600,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[{\"src\":
      \"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\"}, {\"src\":
      \"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\"}, {\"src\": \"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\"},
      {\"alt\": \"First page of unoptimized PDF\", \"src\": \"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\"},
      {\"alt\": \"Bad looking table of contents\", \"src\": \"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\"},
      {\"alt\": \"less-bad table of contents\", \"src\": \"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\"}],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>A
      question came up on the Lua mailing list, asking whether there was a PDF version
      of the <a href=\\\"https://lua.org/manual/5.4/manual.html\\\">Lua manual</a>.
      This is, of course, the home domain of pandoc, and I got nerd-sniped into producing
      a PDF (and ePUB) version of the manual.</p>\\n<p>This is a good opportunity
      to showcase some pandoc features. The post describes the process of going from
      an HTML web page to a PDF file via LaTeX and pandoc. We will see how to</p>\\n<ol
      type=\\\"1\\\">\\n<li>quickly convert documents with pandoc;</li>\\n<li>use
      Lua filters to improve the result by modifying the document; and</li>\\n<li>fine-tune
      the output by setting appropriate pandoc options.</li>\\n</ol>\\n<section class=\\\"level2\\\"
      id=\\\"invoking-pandoc\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"invoking-pandoc\\\">Invoking
      pandoc</h2>\\n<p>The first step is to call pandoc on the Lua manual website.
      Even when keeping everything bare-bones, the result is already decent:</p>\\n<pre><code>pandoc
      --pdf-engine=xelatex --output=lua-manual.pdf \\\\\\n    \\\"https://lua.org/manual/5.4/manual.html\\\"</code></pre>\\n<p>Produces</p>\\n<div
      class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure class=\\\"figure\\\">\\n<p><img
      class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\\\"/></p>\\n<figcaption>First
      page of unoptimized PDF</figcaption>\\n</figure>\\n</div>\\n<p>This requires
      a somewhat recent version of pandoc as well as XeLaTeX to be installed. It is
      possible to forgo the trouble of installing the requirements by using the <em>pandoc/latex</em>
      Docker image:</p>\\n<pre><code>docker run --rm -v \\\"$PWD\\\":/data -u $(id
      -u):$(id -g) pandoc/latex:2.9.2.1 \\\\\\n    --pdf-engine=xelatex --output=lua-manual.pdf
      \\\\\\n    \\\"https://lua.org/manual/5.4/manual.html\\\"</code></pre>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"replacing-characters\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"replacing-characters\\\">Replacing characters</h2>\\n<p>The
      above commands will produce warnings about characters which are unavailable
      in the default fonts. We don\u2019t want characters to go missing, of course,
      so let\u2019s fix that first. The warnings are:</p>\\n<pre><code>[WARNING] Missing
      character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\\n[WARNING]
      Missing character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\\n[WARNING]
      Missing character: There is no \u03C0 (U+03C0) in font [lmroman10-italic]:mapping=tex-text;!</code></pre>\\n<p>Searching
      the page for <code>\u2264</code> shows that it is used in inline code, while
      <code>\u03C0</code> occurs as emphasized character in the description of <code>math.pi</code>.
      We could, of course, search for a font which has the appropriate glyphs and
      instruct pandoc/LaTeX to use it. But we\u2019ll go a different route.</p>\\n<p>A
      good way to improve the result of a converstion is to use a pandoc <a href=\\\"https://pandoc.org/lua-filters.html\\\">Lua
      filter</a>. We create a file called <code>beautify-manual.lua</code> and pass
      it to pandoc via the <code>--lua-filter=beautify-manual.lua</code> command line
      option.</p>\\n<p>Handling <code>\u2264</code> is straight forward, we just replace
      the char with the slightly uglier looking ASCII sequence <code>&lt;=</code>
      in all code elements.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb4\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode
      lua\\\"><span id=\\\"cb4-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> Code <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb4-2\\\">  <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">text</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">text</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">gsub</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'\u2264'</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'&lt;='</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb4-3\\\">  <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">c</span></span>\\n<span id=\\\"cb4-4\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span></code></pre></div>\\n<p>While there is no italics
      version <code>\u03C0</code> in the default font, there <em>is</em> such a glyph
      in the default math font. Pandoc\u2019s internal representation for <em>\u03C0</em>
      is <code>Emph [Str \\\"\u03C0\\\"]</code>, which we replace with a math element
      holding the same content.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb5\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code
      class=\\\"sourceCode lua\\\"><span id=\\\"cb5-1\\\"><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">function</span>
      Emph <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb5-2\\\">  <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">s</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb5-3\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">if</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">#</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">s</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">tag</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'Str'</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">s</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">text</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'\u03C0'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">then</span></span>\\n<span id=\\\"cb5-4\\\">    <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Math<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'InlineMath'</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'\u03C0'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span></span>\\n<span id=\\\"cb5-5\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span>\\n<span
      id=\\\"cb5-6\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      document now compiles without warnings, and all characters are properly included.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"add-table-of-contents\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"add-table-of-contents\\\">Add Table of Contents</h2>\\n<p>The
      Lua manual is long, often used as a reference, and, in its HTML version, comes
      with a table of contents on a separate page. The PDF, for it to be useful as
      a reference, should have a table of contents as well. Pandoc can be told to
      generate a table of contents by adding the <code>--toc</code> command line flag.
      The toc depth is controlled via <code>--toc-depth</code>; <code>2</code> is
      a good setting here. However, in this case, the result is neither pleasing nor
      informative:</p>\\n<div class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure
      class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\\\"/></p>\\n<figcaption>Bad
      looking table of contents</figcaption>\\n</figure>\\n</div>\\n<p>Something is
      terribly wrong. By inspecting the parsed document by running <code>pandoc --to=native
      \u2026</code>, we see that all <em>Header</em>s contain a <em>Span</em>. That
      span holds the actual contents. Apparently LaTeX does not like this and omits
      the content of the span when generating the toc.</p>\\n<p>The span also has
      the id used by links to the header. Numbered sections start with the section
      number, which we\u2019d rather produce via pandoc.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb6\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb6-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> Header <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb6-2\\\">  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- Unnumbered sections have the main contents as the first element.</span></span>\\n<span
      id=\\\"cb6-3\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- Numbered sections start with the number
      and an em-dash, so</span></span>\\n<span id=\\\"cb6-4\\\">  <span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">--
      the Span is the fifth element (Lua multipass).</span></span>\\n<span id=\\\"cb6-5\\\">
      \ <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span></span>\\n<span id=\\\"cb6-6\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">if</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">tag</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">==</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'Str'</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">h</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">text</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">match</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'[%d%.]+'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">then</span></span>\\n<span id=\\\"cb6-7\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">span</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">5</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb6-8\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">else</span></span>\\n<span
      id=\\\"cb6-9\\\">    <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">]</span></span>\\n<span
      id=\\\"cb6-10\\\">    <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">classes</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">insert</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'unnumbered'</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb6-11\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb6-12\\\"></span>\\n<span
      id=\\\"cb6-13\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">identifier</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">span</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">identifier</span></span>\\n<span id=\\\"cb6-14\\\">
      \ <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span></span>\\n<span id=\\\"cb6-15\\\"></span>\\n<span
      id=\\\"cb6-16\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">h</span></span>\\n<span
      id=\\\"cb6-17\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      filter also removes the section numbering. We add it back by passing <code>--number-sections</code>
      to pandoc.</p>\\n<div class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure
      class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\\\"/></p>\\n<figcaption>less-bad
      table of contents</figcaption>\\n</figure>\\n</div>\\n<p>Not bad.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"improve-title-and-metadata\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"improve-title-and-metadata\\\">Improve title and metadata</h2>\\n<p>The
      PDF is already quite usable, let\u2019s prettify it a bit more: It would be
      important to properly list the authors in the title and metadata, remove the
      unnecessary first header, and maybe add the Lua logo to the title. All this
      is easiest when acting on the full document.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb7\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb7-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> Pandoc <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb7-2\\\">  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- comma separated authors</span></span>\\n<span id=\\\"cb7-3\\\">
      \ <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">authors</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">blocks</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">2</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">]</span></span>\\n<span
      id=\\\"cb7-4\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">authors</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span>  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- remove 'by'</span></span>\\n<span id=\\\"cb7-5\\\">  <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">author</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">pandoc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>List<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">()</span></span>\\n<span id=\\\"cb7-6\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">for</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">author</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">in</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">utils</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>stringify<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">authors</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">):</span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">gmatch</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'[^,]+'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">do</span></span>\\n<span id=\\\"cb7-7\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">author</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">insert</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">author</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb7-8\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb7-9\\\"></span>\\n<span
      id=\\\"cb7-10\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- Remove unnecessary blocks</span></span>\\n<span
      id=\\\"cb7-11\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">4</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- menubar</span></span>\\n<span id=\\\"cb7-12\\\">  <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">remove</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">2</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span> <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- authors paragraph</span></span>\\n<span
      id=\\\"cb7-13\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- title header</span></span>\\n<span id=\\\"cb7-14\\\"></span>\\n<span
      id=\\\"cb7-15\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- add subtitle image</span></span>\\n<span
      id=\\\"cb7-16\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">subtitle</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span>MetaInlines<span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span></span>\\n<span id=\\\"cb7-17\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">pandoc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>RawInline<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'latex'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'</span><span class=\\\"sc\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\\\\\</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vspace{1em}'</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">),</span></span>\\n<span id=\\\"cb7-18\\\">
      \   <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Image<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"Lua logo\\\"</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- \\\"https://www.lua.org/images/lua-logo.gif\\\")</span></span>\\n<span
      id=\\\"cb7-19\\\">  <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">}</span></span>\\n<span id=\\\"cb7-20\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span></span>\\n<span id=\\\"cb7-21\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span></code></pre></div>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"final-touch\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"final-touch\\\">Final
      touch</h2>\\n<p>Finally, we may want the PDF to add a little more visible structure,
      e.g., starting top-level sections on their own page.</p>\\n<p>The command used
      by pandoc to create the top level headings can be controlled with the <code>--top-level-division</code>
      option. Setting that option to <code>chapter</code> ensures that each major
      section starts on a new page. However, the default document class used by LaTeX
      doesn\u2019t allow chapters, so a different class has to be set with <code>--variable
      documentclass=report</code>.</p>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"summary\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"summary\\\">Summary</h2>\\n<p>For
      completeness, <a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-manual-cleanup.lua\\\">here
      is the complete filter</a>, and this is the full pandoc command used to generate
      the PDF:</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb8\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode
      bash\\\"><span id=\\\"cb8-1\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span> <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-2\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--toc</span> <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-3\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--toc-depth</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>2 <span
      class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-4\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--metadata</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>documentclass=report <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-5\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--pdf-engine</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>xelatex
      <span class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-6\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--lua-filter</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>lua-manual-cleanup.lua <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-7\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--number-sections</span> <span class=\\\"dt\\\"
      style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-8\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--top-level-division</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>chapter
      <span class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-9\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--output</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>lua-5.4-manual.pdf <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-10\\\">  <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"https://lua.org/manual/5.4/manual.html\\\"</span></span></code></pre></div>\\n<p>One
      of the big advantages of pandoc is that it offers a lot of freedom. Since we
      already cleaned the content up, we can now also create other formats, like an
      ebook, just by changing the name of the output file. The final results are available
      below:</p>\\n<ul>\\n<li><a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-5.4-manual.pdf\\\">Lua
      5.4 manual (PDF)</a></li>\\n<li><a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-5.4-manual.epub\\\">Lua
      5.4 manual (EPUB)</a></li>\\n</ul>\\n</section>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0bac87098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-235f-7a58-9b30-4930d317b297
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '5'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.075f227e-b596-4a12-ac9f-d4449c7ab4a4
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/\",\"title\":\"PDF
      Version of the Lua Manual\",\"summary\":\"A question came up on the Lua mailing
      list, asking whether there was a PDF version of the Lua manual. This is, of
      course, the home domain of pandoc, and I got nerd-sniped into producing a PDF
      (and ePUB) version of the manual. This is a good opportunity to showcase some
      pandoc features. The post describes the process of going from an HTML web page
      to a PDF file via LaTeX and pandoc. We will see how to quickly convert documents
      with pandoc;\",\"image\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\",\"tags\":[\"Pandoc\",\"Lua\",\"Pdf\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"075f227e-b596-4a12-ac9f-d4449c7ab4a4\",\"reference\":[],\"updated_at\":1594425600,\"published_at\":1594425600,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[{\"src\":
      \"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\"}, {\"src\":
      \"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\"}, {\"src\": \"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\"},
      {\"alt\": \"First page of unoptimized PDF\", \"src\": \"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\"},
      {\"alt\": \"Bad looking table of contents\", \"src\": \"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\"},
      {\"alt\": \"less-bad table of contents\", \"src\": \"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\"}],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>A
      question came up on the Lua mailing list, asking whether there was a PDF version
      of the <a href=\\\"https://lua.org/manual/5.4/manual.html\\\">Lua manual</a>.
      This is, of course, the home domain of pandoc, and I got nerd-sniped into producing
      a PDF (and ePUB) version of the manual.</p>\\n<p>This is a good opportunity
      to showcase some pandoc features. The post describes the process of going from
      an HTML web page to a PDF file via LaTeX and pandoc. We will see how to</p>\\n<ol
      type=\\\"1\\\">\\n<li>quickly convert documents with pandoc;</li>\\n<li>use
      Lua filters to improve the result by modifying the document; and</li>\\n<li>fine-tune
      the output by setting appropriate pandoc options.</li>\\n</ol>\\n<section class=\\\"level2\\\"
      id=\\\"invoking-pandoc\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"invoking-pandoc\\\">Invoking
      pandoc</h2>\\n<p>The first step is to call pandoc on the Lua manual website.
      Even when keeping everything bare-bones, the result is already decent:</p>\\n<pre><code>pandoc
      --pdf-engine=xelatex --output=lua-manual.pdf \\\\\\n    \\\"https://lua.org/manual/5.4/manual.html\\\"</code></pre>\\n<p>Produces</p>\\n<div
      class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure class=\\\"figure\\\">\\n<p><img
      class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\\\"/></p>\\n<figcaption>First
      page of unoptimized PDF</figcaption>\\n</figure>\\n</div>\\n<p>This requires
      a somewhat recent version of pandoc as well as XeLaTeX to be installed. It is
      possible to forgo the trouble of installing the requirements by using the <em>pandoc/latex</em>
      Docker image:</p>\\n<pre><code>docker run --rm -v \\\"$PWD\\\":/data -u $(id
      -u):$(id -g) pandoc/latex:2.9.2.1 \\\\\\n    --pdf-engine=xelatex --output=lua-manual.pdf
      \\\\\\n    \\\"https://lua.org/manual/5.4/manual.html\\\"</code></pre>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"replacing-characters\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"replacing-characters\\\">Replacing characters</h2>\\n<p>The
      above commands will produce warnings about characters which are unavailable
      in the default fonts. We don\u2019t want characters to go missing, of course,
      so let\u2019s fix that first. The warnings are:</p>\\n<pre><code>[WARNING] Missing
      character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\\n[WARNING]
      Missing character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\\n[WARNING]
      Missing character: There is no \u03C0 (U+03C0) in font [lmroman10-italic]:mapping=tex-text;!</code></pre>\\n<p>Searching
      the page for <code>\u2264</code> shows that it is used in inline code, while
      <code>\u03C0</code> occurs as emphasized character in the description of <code>math.pi</code>.
      We could, of course, search for a font which has the appropriate glyphs and
      instruct pandoc/LaTeX to use it. But we\u2019ll go a different route.</p>\\n<p>A
      good way to improve the result of a converstion is to use a pandoc <a href=\\\"https://pandoc.org/lua-filters.html\\\">Lua
      filter</a>. We create a file called <code>beautify-manual.lua</code> and pass
      it to pandoc via the <code>--lua-filter=beautify-manual.lua</code> command line
      option.</p>\\n<p>Handling <code>\u2264</code> is straight forward, we just replace
      the char with the slightly uglier looking ASCII sequence <code>&lt;=</code>
      in all code elements.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb4\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode
      lua\\\"><span id=\\\"cb4-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> Code <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb4-2\\\">  <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">text</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">text</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">gsub</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'\u2264'</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'&lt;='</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb4-3\\\">  <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">c</span></span>\\n<span id=\\\"cb4-4\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span></code></pre></div>\\n<p>While there is no italics
      version <code>\u03C0</code> in the default font, there <em>is</em> such a glyph
      in the default math font. Pandoc\u2019s internal representation for <em>\u03C0</em>
      is <code>Emph [Str \\\"\u03C0\\\"]</code>, which we replace with a math element
      holding the same content.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb5\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code
      class=\\\"sourceCode lua\\\"><span id=\\\"cb5-1\\\"><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">function</span>
      Emph <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb5-2\\\">  <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">s</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb5-3\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">if</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">#</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">s</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">tag</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'Str'</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">s</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">text</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'\u03C0'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">then</span></span>\\n<span id=\\\"cb5-4\\\">    <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Math<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'InlineMath'</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'\u03C0'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span></span>\\n<span id=\\\"cb5-5\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span>\\n<span
      id=\\\"cb5-6\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      document now compiles without warnings, and all characters are properly included.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"add-table-of-contents\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"add-table-of-contents\\\">Add Table of Contents</h2>\\n<p>The
      Lua manual is long, often used as a reference, and, in its HTML version, comes
      with a table of contents on a separate page. The PDF, for it to be useful as
      a reference, should have a table of contents as well. Pandoc can be told to
      generate a table of contents by adding the <code>--toc</code> command line flag.
      The toc depth is controlled via <code>--toc-depth</code>; <code>2</code> is
      a good setting here. However, in this case, the result is neither pleasing nor
      informative:</p>\\n<div class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure
      class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\\\"/></p>\\n<figcaption>Bad
      looking table of contents</figcaption>\\n</figure>\\n</div>\\n<p>Something is
      terribly wrong. By inspecting the parsed document by running <code>pandoc --to=native
      \u2026</code>, we see that all <em>Header</em>s contain a <em>Span</em>. That
      span holds the actual contents. Apparently LaTeX does not like this and omits
      the content of the span when generating the toc.</p>\\n<p>The span also has
      the id used by links to the header. Numbered sections start with the section
      number, which we\u2019d rather produce via pandoc.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb6\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb6-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> Header <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb6-2\\\">  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- Unnumbered sections have the main contents as the first element.</span></span>\\n<span
      id=\\\"cb6-3\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- Numbered sections start with the number
      and an em-dash, so</span></span>\\n<span id=\\\"cb6-4\\\">  <span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">--
      the Span is the fifth element (Lua multipass).</span></span>\\n<span id=\\\"cb6-5\\\">
      \ <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span></span>\\n<span id=\\\"cb6-6\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">if</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">tag</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">==</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'Str'</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">h</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">text</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">match</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'[%d%.]+'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">then</span></span>\\n<span id=\\\"cb6-7\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">span</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">5</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb6-8\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">else</span></span>\\n<span
      id=\\\"cb6-9\\\">    <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">]</span></span>\\n<span
      id=\\\"cb6-10\\\">    <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">classes</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">insert</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'unnumbered'</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb6-11\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb6-12\\\"></span>\\n<span
      id=\\\"cb6-13\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">identifier</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">span</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">identifier</span></span>\\n<span id=\\\"cb6-14\\\">
      \ <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span></span>\\n<span id=\\\"cb6-15\\\"></span>\\n<span
      id=\\\"cb6-16\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">h</span></span>\\n<span
      id=\\\"cb6-17\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      filter also removes the section numbering. We add it back by passing <code>--number-sections</code>
      to pandoc.</p>\\n<div class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure
      class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\\\"/></p>\\n<figcaption>less-bad
      table of contents</figcaption>\\n</figure>\\n</div>\\n<p>Not bad.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"improve-title-and-metadata\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"improve-title-and-metadata\\\">Improve title and metadata</h2>\\n<p>The
      PDF is already quite usable, let\u2019s prettify it a bit more: It would be
      important to properly list the authors in the title and metadata, remove the
      unnecessary first header, and maybe add the Lua logo to the title. All this
      is easiest when acting on the full document.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb7\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb7-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> Pandoc <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb7-2\\\">  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- comma separated authors</span></span>\\n<span id=\\\"cb7-3\\\">
      \ <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">authors</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">blocks</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">2</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">]</span></span>\\n<span
      id=\\\"cb7-4\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">authors</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span>  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- remove 'by'</span></span>\\n<span id=\\\"cb7-5\\\">  <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">author</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">pandoc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>List<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">()</span></span>\\n<span id=\\\"cb7-6\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">for</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">author</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">in</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">utils</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>stringify<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">authors</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">):</span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">gmatch</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'[^,]+'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">do</span></span>\\n<span id=\\\"cb7-7\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">author</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">insert</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">author</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb7-8\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb7-9\\\"></span>\\n<span
      id=\\\"cb7-10\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- Remove unnecessary blocks</span></span>\\n<span
      id=\\\"cb7-11\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">4</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- menubar</span></span>\\n<span id=\\\"cb7-12\\\">  <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">remove</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">2</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span> <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- authors paragraph</span></span>\\n<span
      id=\\\"cb7-13\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- title header</span></span>\\n<span id=\\\"cb7-14\\\"></span>\\n<span
      id=\\\"cb7-15\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- add subtitle image</span></span>\\n<span
      id=\\\"cb7-16\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">subtitle</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span>MetaInlines<span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span></span>\\n<span id=\\\"cb7-17\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">pandoc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>RawInline<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'latex'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'</span><span class=\\\"sc\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\\\\\</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vspace{1em}'</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">),</span></span>\\n<span id=\\\"cb7-18\\\">
      \   <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Image<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"Lua logo\\\"</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- \\\"https://www.lua.org/images/lua-logo.gif\\\")</span></span>\\n<span
      id=\\\"cb7-19\\\">  <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">}</span></span>\\n<span id=\\\"cb7-20\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span></span>\\n<span id=\\\"cb7-21\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span></code></pre></div>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"final-touch\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"final-touch\\\">Final
      touch</h2>\\n<p>Finally, we may want the PDF to add a little more visible structure,
      e.g., starting top-level sections on their own page.</p>\\n<p>The command used
      by pandoc to create the top level headings can be controlled with the <code>--top-level-division</code>
      option. Setting that option to <code>chapter</code> ensures that each major
      section starts on a new page. However, the default document class used by LaTeX
      doesn\u2019t allow chapters, so a different class has to be set with <code>--variable
      documentclass=report</code>.</p>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"summary\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"summary\\\">Summary</h2>\\n<p>For
      completeness, <a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-manual-cleanup.lua\\\">here
      is the complete filter</a>, and this is the full pandoc command used to generate
      the PDF:</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb8\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode
      bash\\\"><span id=\\\"cb8-1\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span> <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-2\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--toc</span> <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-3\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--toc-depth</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>2 <span
      class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-4\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--metadata</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>documentclass=report <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-5\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--pdf-engine</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>xelatex
      <span class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-6\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--lua-filter</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>lua-manual-cleanup.lua <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-7\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--number-sections</span> <span class=\\\"dt\\\"
      style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-8\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--top-level-division</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>chapter
      <span class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-9\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--output</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>lua-5.4-manual.pdf <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-10\\\">  <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"https://lua.org/manual/5.4/manual.html\\\"</span></span></code></pre></div>\\n<p>One
      of the big advantages of pandoc is that it offers a lot of freedom. Since we
      already cleaned the content up, we can now also create other formats, like an
      ebook, just by changing the name of the output file. The final results are available
      below:</p>\\n<ul>\\n<li><a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-5.4-manual.pdf\\\">Lua
      5.4 manual (PDF)</a></li>\\n<li><a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-5.4-manual.epub\\\">Lua
      5.4 manual (EPUB)</a></li>\\n</ul>\\n</section>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0c2d45098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-239d-7d96-86be-11cdc0c761d6
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fpdf-of-the-lua-manual%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0c9e2c1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-23ec-7d0b-b5a0-e9031d0b2e1a
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '7'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fpdf-of-the-lua-manual%2F
  response:
    content: "{\"id\":\"075f227e-b596-4a12-ac9f-d4449c7ab4a4\",\"guid\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/\",\"archive_url\":null,\"title\":\"PDF
      Version of the Lua Manual\",\"summary\":\"A question came up on the Lua mailing
      list, asking whether there was a PDF version of the Lua manual. This is, of
      course, the home domain of pandoc, and I got nerd-sniped into producing a PDF
      (and ePUB) version of the manual. This is a good opportunity to showcase some
      pandoc features. The post describes the process of going from an HTML web page
      to a PDF file via LaTeX and pandoc. We will see how to quickly convert documents
      with pandoc;\",\"abstract\":null,\"content_html\":\"<p>A question came up on
      the Lua mailing list, asking whether there was a PDF version of the <a href=\\\"https://lua.org/manual/5.4/manual.html\\\">Lua
      manual</a>. This is, of course, the home domain of pandoc, and I got nerd-sniped
      into producing a PDF (and ePUB) version of the manual.</p>\\n<p>This is a good
      opportunity to showcase some pandoc features. The post describes the process
      of going from an HTML web page to a PDF file via LaTeX and pandoc. We will see
      how to</p>\\n<ol type=\\\"1\\\">\\n<li>quickly convert documents with pandoc;</li>\\n<li>use
      Lua filters to improve the result by modifying the document; and</li>\\n<li>fine-tune
      the output by setting appropriate pandoc options.</li>\\n</ol>\\n<section class=\\\"level2\\\"
      id=\\\"invoking-pandoc\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"invoking-pandoc\\\">Invoking
      pandoc</h2>\\n<p>The first step is to call pandoc on the Lua manual website.
      Even when keeping everything bare-bones, the result is already decent:</p>\\n<pre><code>pandoc
      --pdf-engine=xelatex --output=lua-manual.pdf \\\\\\n    \\\"https://lua.org/manual/5.4/manual.html\\\"</code></pre>\\n<p>Produces</p>\\n<div
      class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure class=\\\"figure\\\">\\n<p><img
      class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\\\"/></p>\\n<figcaption>First
      page of unoptimized PDF</figcaption>\\n</figure>\\n</div>\\n<p>This requires
      a somewhat recent version of pandoc as well as XeLaTeX to be installed. It is
      possible to forgo the trouble of installing the requirements by using the <em>pandoc/latex</em>
      Docker image:</p>\\n<pre><code>docker run --rm -v \\\"$PWD\\\":/data -u $(id
      -u):$(id -g) pandoc/latex:2.9.2.1 \\\\\\n    --pdf-engine=xelatex --output=lua-manual.pdf
      \\\\\\n    \\\"https://lua.org/manual/5.4/manual.html\\\"</code></pre>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"replacing-characters\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"replacing-characters\\\">Replacing characters</h2>\\n<p>The
      above commands will produce warnings about characters which are unavailable
      in the default fonts. We don\u2019t want characters to go missing, of course,
      so let\u2019s fix that first. The warnings are:</p>\\n<pre><code>[WARNING] Missing
      character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\\n[WARNING]
      Missing character: There is no \u2264 (U+2264) in font [lmmono10-regular]:!\\n[WARNING]
      Missing character: There is no \u03C0 (U+03C0) in font [lmroman10-italic]:mapping=tex-text;!</code></pre>\\n<p>Searching
      the page for <code>\u2264</code> shows that it is used in inline code, while
      <code>\u03C0</code> occurs as emphasized character in the description of <code>math.pi</code>.
      We could, of course, search for a font which has the appropriate glyphs and
      instruct pandoc/LaTeX to use it. But we\u2019ll go a different route.</p>\\n<p>A
      good way to improve the result of a converstion is to use a pandoc <a href=\\\"https://pandoc.org/lua-filters.html\\\">Lua
      filter</a>. We create a file called <code>beautify-manual.lua</code> and pass
      it to pandoc via the <code>--lua-filter=beautify-manual.lua</code> command line
      option.</p>\\n<p>Handling <code>\u2264</code> is straight forward, we just replace
      the char with the slightly uglier looking ASCII sequence <code>&lt;=</code>
      in all code elements.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb4\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code class=\\\"sourceCode
      lua\\\"><span id=\\\"cb4-1\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">function</span> Code <span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb4-2\\\">  <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">text</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">c</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">text</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">gsub</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'\u2264'</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'&lt;='</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb4-3\\\">  <span
      class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">c</span></span>\\n<span id=\\\"cb4-4\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span></code></pre></div>\\n<p>While there is no italics
      version <code>\u03C0</code> in the default font, there <em>is</em> such a glyph
      in the default math font. Pandoc\u2019s internal representation for <em>\u03C0</em>
      is <code>Emph [Str \\\"\u03C0\\\"]</code>, which we replace with a math element
      holding the same content.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb5\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode lua code-with-copy\\\"><code
      class=\\\"sourceCode lua\\\"><span id=\\\"cb5-1\\\"><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">function</span>
      Emph <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb5-2\\\">  <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">s</span> <span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb5-3\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">if</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">#</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">e</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">s</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">tag</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'Str'</span> <span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">s</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">text</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">==</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'\u03C0'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">then</span></span>\\n<span id=\\\"cb5-4\\\">    <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">return</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Math<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'InlineMath'</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'\u03C0'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span></span>\\n<span id=\\\"cb5-5\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">end</span></span>\\n<span
      id=\\\"cb5-6\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      document now compiles without warnings, and all characters are properly included.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"add-table-of-contents\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"add-table-of-contents\\\">Add Table of Contents</h2>\\n<p>The
      Lua manual is long, often used as a reference, and, in its HTML version, comes
      with a table of contents on a separate page. The PDF, for it to be useful as
      a reference, should have a table of contents as well. Pandoc can be told to
      generate a table of contents by adding the <code>--toc</code> command line flag.
      The toc depth is controlled via <code>--toc-depth</code>; <code>2</code> is
      a good setting here. However, in this case, the result is neither pleasing nor
      informative:</p>\\n<div class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure
      class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/bad-toc.png\\\"/></p>\\n<figcaption>Bad
      looking table of contents</figcaption>\\n</figure>\\n</div>\\n<p>Something is
      terribly wrong. By inspecting the parsed document by running <code>pandoc --to=native
      \u2026</code>, we see that all <em>Header</em>s contain a <em>Span</em>. That
      span holds the actual contents. Apparently LaTeX does not like this and omits
      the content of the span when generating the toc.</p>\\n<p>The span also has
      the id used by links to the header. Numbered sections start with the section
      number, which we\u2019d rather produce via pandoc.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb6\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb6-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> Header <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb6-2\\\">  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- Unnumbered sections have the main contents as the first element.</span></span>\\n<span
      id=\\\"cb6-3\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- Numbered sections start with the number
      and an em-dash, so</span></span>\\n<span id=\\\"cb6-4\\\">  <span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">--
      the Span is the fifth element (Lua multipass).</span></span>\\n<span id=\\\"cb6-5\\\">
      \ <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span></span>\\n<span id=\\\"cb6-6\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">if</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">1</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">tag</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">==</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'Str'</span> <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">and</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">h</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">[</span><span
      class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">].</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">text</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">match</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'[%d%.]+'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">then</span></span>\\n<span id=\\\"cb6-7\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">span</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">5</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">]</span></span>\\n<span id=\\\"cb6-8\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">else</span></span>\\n<span
      id=\\\"cb6-9\\\">    <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">]</span></span>\\n<span
      id=\\\"cb6-10\\\">    <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">classes</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">insert</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'unnumbered'</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb6-11\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb6-12\\\"></span>\\n<span
      id=\\\"cb6-13\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">identifier</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">span</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">identifier</span></span>\\n<span id=\\\"cb6-14\\\">
      \ <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">h</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">content</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">span</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span></span>\\n<span id=\\\"cb6-15\\\"></span>\\n<span
      id=\\\"cb6-16\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">h</span></span>\\n<span
      id=\\\"cb6-17\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span></code></pre></div>\\n<p>The
      filter also removes the section numbering. We add it back by passing <code>--number-sections</code>
      to pandoc.</p>\\n<div class=\\\"quarto-figure quarto-figure-center\\\">\\n<figure
      class=\\\"figure\\\">\\n<p><img class=\\\"img-fluid figure-img\\\" src=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual/less-bad-toc.png\\\"/></p>\\n<figcaption>less-bad
      table of contents</figcaption>\\n</figure>\\n</div>\\n<p>Not bad.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"improve-title-and-metadata\\\">\\n<h2 class=\\\"anchored\\\"
      data-anchor-id=\\\"improve-title-and-metadata\\\">Improve title and metadata</h2>\\n<p>The
      PDF is already quite usable, let\u2019s prettify it a bit more: It would be
      important to properly list the authors in the title and metadata, remove the
      unnecessary first header, and maybe add the Lua logo to the title. All this
      is easiest when acting on the full document.</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb7\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      lua code-with-copy\\\"><code class=\\\"sourceCode lua\\\"><span id=\\\"cb7-1\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">function</span> Pandoc <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span></span>\\n<span id=\\\"cb7-2\\\">  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- comma separated authors</span></span>\\n<span id=\\\"cb7-3\\\">
      \ <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">authors</span> <span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">blocks</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">[</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">2</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">]</span></span>\\n<span
      id=\\\"cb7-4\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">authors</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">content</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span>  <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- remove 'by'</span></span>\\n<span id=\\\"cb7-5\\\">  <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">author</span> <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">pandoc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>List<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">()</span></span>\\n<span id=\\\"cb7-6\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">for</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">author</span> <span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">in</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">utils</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>stringify<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">authors</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">):</span><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">gmatch</span> <span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'[^,]+'</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">do</span></span>\\n<span id=\\\"cb7-7\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">author</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">insert</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">author</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span></span>\\n<span
      id=\\\"cb7-8\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">end</span></span>\\n<span id=\\\"cb7-9\\\"></span>\\n<span
      id=\\\"cb7-10\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- Remove unnecessary blocks</span></span>\\n<span
      id=\\\"cb7-11\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">4</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- menubar</span></span>\\n<span id=\\\"cb7-12\\\">  <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">doc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">:</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">remove</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">2</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span> <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- authors paragraph</span></span>\\n<span
      id=\\\"cb7-13\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">blocks</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">:</span><span class=\\\"fu\\\" style=\\\"color:
      #4758AB;\\nbackground-color: null;\\nfont-style: inherit;\\\">remove</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">(</span><span class=\\\"dv\\\" style=\\\"color: #AD0000;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">1</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- title header</span></span>\\n<span id=\\\"cb7-14\\\"></span>\\n<span
      id=\\\"cb7-15\\\">  <span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-- add subtitle image</span></span>\\n<span
      id=\\\"cb7-16\\\">  <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">meta</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">subtitle</span>
      <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">.</span>MetaInlines<span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">{</span></span>\\n<span id=\\\"cb7-17\\\">    <span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">pandoc</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">.</span>RawInline<span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'latex'</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">,</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'</span><span class=\\\"sc\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\\\\\</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vspace{1em}'</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">),</span></span>\\n<span id=\\\"cb7-18\\\">
      \   <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">pandoc</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">.</span>Image<span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"Lua logo\\\"</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">,</span> <span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-- \\\"https://www.lua.org/images/lua-logo.gif\\\")</span></span>\\n<span
      id=\\\"cb7-19\\\">  <span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">}</span></span>\\n<span id=\\\"cb7-20\\\">
      \ <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">doc</span></span>\\n<span id=\\\"cb7-21\\\"><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">end</span></span></code></pre></div>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"final-touch\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"final-touch\\\">Final
      touch</h2>\\n<p>Finally, we may want the PDF to add a little more visible structure,
      e.g., starting top-level sections on their own page.</p>\\n<p>The command used
      by pandoc to create the top level headings can be controlled with the <code>--top-level-division</code>
      option. Setting that option to <code>chapter</code> ensures that each major
      section starts on a new page. However, the default document class used by LaTeX
      doesn\u2019t allow chapters, so a different class has to be set with <code>--variable
      documentclass=report</code>.</p>\\n</section>\\n<section class=\\\"level2\\\"
      id=\\\"summary\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"summary\\\">Summary</h2>\\n<p>For
      completeness, <a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-manual-cleanup.lua\\\">here
      is the complete filter</a>, and this is the full pandoc command used to generate
      the PDF:</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb8\\\" style=\\\"background:
      #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode
      bash\\\"><span id=\\\"cb8-1\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">pandoc</span> <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-2\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--toc</span> <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-3\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--toc-depth</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>2 <span
      class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-4\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--metadata</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>documentclass=report <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-5\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--pdf-engine</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>xelatex
      <span class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-6\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--lua-filter</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>lua-manual-cleanup.lua <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-7\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--number-sections</span> <span class=\\\"dt\\\"
      style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-8\\\">  <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">--top-level-division</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span>chapter
      <span class=\\\"dt\\\" style=\\\"color: #AD0000;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\\</span></span>\\n<span id=\\\"cb8-9\\\">  <span class=\\\"at\\\"
      style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">--output</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span>lua-5.4-manual.pdf <span class=\\\"dt\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\\</span></span>\\n<span
      id=\\\"cb8-10\\\">  <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"https://lua.org/manual/5.4/manual.html\\\"</span></span></code></pre></div>\\n<p>One
      of the big advantages of pandoc is that it offers a lot of freedom. Since we
      already cleaned the content up, we can now also create other formats, like an
      ebook, just by changing the name of the output file. The final results are available
      below:</p>\\n<ul>\\n<li><a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-5.4-manual.pdf\\\">Lua
      5.4 manual (PDF)</a></li>\\n<li><a href=\\\"https://tarleb.com/posts/pdf-of-the-lua-manual//lua-5.4-manual.epub\\\">Lua
      5.4 manual (EPUB)</a></li>\\n</ul>\\n</section>\",\"published_at\":1594425600,\"updated_at\":1594425600,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":\"https://tarleb.com/posts/pdf-of-the-lua-manual/lua-refman-naive.png\",\"tags\":[\"Pandoc\",\"Lua\",\"Pdf\"],\"language\":\"en\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0d1e9b1965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fpdf-of-the-lua-manual%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-243c-71f6-8cb9-ddfe4db9c185
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fextending-pandoc-with-lua%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0e2f761965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-24df-71ed-a221-b3dde25d0b76
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fextending-pandoc-with-lua%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0e9fd21965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2526-7b9a-a569-82377865303c
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '5'
    http_version: HTTP/2
    status_code: 406
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p>Last
      night was the night of this year\u2019s MetaNook. It was the fourth time that
      the local hackers, most notably <a href=\\\"https://metameute.de\\\">MetaMeute</a>
      and <a href=\\\"https://chaotikum.org\\\">Chaotikum</a>, joined forces to organize
      a night full of beginner-friendly introductions, advanced tech talks, and project
      presentations.</p>\\n<p>My <a href=\\\"https://github.com/tarleb/shell-talk\\\">talk
      contribution</a> this year was a brief introduction in the \u201Cmagic\u201D
      of the command-line. The talk slides are adapted to the topic in that the presentation
      must be given from the command line. Each slide is just a function, the whole
      presentation environment is held together by scripts and other shell-equivalences
      of duckt-tape. Feedback from the thirty or-so attendees was mostly positive.</p>\\n<p>It
      was a very fun experience over all, as usual.</p>\",\"images\":[],\"updated_at\":1416614400,\"registered_at\":0,\"published_at\":1416614400,\"image\":null,\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"summary\":\"Last
      night was the night of this year\u2019s MetaNook. It was the fourth time that
      the local hackers, most notably MetaMeute and Chaotikum, joined forces to organize
      a night full of beginner-friendly introductions, advanced tech talks, and project
      presentations. My talk contribution this year was a brief introduction in the
      \u201Cmagic\u201D of the command-line.\",\"abstract\":null,\"tags\":[\"Talk\",\"Command-line\"],\"title\":\"MetaNook2014
      \u2013 Command Line Talk\",\"url\":\"https://tarleb.com/posts/nook-2014/\",\"guid\":\"https://tarleb.com/posts/nook-2014/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '1770'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/nook-2014/\",\"title\":\"MetaNook2014
      \u2013 Command Line Talk\",\"summary\":\"Last night was the night of this year\u2019s
      MetaNook. It was the fourth time that the local hackers, most notably MetaMeute
      and Chaotikum, joined forces to organize a night full of beginner-friendly introductions,
      advanced tech talks, and project presentations. My talk contribution this year
      was a brief introduction in the \u201Cmagic\u201D of the command-line.\",\"image\":null,\"tags\":[\"Talk\",\"Command-line\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"46d305c5-c43b-43d2-9a42-56e40f3910f6\",\"reference\":[],\"updated_at\":1416614400,\"published_at\":1416614400,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/nook-2014/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>Last
      night was the night of this year\u2019s MetaNook. It was the fourth time that
      the local hackers, most notably <a href=\\\"https://metameute.de\\\">MetaMeute</a>
      and <a href=\\\"https://chaotikum.org\\\">Chaotikum</a>, joined forces to organize
      a night full of beginner-friendly introductions, advanced tech talks, and project
      presentations.</p>\\n<p>My <a href=\\\"https://github.com/tarleb/shell-talk\\\">talk
      contribution</a> this year was a brief introduction in the \u201Cmagic\u201D
      of the command-line. The talk slides are adapted to the topic in that the presentation
      must be given from the command line. Each slide is just a function, the whole
      presentation environment is held together by scripts and other shell-equivalences
      of duckt-tape. Feedback from the thirty or-so attendees was mostly positive.</p>\\n<p>It
      was a very fun experience over all, as usual.</p>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0f0b5b098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:08 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-256c-7f5d-8638-4109b0d3b3ca
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.46d305c5-c43b-43d2-9a42-56e40f3910f6
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/nook-2014/\",\"title\":\"MetaNook2014
      \u2013 Command Line Talk\",\"summary\":\"Last night was the night of this year\u2019s
      MetaNook. It was the fourth time that the local hackers, most notably MetaMeute
      and Chaotikum, joined forces to organize a night full of beginner-friendly introductions,
      advanced tech talks, and project presentations. My talk contribution this year
      was a brief introduction in the \u201Cmagic\u201D of the command-line.\",\"image\":null,\"tags\":[\"Talk\",\"Command-line\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"46d305c5-c43b-43d2-9a42-56e40f3910f6\",\"reference\":[],\"updated_at\":1416614400,\"published_at\":1416614400,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/nook-2014/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>Last
      night was the night of this year\u2019s MetaNook. It was the fourth time that
      the local hackers, most notably <a href=\\\"https://metameute.de\\\">MetaMeute</a>
      and <a href=\\\"https://chaotikum.org\\\">Chaotikum</a>, joined forces to organize
      a night full of beginner-friendly introductions, advanced tech talks, and project
      presentations.</p>\\n<p>My <a href=\\\"https://github.com/tarleb/shell-talk\\\">talk
      contribution</a> this year was a brief introduction in the \u201Cmagic\u201D
      of the command-line. The talk slides are adapted to the topic in that the presentation
      must be given from the command line. Each slide is just a function, the whole
      presentation environment is held together by scripts and other shell-equivalences
      of duckt-tape. Feedback from the thirty or-so attendees was mostly positive.</p>\\n<p>It
      was a very fun experience over all, as usual.</p>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0f6c30098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-25a9-7c05-827e-8760fcd51ad2
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fnook-2014%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb0fc9041965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-25ee-704d-af12-010b6440281e
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fnook-2014%2F
  response:
    content: "{\"id\":\"46d305c5-c43b-43d2-9a42-56e40f3910f6\",\"guid\":\"https://tarleb.com/posts/nook-2014/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/nook-2014/\",\"archive_url\":null,\"title\":\"MetaNook2014
      \u2013 Command Line Talk\",\"summary\":\"Last night was the night of this year\u2019s
      MetaNook. It was the fourth time that the local hackers, most notably MetaMeute
      and Chaotikum, joined forces to organize a night full of beginner-friendly introductions,
      advanced tech talks, and project presentations. My talk contribution this year
      was a brief introduction in the \u201Cmagic\u201D of the command-line.\",\"abstract\":null,\"content_html\":\"<p>Last
      night was the night of this year\u2019s MetaNook. It was the fourth time that
      the local hackers, most notably <a href=\\\"https://metameute.de\\\">MetaMeute</a>
      and <a href=\\\"https://chaotikum.org\\\">Chaotikum</a>, joined forces to organize
      a night full of beginner-friendly introductions, advanced tech talks, and project
      presentations.</p>\\n<p>My <a href=\\\"https://github.com/tarleb/shell-talk\\\">talk
      contribution</a> this year was a brief introduction in the \u201Cmagic\u201D
      of the command-line. The talk slides are adapted to the topic in that the presentation
      must be given from the command line. Each slide is just a function, the whole
      presentation environment is held together by scripts and other shell-equivalences
      of duckt-tape. Feedback from the thirty or-so attendees was mostly positive.</p>\\n<p>It
      was a very fun experience over all, as usual.</p>\",\"published_at\":1416614400,\"updated_at\":1416614400,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":null,\"tags\":[\"Talk\",\"Command-line\"],\"language\":\"en\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb10798a1965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fnook-2014%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2654-71b2-b873-f24d4b8b5e88
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 200
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: https://rogue-scholar.org/api/communities?q=slug%3Atarleb&type=blog&type=subject&size=1
  response:
    body:
      string: '{"hits": {"hits": [{"id": "b67e853d-a24e-4cba-8499-75aa2ecf6edb", "created":
        "2024-10-10T20:10:10.900307+00:00", "updated": "2025-08-05T07:44:49.280885+00:00",
        "links": {"featured": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/featured",
        "self": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb",
        "self_html": "https://rogue-scholar.org/communities/tarleb/", "settings_html":
        "https://rogue-scholar.org/communities/tarleb/settings", "logo": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/logo",
        "rename": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/rename",
        "members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members",
        "public_members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members/public",
        "invitations": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/invitations",
        "requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/requests",
        "records": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/records",
        "membership_requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/membership-requests"},
        "revision_id": 297, "slug": "tarleb", "metadata": {"title": "tarleb", "description":
        "tarleb''s blog", "type": {"id": "blog", "title": {"de": "Blog", "en": "Blog",
        "sv": "Blogg"}}, "website": "https://tarleb.com/index.html"}, "access": {"visibility":
        "public", "members_visibility": "public", "member_policy": "open", "record_submission_policy":
        "open", "review_policy": "open"}, "custom_fields": {"rs:feed_url": "https://tarleb.com/index.xml",
        "rs:prefix": "10.59350", "rs:joined": "April 20, 2023", "rs:feed_format":
        "application/rss+xml", "rs:generator": "Quarto", "rs:license": "https://creativecommons.org/licenses/by/4.0/legalcode",
        "rs:language": "English", "rs:category": "Computer and information sciences"},
        "is_verified": false, "deletion_status": {"is_deleted": false, "status": "P"},
        "children": {"allow": false}}], "total": 1}, "aggregations": {"type": {"buckets":
        [{"key": "blog", "doc_count": 1, "label": "blog", "is_selected": true}], "label":
        "Type"}}, "sortBy": "bestmatch", "links": {"self": "https://rogue-scholar.org/api/communities?page=1&q=slug:tarleb&size=1&sort=bestmatch&type=blog&type=subject"}}'
    headers:
      Content-Length:
      - '2470'
      Content-Security-Policy:
      - 'default-src ''self'' data: ''unsafe-inline'' blob: *.rogue-scholar.org plausible.io
        www.youtube.com player.vimeo.com www.blogger.com; img-src *'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      Permissions-Policy:
      - interest-cohort=()
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '0'
      Server:
      - gunicorn
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-Ratelimit-Limit:
      - '500'
      X-Ratelimit-Remaining:
      - '466'
      X-Ratelimit-Reset:
      - '1754423110'
      X-User-Id:
      - '4'
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Frt6_redirect%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb125ae51965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2783-720b-a974-23f6cb0d0143
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: !!binary |
      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
    headers:
      Content-Encoding:
      - br
      Content-Type:
      - application/x-sentry-envelope
      User-Agent:
      - sentry.python/2.34.1
      X-Sentry-Auth:
      - Sentry sentry_key=1c9eaaf51fe266c81428811887ed1699, sentry_version=7, sentry_client=sentry.python/2.34.1
    method: POST
    uri: https://o1035963.ingest.us.sentry.io/api/4508128176766976/envelope/
  response:
    body:
      string: '{"id":"96e2653d9019431bbee0d59dcf61a516"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Length:
      - '41'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Via:
      - 1.1 google
      access-control-allow-origin:
      - '*'
      access-control-expose-headers:
      - x-sentry-error,x-sentry-rate-limits,retry-after
      cross-origin-resource-policy:
      - cross-origin
      vary:
      - origin, access-control-request-method, access-control-request-headers
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Frt6_redirect%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb12bb351965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-27be-78a8-a0f4-44971247be8c
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '4'
    http_version: HTTP/2
    status_code: 406
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p>Having
      a good working environment is vital for feeling comfortable being productive.
      This extends to computational tools and the <a href=\\\"https://en.wikipedia.org/wiki/command%20shell\\\">command
      shell</a> is an integral part of the daily work for many of us. It\u2019s a
      good idea to configure the shell\u2019s interface to be efficient and pleasant
      to use. Here we see how <code class=\\\"verbatim\\\">zsh</code>, arguably the
      best shell around, can be configured to suit the needs of people used to vi
      key bindings (which are arguably arguably superior and more ergonomical than
      the default emacs-style bindings)<sup>1</sup>.</p>\\n<section class=\\\"level2\\\"
      id=\\\"using-vi-bindings-in-the-shell\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"using-vi-bindings-in-the-shell\\\">Using
      vi-bindings in the shell</h2>\\n<p>The first step towards nice vi key bindings
      is almost too easy: The red pill takes the form of</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb1\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span id=\\\"cb1-1\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-v</span></span></code></pre></div>\\n<p>Type
      it into your prompt (and add it to your <code class=\\\"verbatim\\\">.zshrc</code>
      file) and emacs bindings are going bye-bye. <code class=\\\"verbatim\\\">Escape</code>
      will bring you to normal-mode, while <code>i</code>, <code>a</code>, <code>o</code>
      etc. will bring you back to insert-mode, just as with your favorite editor.
      Use <code>j</code> and <code>k</code> in normal-mode to go through your history
      and move around within the line with <code>h</code>, <code>l</code>, <code>w</code>,
      <code>b</code> and the like.</p>\\n<p>This is a good start, let\u2019s see how
      we can bring it from \u201Cthis is nice\u201D to \u201Cthat\u2019s just awesome\u201D.</p>\\n<p>First,
      we may want to keep some of the default key bindings in insert-mode since we\u2019ve
      grown accustomed to them. No missing out, let\u2019s put them back in:</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span
      id=\\\"cb2-1\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Kill input from the current point to the
      end of line with Ctrl-k</span></span>\\n<span id=\\\"cb2-2\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'^k'</span> kill-line</span>\\n<span id=\\\"cb2-3\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Search the history incremantally with Ctrl-r</span></span>\\n<span id=\\\"cb2-4\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'^r'</span> history-incremental-search-backward</span>\\n<span
      id=\\\"cb2-5\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Insert and go through the \\\"last words\\\"
      of previous commands with Meta-.</span></span>\\n<span id=\\\"cb2-6\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># (or Escape-. for that matter).</span></span>\\n<span id=\\\"cb2-7\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'^[.'</span> insert-last-word</span>\\n<span
      id=\\\"cb2-8\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Show the man-page or other helpful infos
      with Meta-h</span></span>\\n<span id=\\\"cb2-9\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'^[h'</span> run-help</span></code></pre></div>\\n<p>You can take
      a look at the key bindings defined for emacs-mode by typing <code>bindkey -M
      emacs -L</code> and reuse the bindings you like. See the <code>zshzle</code>
      manpage for more pre-defined widgets for which you could define bindings.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"configuring-the-prompt-to-show-the-current-editing-mode\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"configuring-the-prompt-to-show-the-current-editing-mode\\\">Configuring
      the prompt to show the current editing mode</h2>\\n<p>So the key bindings are
      quite usable now, but it\u2019s a bit unfortunate that it is impossible to see
      if the shell is in insert- or normal-mode. There should be a mode indicator
      right in the shell prompt!</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb3\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb3-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      You may already have those in your .zshrc somewhere</span></span>\\n<span id=\\\"cb3-2\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">autoload</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-U</span> promptinit <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">&amp;&amp;</span>
      <span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">promptinit</span></span>\\n<span id=\\\"cb3-3\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">autoload</span>
      <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-U</span> colors     <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">&amp;&amp;</span> <span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">colors</span></span>\\n<span
      id=\\\"cb3-4\\\"></span>\\n<span id=\\\"cb3-5\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">setopt</span> prompt_subst</span>\\n<span
      id=\\\"cb3-6\\\"></span>\\n<span id=\\\"cb3-7\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Set the colors
      to your liking</span></span>\\n<span id=\\\"cb3-8\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vi_normal_marker</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[green]%}%BN%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-9\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_insert_marker</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[cyan]%}%BI%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-10\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_unknown_marker</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[red]%}%BU%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-11\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$vi_insert_marker</span><span class=\\\"st\\\"
      style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span></span>\\n<span
      id=\\\"cb3-12\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode_indicator ()</span> <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">{</span></span>\\n<span
      id=\\\"cb3-13\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">case</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">${KEYMAP}</span>
      <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">in</span></span>\\n<span id=\\\"cb3-14\\\">    <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"ss\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vicmd</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span>      <span class=\\\"bu\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">echo</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$vi_normal_marker</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">;;</span></span>\\n<span
      id=\\\"cb3-15\\\">    <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"ss\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">main</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">|</span><span class=\\\"ss\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">viins</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">echo</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$vi_insert_marker</span> <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">;;</span></span>\\n<span
      id=\\\"cb3-16\\\">    <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"pp\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">*</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span>          <span class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">echo</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">$vi_unknown_marker</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">;;</span></span>\\n<span id=\\\"cb3-17\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">esac</span></span>\\n<span
      id=\\\"cb3-18\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">}</span></span>\\n<span id=\\\"cb3-19\\\"></span>\\n<span
      id=\\\"cb3-20\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Reset mode-marker and prompt whenever the
      keymap changes</span></span>\\n<span id=\\\"cb3-21\\\"><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">function</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> zle-line-init</span> <span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle-keymap-select</span> {</span>\\n<span id=\\\"cb3-22\\\">
      \ <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vi_mode</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$(</span><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode_indicator</span><span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"</span></span>\\n<span id=\\\"cb3-23\\\">  <span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">zle</span>
      reset-prompt</span>\\n<span id=\\\"cb3-24\\\"><span class=\\\"er\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">}</span></span>\\n<span
      id=\\\"cb3-25\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle</span> <span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">-N</span> zle-line-init</span>\\n<span
      id=\\\"cb3-26\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle</span> <span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">-N</span> zle-keymap-select</span>\\n<span
      id=\\\"cb3-27\\\"></span>\\n<span id=\\\"cb3-28\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Multiline-prompts
      don't quite work with reset-prompt; we work around this by</span></span>\\n<span
      id=\\\"cb3-29\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># printing the first line(s) via a precmd which
      is executed before the prompt</span></span>\\n<span id=\\\"cb3-30\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># is printed.  The following can be integrated into PROMPT for
      single-line</span></span>\\n<span id=\\\"cb3-31\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># prompts.</span></span>\\n<span
      id=\\\"cb3-32\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">#</span></span>\\n<span id=\\\"cb3-33\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># Colorize freely</span></span>\\n<span id=\\\"cb3-34\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">user_host</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'%B%n%b@%m'</span></span>\\n<span id=\\\"cb3-35\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">current_dir</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'%~'</span></span>\\n<span
      id=\\\"cb3-36\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">precmd ()</span> <span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">print</span> <span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-rP</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">${user_host}</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">${current_dir}</span><span class=\\\"st\\\"
      style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span></span>\\n<span
      id=\\\"cb3-37\\\"></span>\\n<span id=\\\"cb3-38\\\"><span class=\\\"bu\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return_code</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"%(?..%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[red]%}%? %{</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">$reset_color</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">%})\\\"</span></span>\\n<span id=\\\"cb3-39\\\"><span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">PROMPT</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'${return_code}${vi_mode} %# '</span></span></code></pre></div>\\n<p>This
      gives a prompt in the style of</p>\\n<pre><code>user@host /current/working/path\\n[I]
      %</code></pre>\\n<p>where <code>[I]</code> is the insert-mode indicator and
      is changed to <code>[N]</code> when normal-mode is activated. Neat, isn\u2019t
      it?</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"single--and-multi-key-shortcuts\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"single--and-multi-key-shortcuts\\\">Single-
      and multi-key shortcuts</h2>\\n<p>This is all nice and dandy, but it\u2019s
      not quite like vim yet. How about those sweet bindings where pressing <code>jj</code>
      in quick succession brings us to normal-mode without having to press <code>Esc</code>?
      Setting it up is easy as pie.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb5\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb5-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Time in which two keys have to be pressed in order to be recognized as a</span></span>\\n<span
      id=\\\"cb5-2\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># single command (in centiseconds, set to 0.4
      sec by default -- may be</span></span>\\n<span id=\\\"cb5-3\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      modified as needed).</span></span>\\n<span id=\\\"cb5-4\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">export</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">KEYTIMEOUT</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span>40</span>\\n<span id=\\\"cb5-5\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'jj'</span> vi-cmd-mode</span></code></pre></div>\\n<p>We
      can also add two-key bindings to jump to the start and end of the line:</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb6\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span
      id=\\\"cb6-1\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Bind to both possible orders in which the
      keys could be pressed.</span></span>\\n<span id=\\\"cb6-2\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Move all the way to the left</span></span>\\n<span id=\\\"cb6-3\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">';l'</span> end-of-line</span>\\n<span id=\\\"cb6-4\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'l;'</span> end-of-line</span>\\n<span id=\\\"cb6-5\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Move all the way to the right</span></span>\\n<span id=\\\"cb6-6\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">';h'</span> beginning-of-line</span>\\n<span id=\\\"cb6-7\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'h;'</span> beginning-of-line</span></code></pre></div>\\n<p>Jumping
      to the beginning of the line is now as easy as pressing <code>;</code> and <code>h</code>
      at the same time. No need to switch to normal-mode and your fingers don\u2019t
      leave the your keyboard\u2019s home-row. Try it, it\u2019s great!</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"more\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"more\\\">More</h2>\\n<p>Customizations
      like this can make it much more pleasant to use the command line and boost your
      productivity. If the above is still not enough, here are some more ideas:</p>\\n<ul>\\n<li>Define
      custom keymaps, e.g.\_to control other programs such as <code>mpc</code> or
      <code>tmux</code>.</li>\\n<li>Switch to said keymaps via some nice bindings.</li>\\n<li>Show
      the status of version control systems and build environments in the prompt.</li>\\n</ul>\\n<p>If
      you don\u2019t feel like doing all the work yourself, I can heartly reommend
      you take a look at <a href=\\\"http://ohmyz.sh\\\">oh-my-zsh</a>. It offers
      a great collection of ideas to build on and some really cool ready-to-use plugins.
      Have fun!</p>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>Emacs
      is a great program which I\u2019ve been using for years and continue to use
      daily, but vi bindings just make good things better. Thanks to <a href=\\\"https://gitorious.org/evil/pages/Home\\\">evil</a>,
      that\u2019s not a problem.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"images\":[],\"updated_at\":1404000000,\"registered_at\":0,\"published_at\":1404000000,\"image\":null,\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[{\"id\":\"https://gitorious.org/evil/pages/Home\",\"unstructured\":\"Emacs
      is a great program which I\u2019ve been using for years and continue to use
      daily, but vi bindings just make good things better. Thanks to evil, that\u2019s
      not a problem.\u21A9\uFE0E\"}],\"relationships\":[],\"funding_references\":null,\"summary\":\"Having
      a good working environment is vital for feeling comfortable being productive.
      This extends to computational tools and the command shell is an integral part
      of the daily work for many of us. It\u2019s a good idea to configure the shell\u2019s
      interface to be efficient and pleasant to use.\",\"abstract\":null,\"tags\":[\"Command-line\",\"Key
      Bindings\"],\"title\":\"How to configure zsh with vi bindings and nice shortcuts\",\"url\":\"https://tarleb.com/posts/howto-zsh-vi-style/\",\"guid\":\"https://tarleb.com/posts/howto-zsh-vi-style/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '25487'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/howto-zsh-vi-style/\",\"title\":\"How
      to configure zsh with vi bindings and nice shortcuts\",\"summary\":\"Having
      a good working environment is vital for feeling comfortable being productive.
      This extends to computational tools and the command shell is an integral part
      of the daily work for many of us. It\u2019s a good idea to configure the shell\u2019s
      interface to be efficient and pleasant to use.\",\"image\":null,\"tags\":[\"Command-line\",\"Key
      Bindings\"],\"language\":\"en\",\"authors\":[{\"given\": \"Albert\", \"family\":
      \"Krewinkel\"}],\"doi\":null,\"id\":\"50f90cdb-dc98-41d3-8917-fe6165c5b44c\",\"reference\":[{\"id\":
      \"https://gitorious.org/evil/pages/Home\", \"unstructured\": \"Emacs is a great
      program which I\u2019ve been using for years and continue to use daily, but
      vi bindings just make good things better. Thanks to evil, that\u2019s not a
      problem.\u21A9\uFE0E\"}],\"updated_at\":1404000000,\"published_at\":1404000000,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/howto-zsh-vi-style/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>Having
      a good working environment is vital for feeling comfortable being productive.
      This extends to computational tools and the <a href=\\\"https://en.wikipedia.org/wiki/command%20shell\\\">command
      shell</a> is an integral part of the daily work for many of us. It\u2019s a
      good idea to configure the shell\u2019s interface to be efficient and pleasant
      to use. Here we see how <code class=\\\"verbatim\\\">zsh</code>, arguably the
      best shell around, can be configured to suit the needs of people used to vi
      key bindings (which are arguably arguably superior and more ergonomical than
      the default emacs-style bindings)<sup>1</sup>.</p>\\n<section class=\\\"level2\\\"
      id=\\\"using-vi-bindings-in-the-shell\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"using-vi-bindings-in-the-shell\\\">Using
      vi-bindings in the shell</h2>\\n<p>The first step towards nice vi key bindings
      is almost too easy: The red pill takes the form of</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb1\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span id=\\\"cb1-1\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-v</span></span></code></pre></div>\\n<p>Type
      it into your prompt (and add it to your <code class=\\\"verbatim\\\">.zshrc</code>
      file) and emacs bindings are going bye-bye. <code class=\\\"verbatim\\\">Escape</code>
      will bring you to normal-mode, while <code>i</code>, <code>a</code>, <code>o</code>
      etc. will bring you back to insert-mode, just as with your favorite editor.
      Use <code>j</code> and <code>k</code> in normal-mode to go through your history
      and move around within the line with <code>h</code>, <code>l</code>, <code>w</code>,
      <code>b</code> and the like.</p>\\n<p>This is a good start, let\u2019s see how
      we can bring it from \u201Cthis is nice\u201D to \u201Cthat\u2019s just awesome\u201D.</p>\\n<p>First,
      we may want to keep some of the default key bindings in insert-mode since we\u2019ve
      grown accustomed to them. No missing out, let\u2019s put them back in:</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span
      id=\\\"cb2-1\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Kill input from the current point to the
      end of line with Ctrl-k</span></span>\\n<span id=\\\"cb2-2\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'^k'</span> kill-line</span>\\n<span id=\\\"cb2-3\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Search the history incremantally with Ctrl-r</span></span>\\n<span id=\\\"cb2-4\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'^r'</span> history-incremental-search-backward</span>\\n<span
      id=\\\"cb2-5\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Insert and go through the \\\"last words\\\"
      of previous commands with Meta-.</span></span>\\n<span id=\\\"cb2-6\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># (or Escape-. for that matter).</span></span>\\n<span id=\\\"cb2-7\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'^[.'</span> insert-last-word</span>\\n<span
      id=\\\"cb2-8\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Show the man-page or other helpful infos
      with Meta-h</span></span>\\n<span id=\\\"cb2-9\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'^[h'</span> run-help</span></code></pre></div>\\n<p>You can take
      a look at the key bindings defined for emacs-mode by typing <code>bindkey -M
      emacs -L</code> and reuse the bindings you like. See the <code>zshzle</code>
      manpage for more pre-defined widgets for which you could define bindings.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"configuring-the-prompt-to-show-the-current-editing-mode\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"configuring-the-prompt-to-show-the-current-editing-mode\\\">Configuring
      the prompt to show the current editing mode</h2>\\n<p>So the key bindings are
      quite usable now, but it\u2019s a bit unfortunate that it is impossible to see
      if the shell is in insert- or normal-mode. There should be a mode indicator
      right in the shell prompt!</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb3\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb3-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      You may already have those in your .zshrc somewhere</span></span>\\n<span id=\\\"cb3-2\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">autoload</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-U</span> promptinit <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">&amp;&amp;</span>
      <span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">promptinit</span></span>\\n<span id=\\\"cb3-3\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">autoload</span>
      <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-U</span> colors     <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">&amp;&amp;</span> <span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">colors</span></span>\\n<span
      id=\\\"cb3-4\\\"></span>\\n<span id=\\\"cb3-5\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">setopt</span> prompt_subst</span>\\n<span
      id=\\\"cb3-6\\\"></span>\\n<span id=\\\"cb3-7\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Set the colors
      to your liking</span></span>\\n<span id=\\\"cb3-8\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vi_normal_marker</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[green]%}%BN%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-9\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_insert_marker</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[cyan]%}%BI%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-10\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_unknown_marker</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[red]%}%BU%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-11\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$vi_insert_marker</span><span class=\\\"st\\\"
      style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span></span>\\n<span
      id=\\\"cb3-12\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode_indicator ()</span> <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">{</span></span>\\n<span
      id=\\\"cb3-13\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">case</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">${KEYMAP}</span>
      <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">in</span></span>\\n<span id=\\\"cb3-14\\\">    <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"ss\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vicmd</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span>      <span class=\\\"bu\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">echo</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$vi_normal_marker</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">;;</span></span>\\n<span
      id=\\\"cb3-15\\\">    <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"ss\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">main</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">|</span><span class=\\\"ss\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">viins</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">echo</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$vi_insert_marker</span> <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">;;</span></span>\\n<span
      id=\\\"cb3-16\\\">    <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"pp\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">*</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span>          <span class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">echo</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">$vi_unknown_marker</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">;;</span></span>\\n<span id=\\\"cb3-17\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">esac</span></span>\\n<span
      id=\\\"cb3-18\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">}</span></span>\\n<span id=\\\"cb3-19\\\"></span>\\n<span
      id=\\\"cb3-20\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Reset mode-marker and prompt whenever the
      keymap changes</span></span>\\n<span id=\\\"cb3-21\\\"><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">function</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> zle-line-init</span> <span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle-keymap-select</span> {</span>\\n<span id=\\\"cb3-22\\\">
      \ <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vi_mode</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$(</span><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode_indicator</span><span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"</span></span>\\n<span id=\\\"cb3-23\\\">  <span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">zle</span>
      reset-prompt</span>\\n<span id=\\\"cb3-24\\\"><span class=\\\"er\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">}</span></span>\\n<span
      id=\\\"cb3-25\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle</span> <span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">-N</span> zle-line-init</span>\\n<span
      id=\\\"cb3-26\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle</span> <span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">-N</span> zle-keymap-select</span>\\n<span
      id=\\\"cb3-27\\\"></span>\\n<span id=\\\"cb3-28\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Multiline-prompts
      don't quite work with reset-prompt; we work around this by</span></span>\\n<span
      id=\\\"cb3-29\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># printing the first line(s) via a precmd which
      is executed before the prompt</span></span>\\n<span id=\\\"cb3-30\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># is printed.  The following can be integrated into PROMPT for
      single-line</span></span>\\n<span id=\\\"cb3-31\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># prompts.</span></span>\\n<span
      id=\\\"cb3-32\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">#</span></span>\\n<span id=\\\"cb3-33\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># Colorize freely</span></span>\\n<span id=\\\"cb3-34\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">user_host</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'%B%n%b@%m'</span></span>\\n<span id=\\\"cb3-35\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">current_dir</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'%~'</span></span>\\n<span
      id=\\\"cb3-36\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">precmd ()</span> <span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">print</span> <span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-rP</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">${user_host}</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">${current_dir}</span><span class=\\\"st\\\"
      style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span></span>\\n<span
      id=\\\"cb3-37\\\"></span>\\n<span id=\\\"cb3-38\\\"><span class=\\\"bu\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return_code</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"%(?..%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[red]%}%? %{</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">$reset_color</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">%})\\\"</span></span>\\n<span id=\\\"cb3-39\\\"><span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">PROMPT</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'${return_code}${vi_mode} %# '</span></span></code></pre></div>\\n<p>This
      gives a prompt in the style of</p>\\n<pre><code>user@host /current/working/path\\n[I]
      %</code></pre>\\n<p>where <code>[I]</code> is the insert-mode indicator and
      is changed to <code>[N]</code> when normal-mode is activated. Neat, isn\u2019t
      it?</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"single--and-multi-key-shortcuts\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"single--and-multi-key-shortcuts\\\">Single-
      and multi-key shortcuts</h2>\\n<p>This is all nice and dandy, but it\u2019s
      not quite like vim yet. How about those sweet bindings where pressing <code>jj</code>
      in quick succession brings us to normal-mode without having to press <code>Esc</code>?
      Setting it up is easy as pie.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb5\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb5-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Time in which two keys have to be pressed in order to be recognized as a</span></span>\\n<span
      id=\\\"cb5-2\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># single command (in centiseconds, set to 0.4
      sec by default -- may be</span></span>\\n<span id=\\\"cb5-3\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      modified as needed).</span></span>\\n<span id=\\\"cb5-4\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">export</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">KEYTIMEOUT</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span>40</span>\\n<span id=\\\"cb5-5\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'jj'</span> vi-cmd-mode</span></code></pre></div>\\n<p>We
      can also add two-key bindings to jump to the start and end of the line:</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb6\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span
      id=\\\"cb6-1\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Bind to both possible orders in which the
      keys could be pressed.</span></span>\\n<span id=\\\"cb6-2\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Move all the way to the left</span></span>\\n<span id=\\\"cb6-3\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">';l'</span> end-of-line</span>\\n<span id=\\\"cb6-4\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'l;'</span> end-of-line</span>\\n<span id=\\\"cb6-5\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Move all the way to the right</span></span>\\n<span id=\\\"cb6-6\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">';h'</span> beginning-of-line</span>\\n<span id=\\\"cb6-7\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'h;'</span> beginning-of-line</span></code></pre></div>\\n<p>Jumping
      to the beginning of the line is now as easy as pressing <code>;</code> and <code>h</code>
      at the same time. No need to switch to normal-mode and your fingers don\u2019t
      leave the your keyboard\u2019s home-row. Try it, it\u2019s great!</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"more\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"more\\\">More</h2>\\n<p>Customizations
      like this can make it much more pleasant to use the command line and boost your
      productivity. If the above is still not enough, here are some more ideas:</p>\\n<ul>\\n<li>Define
      custom keymaps, e.g.\_to control other programs such as <code>mpc</code> or
      <code>tmux</code>.</li>\\n<li>Switch to said keymaps via some nice bindings.</li>\\n<li>Show
      the status of version control systems and build environments in the prompt.</li>\\n</ul>\\n<p>If
      you don\u2019t feel like doing all the work yourself, I can heartly reommend
      you take a look at <a href=\\\"http://ohmyz.sh\\\">oh-my-zsh</a>. It offers
      a great collection of ideas to build on and some really cool ready-to-use plugins.
      Have fun!</p>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>Emacs
      is a great program which I\u2019ve been using for years and continue to use
      daily, but vi bindings just make good things better. Thanks to <a href=\\\"https://gitorious.org/evil/pages/Home\\\">evil</a>,
      that\u2019s not a problem.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb133c74098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2812-7830-ba76-805570784f73
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '4'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.50f90cdb-dc98-41d3-8917-fe6165c5b44c
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/howto-zsh-vi-style/\",\"title\":\"How
      to configure zsh with vi bindings and nice shortcuts\",\"summary\":\"Having
      a good working environment is vital for feeling comfortable being productive.
      This extends to computational tools and the command shell is an integral part
      of the daily work for many of us. It\u2019s a good idea to configure the shell\u2019s
      interface to be efficient and pleasant to use.\",\"image\":null,\"tags\":[\"Command-line\",\"Key
      Bindings\"],\"language\":\"en\",\"authors\":[{\"given\": \"Albert\", \"family\":
      \"Krewinkel\"}],\"doi\":null,\"id\":\"50f90cdb-dc98-41d3-8917-fe6165c5b44c\",\"reference\":[{\"id\":
      \"https://gitorious.org/evil/pages/Home\", \"unstructured\": \"Emacs is a great
      program which I\u2019ve been using for years and continue to use daily, but
      vi bindings just make good things better. Thanks to evil, that\u2019s not a
      problem.\u21A9\uFE0E\"}],\"updated_at\":1404000000,\"published_at\":1404000000,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/howto-zsh-vi-style/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>Having
      a good working environment is vital for feeling comfortable being productive.
      This extends to computational tools and the <a href=\\\"https://en.wikipedia.org/wiki/command%20shell\\\">command
      shell</a> is an integral part of the daily work for many of us. It\u2019s a
      good idea to configure the shell\u2019s interface to be efficient and pleasant
      to use. Here we see how <code class=\\\"verbatim\\\">zsh</code>, arguably the
      best shell around, can be configured to suit the needs of people used to vi
      key bindings (which are arguably arguably superior and more ergonomical than
      the default emacs-style bindings)<sup>1</sup>.</p>\\n<section class=\\\"level2\\\"
      id=\\\"using-vi-bindings-in-the-shell\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"using-vi-bindings-in-the-shell\\\">Using
      vi-bindings in the shell</h2>\\n<p>The first step towards nice vi key bindings
      is almost too easy: The red pill takes the form of</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb1\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span id=\\\"cb1-1\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-v</span></span></code></pre></div>\\n<p>Type
      it into your prompt (and add it to your <code class=\\\"verbatim\\\">.zshrc</code>
      file) and emacs bindings are going bye-bye. <code class=\\\"verbatim\\\">Escape</code>
      will bring you to normal-mode, while <code>i</code>, <code>a</code>, <code>o</code>
      etc. will bring you back to insert-mode, just as with your favorite editor.
      Use <code>j</code> and <code>k</code> in normal-mode to go through your history
      and move around within the line with <code>h</code>, <code>l</code>, <code>w</code>,
      <code>b</code> and the like.</p>\\n<p>This is a good start, let\u2019s see how
      we can bring it from \u201Cthis is nice\u201D to \u201Cthat\u2019s just awesome\u201D.</p>\\n<p>First,
      we may want to keep some of the default key bindings in insert-mode since we\u2019ve
      grown accustomed to them. No missing out, let\u2019s put them back in:</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span
      id=\\\"cb2-1\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Kill input from the current point to the
      end of line with Ctrl-k</span></span>\\n<span id=\\\"cb2-2\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'^k'</span> kill-line</span>\\n<span id=\\\"cb2-3\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Search the history incremantally with Ctrl-r</span></span>\\n<span id=\\\"cb2-4\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'^r'</span> history-incremental-search-backward</span>\\n<span
      id=\\\"cb2-5\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Insert and go through the \\\"last words\\\"
      of previous commands with Meta-.</span></span>\\n<span id=\\\"cb2-6\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># (or Escape-. for that matter).</span></span>\\n<span id=\\\"cb2-7\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'^[.'</span> insert-last-word</span>\\n<span
      id=\\\"cb2-8\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Show the man-page or other helpful infos
      with Meta-h</span></span>\\n<span id=\\\"cb2-9\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'^[h'</span> run-help</span></code></pre></div>\\n<p>You can take
      a look at the key bindings defined for emacs-mode by typing <code>bindkey -M
      emacs -L</code> and reuse the bindings you like. See the <code>zshzle</code>
      manpage for more pre-defined widgets for which you could define bindings.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"configuring-the-prompt-to-show-the-current-editing-mode\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"configuring-the-prompt-to-show-the-current-editing-mode\\\">Configuring
      the prompt to show the current editing mode</h2>\\n<p>So the key bindings are
      quite usable now, but it\u2019s a bit unfortunate that it is impossible to see
      if the shell is in insert- or normal-mode. There should be a mode indicator
      right in the shell prompt!</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb3\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb3-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      You may already have those in your .zshrc somewhere</span></span>\\n<span id=\\\"cb3-2\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">autoload</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-U</span> promptinit <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">&amp;&amp;</span>
      <span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">promptinit</span></span>\\n<span id=\\\"cb3-3\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">autoload</span>
      <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-U</span> colors     <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">&amp;&amp;</span> <span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">colors</span></span>\\n<span
      id=\\\"cb3-4\\\"></span>\\n<span id=\\\"cb3-5\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">setopt</span> prompt_subst</span>\\n<span
      id=\\\"cb3-6\\\"></span>\\n<span id=\\\"cb3-7\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Set the colors
      to your liking</span></span>\\n<span id=\\\"cb3-8\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vi_normal_marker</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[green]%}%BN%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-9\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_insert_marker</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[cyan]%}%BI%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-10\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_unknown_marker</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[red]%}%BU%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-11\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$vi_insert_marker</span><span class=\\\"st\\\"
      style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span></span>\\n<span
      id=\\\"cb3-12\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode_indicator ()</span> <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">{</span></span>\\n<span
      id=\\\"cb3-13\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">case</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">${KEYMAP}</span>
      <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">in</span></span>\\n<span id=\\\"cb3-14\\\">    <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"ss\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vicmd</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span>      <span class=\\\"bu\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">echo</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$vi_normal_marker</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">;;</span></span>\\n<span
      id=\\\"cb3-15\\\">    <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"ss\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">main</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">|</span><span class=\\\"ss\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">viins</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">echo</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$vi_insert_marker</span> <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">;;</span></span>\\n<span
      id=\\\"cb3-16\\\">    <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"pp\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">*</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span>          <span class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">echo</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">$vi_unknown_marker</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">;;</span></span>\\n<span id=\\\"cb3-17\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">esac</span></span>\\n<span
      id=\\\"cb3-18\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">}</span></span>\\n<span id=\\\"cb3-19\\\"></span>\\n<span
      id=\\\"cb3-20\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Reset mode-marker and prompt whenever the
      keymap changes</span></span>\\n<span id=\\\"cb3-21\\\"><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">function</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> zle-line-init</span> <span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle-keymap-select</span> {</span>\\n<span id=\\\"cb3-22\\\">
      \ <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vi_mode</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$(</span><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode_indicator</span><span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"</span></span>\\n<span id=\\\"cb3-23\\\">  <span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">zle</span>
      reset-prompt</span>\\n<span id=\\\"cb3-24\\\"><span class=\\\"er\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">}</span></span>\\n<span
      id=\\\"cb3-25\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle</span> <span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">-N</span> zle-line-init</span>\\n<span
      id=\\\"cb3-26\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle</span> <span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">-N</span> zle-keymap-select</span>\\n<span
      id=\\\"cb3-27\\\"></span>\\n<span id=\\\"cb3-28\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Multiline-prompts
      don't quite work with reset-prompt; we work around this by</span></span>\\n<span
      id=\\\"cb3-29\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># printing the first line(s) via a precmd which
      is executed before the prompt</span></span>\\n<span id=\\\"cb3-30\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># is printed.  The following can be integrated into PROMPT for
      single-line</span></span>\\n<span id=\\\"cb3-31\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># prompts.</span></span>\\n<span
      id=\\\"cb3-32\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">#</span></span>\\n<span id=\\\"cb3-33\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># Colorize freely</span></span>\\n<span id=\\\"cb3-34\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">user_host</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'%B%n%b@%m'</span></span>\\n<span id=\\\"cb3-35\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">current_dir</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'%~'</span></span>\\n<span
      id=\\\"cb3-36\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">precmd ()</span> <span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">print</span> <span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-rP</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">${user_host}</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">${current_dir}</span><span class=\\\"st\\\"
      style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span></span>\\n<span
      id=\\\"cb3-37\\\"></span>\\n<span id=\\\"cb3-38\\\"><span class=\\\"bu\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return_code</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"%(?..%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[red]%}%? %{</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">$reset_color</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">%})\\\"</span></span>\\n<span id=\\\"cb3-39\\\"><span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">PROMPT</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'${return_code}${vi_mode} %# '</span></span></code></pre></div>\\n<p>This
      gives a prompt in the style of</p>\\n<pre><code>user@host /current/working/path\\n[I]
      %</code></pre>\\n<p>where <code>[I]</code> is the insert-mode indicator and
      is changed to <code>[N]</code> when normal-mode is activated. Neat, isn\u2019t
      it?</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"single--and-multi-key-shortcuts\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"single--and-multi-key-shortcuts\\\">Single-
      and multi-key shortcuts</h2>\\n<p>This is all nice and dandy, but it\u2019s
      not quite like vim yet. How about those sweet bindings where pressing <code>jj</code>
      in quick succession brings us to normal-mode without having to press <code>Esc</code>?
      Setting it up is easy as pie.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb5\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb5-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Time in which two keys have to be pressed in order to be recognized as a</span></span>\\n<span
      id=\\\"cb5-2\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># single command (in centiseconds, set to 0.4
      sec by default -- may be</span></span>\\n<span id=\\\"cb5-3\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      modified as needed).</span></span>\\n<span id=\\\"cb5-4\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">export</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">KEYTIMEOUT</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span>40</span>\\n<span id=\\\"cb5-5\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'jj'</span> vi-cmd-mode</span></code></pre></div>\\n<p>We
      can also add two-key bindings to jump to the start and end of the line:</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb6\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span
      id=\\\"cb6-1\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Bind to both possible orders in which the
      keys could be pressed.</span></span>\\n<span id=\\\"cb6-2\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Move all the way to the left</span></span>\\n<span id=\\\"cb6-3\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">';l'</span> end-of-line</span>\\n<span id=\\\"cb6-4\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'l;'</span> end-of-line</span>\\n<span id=\\\"cb6-5\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Move all the way to the right</span></span>\\n<span id=\\\"cb6-6\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">';h'</span> beginning-of-line</span>\\n<span id=\\\"cb6-7\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'h;'</span> beginning-of-line</span></code></pre></div>\\n<p>Jumping
      to the beginning of the line is now as easy as pressing <code>;</code> and <code>h</code>
      at the same time. No need to switch to normal-mode and your fingers don\u2019t
      leave the your keyboard\u2019s home-row. Try it, it\u2019s great!</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"more\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"more\\\">More</h2>\\n<p>Customizations
      like this can make it much more pleasant to use the command line and boost your
      productivity. If the above is still not enough, here are some more ideas:</p>\\n<ul>\\n<li>Define
      custom keymaps, e.g.\_to control other programs such as <code>mpc</code> or
      <code>tmux</code>.</li>\\n<li>Switch to said keymaps via some nice bindings.</li>\\n<li>Show
      the status of version control systems and build environments in the prompt.</li>\\n</ul>\\n<p>If
      you don\u2019t feel like doing all the work yourself, I can heartly reommend
      you take a look at <a href=\\\"http://ohmyz.sh\\\">oh-my-zsh</a>. It offers
      a great collection of ideas to build on and some really cool ready-to-use plugins.
      Have fun!</p>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>Emacs
      is a great program which I\u2019ve been using for years and continue to use
      daily, but vi bindings just make good things better. Thanks to <a href=\\\"https://gitorious.org/evil/pages/Home\\\">evil</a>,
      that\u2019s not a problem.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb13cd9b098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-285f-771e-90b3-c86100db7d81
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fhowto-zsh-vi-style%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb143c6b1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-28a9-7b15-9633-f2709452e2d3
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '9'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fhowto-zsh-vi-style%2F
  response:
    content: "{\"id\":\"50f90cdb-dc98-41d3-8917-fe6165c5b44c\",\"guid\":\"https://tarleb.com/posts/howto-zsh-vi-style/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/howto-zsh-vi-style/\",\"archive_url\":null,\"title\":\"How
      to configure zsh with vi bindings and nice shortcuts\",\"summary\":\"Having
      a good working environment is vital for feeling comfortable being productive.
      This extends to computational tools and the command shell is an integral part
      of the daily work for many of us. It\u2019s a good idea to configure the shell\u2019s
      interface to be efficient and pleasant to use.\",\"abstract\":null,\"content_html\":\"<p>Having
      a good working environment is vital for feeling comfortable being productive.
      This extends to computational tools and the <a href=\\\"https://en.wikipedia.org/wiki/command%20shell\\\">command
      shell</a> is an integral part of the daily work for many of us. It\u2019s a
      good idea to configure the shell\u2019s interface to be efficient and pleasant
      to use. Here we see how <code class=\\\"verbatim\\\">zsh</code>, arguably the
      best shell around, can be configured to suit the needs of people used to vi
      key bindings (which are arguably arguably superior and more ergonomical than
      the default emacs-style bindings)<sup>1</sup>.</p>\\n<section class=\\\"level2\\\"
      id=\\\"using-vi-bindings-in-the-shell\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"using-vi-bindings-in-the-shell\\\">Using
      vi-bindings in the shell</h2>\\n<p>The first step towards nice vi key bindings
      is almost too easy: The red pill takes the form of</p>\\n<div class=\\\"sourceCode\\\"
      id=\\\"cb1\\\" style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode
      bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span id=\\\"cb1-1\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-v</span></span></code></pre></div>\\n<p>Type
      it into your prompt (and add it to your <code class=\\\"verbatim\\\">.zshrc</code>
      file) and emacs bindings are going bye-bye. <code class=\\\"verbatim\\\">Escape</code>
      will bring you to normal-mode, while <code>i</code>, <code>a</code>, <code>o</code>
      etc. will bring you back to insert-mode, just as with your favorite editor.
      Use <code>j</code> and <code>k</code> in normal-mode to go through your history
      and move around within the line with <code>h</code>, <code>l</code>, <code>w</code>,
      <code>b</code> and the like.</p>\\n<p>This is a good start, let\u2019s see how
      we can bring it from \u201Cthis is nice\u201D to \u201Cthat\u2019s just awesome\u201D.</p>\\n<p>First,
      we may want to keep some of the default key bindings in insert-mode since we\u2019ve
      grown accustomed to them. No missing out, let\u2019s put them back in:</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb2\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span
      id=\\\"cb2-1\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Kill input from the current point to the
      end of line with Ctrl-k</span></span>\\n<span id=\\\"cb2-2\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'^k'</span> kill-line</span>\\n<span id=\\\"cb2-3\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Search the history incremantally with Ctrl-r</span></span>\\n<span id=\\\"cb2-4\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'^r'</span> history-incremental-search-backward</span>\\n<span
      id=\\\"cb2-5\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Insert and go through the \\\"last words\\\"
      of previous commands with Meta-.</span></span>\\n<span id=\\\"cb2-6\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># (or Escape-. for that matter).</span></span>\\n<span id=\\\"cb2-7\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'^[.'</span> insert-last-word</span>\\n<span
      id=\\\"cb2-8\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Show the man-page or other helpful infos
      with Meta-h</span></span>\\n<span id=\\\"cb2-9\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span> <span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'^[h'</span> run-help</span></code></pre></div>\\n<p>You can take
      a look at the key bindings defined for emacs-mode by typing <code>bindkey -M
      emacs -L</code> and reuse the bindings you like. See the <code>zshzle</code>
      manpage for more pre-defined widgets for which you could define bindings.</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"configuring-the-prompt-to-show-the-current-editing-mode\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"configuring-the-prompt-to-show-the-current-editing-mode\\\">Configuring
      the prompt to show the current editing mode</h2>\\n<p>So the key bindings are
      quite usable now, but it\u2019s a bit unfortunate that it is impossible to see
      if the shell is in insert- or normal-mode. There should be a mode indicator
      right in the shell prompt!</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb3\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb3-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      You may already have those in your .zshrc somewhere</span></span>\\n<span id=\\\"cb3-2\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">autoload</span> <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">-U</span> promptinit <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">&amp;&amp;</span>
      <span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">promptinit</span></span>\\n<span id=\\\"cb3-3\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">autoload</span>
      <span class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-U</span> colors     <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">&amp;&amp;</span> <span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">colors</span></span>\\n<span
      id=\\\"cb3-4\\\"></span>\\n<span id=\\\"cb3-5\\\"><span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">setopt</span> prompt_subst</span>\\n<span
      id=\\\"cb3-6\\\"></span>\\n<span id=\\\"cb3-7\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Set the colors
      to your liking</span></span>\\n<span id=\\\"cb3-8\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vi_normal_marker</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[green]%}%BN%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-9\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_insert_marker</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[cyan]%}%BI%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-10\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_unknown_marker</span><span class=\\\"op\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"[%{</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">[red]%}%BU%b%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$reset_color</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">%}]\\\"</span></span>\\n<span id=\\\"cb3-11\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"</span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$vi_insert_marker</span><span class=\\\"st\\\"
      style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span></span>\\n<span
      id=\\\"cb3-12\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode_indicator ()</span> <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">{</span></span>\\n<span
      id=\\\"cb3-13\\\">  <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">case</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">${KEYMAP}</span>
      <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">in</span></span>\\n<span id=\\\"cb3-14\\\">    <span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">(</span><span
      class=\\\"ss\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vicmd</span><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">)</span>      <span class=\\\"bu\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">echo</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$vi_normal_marker</span> <span class=\\\"cf\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">;;</span></span>\\n<span
      id=\\\"cb3-15\\\">    <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"ss\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">main</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">|</span><span class=\\\"ss\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">viins</span><span class=\\\"kw\\\" style=\\\"color:
      #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span> <span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">echo</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">$vi_insert_marker</span> <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">;;</span></span>\\n<span
      id=\\\"cb3-16\\\">    <span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">(</span><span class=\\\"pp\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">*</span><span
      class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">)</span>          <span class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">echo</span> <span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">$vi_unknown_marker</span>
      <span class=\\\"cf\\\" style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">;;</span></span>\\n<span id=\\\"cb3-17\\\">  <span class=\\\"cf\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">esac</span></span>\\n<span
      id=\\\"cb3-18\\\"><span class=\\\"kw\\\" style=\\\"color: #003B4F;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">}</span></span>\\n<span id=\\\"cb3-19\\\"></span>\\n<span
      id=\\\"cb3-20\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Reset mode-marker and prompt whenever the
      keymap changes</span></span>\\n<span id=\\\"cb3-21\\\"><span class=\\\"kw\\\"
      style=\\\"color: #003B4F;\\nbackground-color: null;\\nfont-style: inherit;\\\">function</span><span
      class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> zle-line-init</span> <span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle-keymap-select</span> {</span>\\n<span id=\\\"cb3-22\\\">
      \ <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">vi_mode</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$(</span><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">vi_mode_indicator</span><span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">)</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">\\\"</span></span>\\n<span id=\\\"cb3-23\\\">  <span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">zle</span>
      reset-prompt</span>\\n<span id=\\\"cb3-24\\\"><span class=\\\"er\\\" style=\\\"color:
      #AD0000;\\nbackground-color: null;\\nfont-style: inherit;\\\">}</span></span>\\n<span
      id=\\\"cb3-25\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle</span> <span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">-N</span> zle-line-init</span>\\n<span
      id=\\\"cb3-26\\\"><span class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">zle</span> <span class=\\\"at\\\" style=\\\"color:
      #657422;\\nbackground-color: null;\\nfont-style: inherit;\\\">-N</span> zle-keymap-select</span>\\n<span
      id=\\\"cb3-27\\\"></span>\\n<span id=\\\"cb3-28\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># Multiline-prompts
      don't quite work with reset-prompt; we work around this by</span></span>\\n<span
      id=\\\"cb3-29\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># printing the first line(s) via a precmd which
      is executed before the prompt</span></span>\\n<span id=\\\"cb3-30\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># is printed.  The following can be integrated into PROMPT for
      single-line</span></span>\\n<span id=\\\"cb3-31\\\"><span class=\\\"co\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\"># prompts.</span></span>\\n<span
      id=\\\"cb3-32\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">#</span></span>\\n<span id=\\\"cb3-33\\\"><span
      class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"># Colorize freely</span></span>\\n<span id=\\\"cb3-34\\\"><span
      class=\\\"bu\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">local</span> <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">user_host</span><span class=\\\"op\\\" style=\\\"color:
      #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">=</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'%B%n%b@%m'</span></span>\\n<span id=\\\"cb3-35\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">current_dir</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">'%~'</span></span>\\n<span
      id=\\\"cb3-36\\\"><span class=\\\"fu\\\" style=\\\"color: #4758AB;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">precmd ()</span> <span class=\\\"ex\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">print</span> <span
      class=\\\"at\\\" style=\\\"color: #657422;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">-rP</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">\\\"</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">${user_host}</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\"> </span><span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">${current_dir}</span><span class=\\\"st\\\"
      style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"</span></span>\\n<span
      id=\\\"cb3-37\\\"></span>\\n<span id=\\\"cb3-38\\\"><span class=\\\"bu\\\" style=\\\"color:
      null;\\nbackground-color: null;\\nfont-style: inherit;\\\">local</span> <span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">return_code</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color:
      #20794D;\\nbackground-color: null;\\nfont-style: inherit;\\\">\\\"%(?..%{</span><span
      class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">$fg</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">[red]%}%? %{</span><span class=\\\"va\\\" style=\\\"color:
      #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">$reset_color</span><span
      class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">%})\\\"</span></span>\\n<span id=\\\"cb3-39\\\"><span class=\\\"va\\\"
      style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style: inherit;\\\">PROMPT</span><span
      class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">=</span><span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'${return_code}${vi_mode} %# '</span></span></code></pre></div>\\n<p>This
      gives a prompt in the style of</p>\\n<pre><code>user@host /current/working/path\\n[I]
      %</code></pre>\\n<p>where <code>[I]</code> is the insert-mode indicator and
      is changed to <code>[N]</code> when normal-mode is activated. Neat, isn\u2019t
      it?</p>\\n</section>\\n<section class=\\\"level2\\\" id=\\\"single--and-multi-key-shortcuts\\\">\\n<h2
      class=\\\"anchored\\\" data-anchor-id=\\\"single--and-multi-key-shortcuts\\\">Single-
      and multi-key shortcuts</h2>\\n<p>This is all nice and dandy, but it\u2019s
      not quite like vim yet. How about those sweet bindings where pressing <code>jj</code>
      in quick succession brings us to normal-mode without having to press <code>Esc</code>?
      Setting it up is easy as pie.</p>\\n<div class=\\\"sourceCode\\\" id=\\\"cb5\\\"
      style=\\\"background: #f1f3f5;\\\"><pre class=\\\"sourceCode bash code-with-copy\\\"><code
      class=\\\"sourceCode bash\\\"><span id=\\\"cb5-1\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Time in which two keys have to be pressed in order to be recognized as a</span></span>\\n<span
      id=\\\"cb5-2\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># single command (in centiseconds, set to 0.4
      sec by default -- may be</span></span>\\n<span id=\\\"cb5-3\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      modified as needed).</span></span>\\n<span id=\\\"cb5-4\\\"><span class=\\\"bu\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">export</span>
      <span class=\\\"va\\\" style=\\\"color: #111111;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">KEYTIMEOUT</span><span class=\\\"op\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">=</span>40</span>\\n<span id=\\\"cb5-5\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'jj'</span> vi-cmd-mode</span></code></pre></div>\\n<p>We
      can also add two-key bindings to jump to the start and end of the line:</p>\\n<div
      class=\\\"sourceCode\\\" id=\\\"cb6\\\" style=\\\"background: #f1f3f5;\\\"><pre
      class=\\\"sourceCode bash code-with-copy\\\"><code class=\\\"sourceCode bash\\\"><span
      id=\\\"cb6-1\\\"><span class=\\\"co\\\" style=\\\"color: #5E5E5E;\\nbackground-color:
      null;\\nfont-style: inherit;\\\"># Bind to both possible orders in which the
      keys could be pressed.</span></span>\\n<span id=\\\"cb6-2\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Move all the way to the left</span></span>\\n<span id=\\\"cb6-3\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">';l'</span> end-of-line</span>\\n<span id=\\\"cb6-4\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">'l;'</span> end-of-line</span>\\n<span id=\\\"cb6-5\\\"><span class=\\\"co\\\"
      style=\\\"color: #5E5E5E;\\nbackground-color: null;\\nfont-style: inherit;\\\">#
      Move all the way to the right</span></span>\\n<span id=\\\"cb6-6\\\"><span class=\\\"ex\\\"
      style=\\\"color: null;\\nbackground-color: null;\\nfont-style: inherit;\\\">bindkey</span>
      <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">';h'</span> beginning-of-line</span>\\n<span id=\\\"cb6-7\\\"><span
      class=\\\"ex\\\" style=\\\"color: null;\\nbackground-color: null;\\nfont-style:
      inherit;\\\">bindkey</span> <span class=\\\"st\\\" style=\\\"color: #20794D;\\nbackground-color:
      null;\\nfont-style: inherit;\\\">'h;'</span> beginning-of-line</span></code></pre></div>\\n<p>Jumping
      to the beginning of the line is now as easy as pressing <code>;</code> and <code>h</code>
      at the same time. No need to switch to normal-mode and your fingers don\u2019t
      leave the your keyboard\u2019s home-row. Try it, it\u2019s great!</p>\\n</section>\\n<section
      class=\\\"level2\\\" id=\\\"more\\\">\\n<h2 class=\\\"anchored\\\" data-anchor-id=\\\"more\\\">More</h2>\\n<p>Customizations
      like this can make it much more pleasant to use the command line and boost your
      productivity. If the above is still not enough, here are some more ideas:</p>\\n<ul>\\n<li>Define
      custom keymaps, e.g.\_to control other programs such as <code>mpc</code> or
      <code>tmux</code>.</li>\\n<li>Switch to said keymaps via some nice bindings.</li>\\n<li>Show
      the status of version control systems and build environments in the prompt.</li>\\n</ul>\\n<p>If
      you don\u2019t feel like doing all the work yourself, I can heartly reommend
      you take a look at <a href=\\\"http://ohmyz.sh\\\">oh-my-zsh</a>. It offers
      a great collection of ideas to build on and some really cool ready-to-use plugins.
      Have fun!</p>\\n</section>\\n<div class=\\\"default\\\" id=\\\"quarto-appendix\\\"><section
      class=\\\"footnotes footnotes-end-of-document\\\" id=\\\"footnotes\\\"><h2 class=\\\"anchored
      quarto-appendix-heading\\\">Footnotes</h2>\\n<ol>\\n<li id=\\\"fn1\\\"><p>Emacs
      is a great program which I\u2019ve been using for years and continue to use
      daily, but vi bindings just make good things better. Thanks to <a href=\\\"https://gitorious.org/evil/pages/Home\\\">evil</a>,
      that\u2019s not a problem.\u21A9\uFE0E</p></li>\\n</ol>\\n</section></div>\",\"published_at\":1404000000,\"updated_at\":1404000000,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":null,\"tags\":[\"Command-line\",\"Key
      Bindings\"],\"language\":\"en\",\"reference\":[{\"id\": \"https://gitorious.org/evil/pages/Home\",
      \"unstructured\": \"Emacs is a great program which I\u2019ve been using for
      years and continue to use daily, but vi bindings just make good things better.
      Thanks to evil, that\u2019s not a problem.\u21A9\uFE0E\"}],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb14acc01965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fhowto-zsh-vi-style%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:09 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-28f5-7329-9b7c-548e5c9eab3b
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fexploring-http-headers%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb15cd941965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-29a4-79e2-9cce-86bcc60be3a3
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Fexploring-http-headers%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb162dcf1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-29de-7858-a1ac-c5e9644e89b2
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 406
- request:
    body: "{\"authors\":[{\"given\":\"Albert\",\"family\":\"Krewinkel\"}],\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"content_html\":\"<p>A
      couple of friends and I just discussed the idea of Russian Process Roulette:
      Everybody starts a little program which kills processes at random. The winner
      is the one whose computer remains usable the longest. Is this crazy? Yes. Immature?
      Sure. Fun? Definitely. Adviced against to actually play unless the consequences
      are fully understood? That too.</p>\\n<p>Playing the game is as simple as starting
      a command like the following:</p>\\n<pre class=\\\"shell\\\"><code>while sleep
      600; do kill -9 $(tr -cd \\\"[:digit:]\\\" &lt; /dev/urandom | head -c5); done</code></pre>\\n<p>This
      one-liner will wake up every 10 minutes, generate a random 5-digit number and
      then kill the process with the corresponding process ID. It will run forever,
      until it is either stopped, kills itself or has successfully crashed the user\u2019s
      session.</p>\\n<p>Of course, there are some problems with this code. The time
      at which the next process will be killed is predictable, making it easier to
      prepare for the eventuality of a dying process. Worse, the range of random process
      ids (0 to 99999) is about three times as large as the actual range of process
      ids on a typical linux system (0 to 32768). This lowers the chance of hitting
      a valid process ID quite a bit. So let\u2019s put our scripting-fu to some misguided
      use and \u201Coptimize\u201D the code.</p>\\n<p>The first step is to write a
      function which gives uniformly distributed random numbers below a threshold.</p>\\n<pre
      class=\\\"shell\\\"><code>random_number_below () {\\n  local upperbound=$1\\n
      \ local candidate=$(( $1 + 1 ))\\n  local maxlen=$(printf $upperbound | wc -c)\\n
      \ while [ $candidate -gt $upperbound ]\\n  do\\n      candidate=$(tr -cd '[:digit:]'
      &lt; /dev/urandom | head -c \\\"$maxlen\\\" )\\n  done\\n  echo $candidate\\n}</code></pre>\\n<p>Our
      random number generator is very very wasteful in terms of processor cycles.
      Even more, if the output of <code>/dev/urandom</code> is truly random, the function
      were not even guaranteed to terminate in any specified time frame. But given
      the nature of the application we have in mind, both caveats are completely acceptable
      here. Candidate numbers are generated by reading random characters from the
      systems urandom device, throwing away every character that isn\u2019t a digit.
      After this, the candidate number is checked to make sure we haven\u2019t generated
      a number greater than the specified upper bound. If that should be the case,
      we run the whole procedure again. Otherwise, the random number is returned.
      While wasteful, this function produces an unbiased uniform distribution on the
      interval [0, upperbound].</p>\\n<p>The second problem, regarding the range of
      possible process identifiers, is easier to fix. A little bit of searching reveals
      that the largest possible process identifier can be read from the file <code>/proc/sys/kernel/pid_max</code>.
      With this functionality in our hands, we can now write a \u201Cbetter\u201D
      Russian Process Roulette script.</p>\\n<pre class=\\\"shell\\\"><code>while
      sleep $(random_number_below 999)\\ndo\\n    local maxpid=$(cat /proc/sys/kernel/pid_max)\\n
      \   kill -9 $(random_number_below \\\"$maxpid\\\")\\ndone</code></pre>\\n<p>We
      should (<em>probably not</em>) run this as <code>root</code>, thereby making
      sure no process is safe from our \u201Cprocess gun\u201D.</p>\\n<p>While the
      result of our efforts isn\u2019t necessarily useful, it is still a nice exercises
      in shell scripting. Our game remains destructive and immature, but the execution
      is slightly more sophisticated. Hope you like it.</p>\",\"images\":[],\"updated_at\":1380240000,\"registered_at\":0,\"published_at\":1380240000,\"image\":null,\"language\":\"en\",\"category\":\"computerAndInformationSciences\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"summary\":\"A
      couple of friends and I just discussed the idea of Russian Process Roulette:
      Everybody starts a little program which kills processes at random. The winner
      is the one whose computer remains usable the longest. Is this crazy? Yes. Immature?
      Sure. Fun? Definitely. Adviced against to actually play unless the consequences
      are fully understood? That too. Playing the game is as simple as starting a
      command like the following: while sleep 600;\",\"abstract\":null,\"tags\":[\"Command-line\",\"Nonsense\"],\"title\":\"Russian
      Process Roulette\",\"url\":\"https://tarleb.com/posts/russian-process-roulette/\",\"guid\":\"https://tarleb.com/posts/russian-process-roulette/\",\"status\":\"active\",\"archive_url\":null}"
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '4513'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation,resolution=merge-duplicates
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: POST
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?on_conflict=guid
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/russian-process-roulette/\",\"title\":\"Russian
      Process Roulette\",\"summary\":\"A couple of friends and I just discussed the
      idea of Russian Process Roulette: Everybody starts a little program which kills
      processes at random. The winner is the one whose computer remains usable the
      longest. Is this crazy? Yes. Immature? Sure. Fun? Definitely. Adviced against
      to actually play unless the consequences are fully understood? That too. Playing
      the game is as simple as starting a command like the following: while sleep
      600;\",\"image\":null,\"tags\":[\"Command-line\",\"Nonsense\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"c24ad7b9-971f-41c3-9d95-983755a93aef\",\"reference\":[],\"updated_at\":1380240000,\"published_at\":1380240000,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":true,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/russian-process-roulette/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>A
      couple of friends and I just discussed the idea of Russian Process Roulette:
      Everybody starts a little program which kills processes at random. The winner
      is the one whose computer remains usable the longest. Is this crazy? Yes. Immature?
      Sure. Fun? Definitely. Adviced against to actually play unless the consequences
      are fully understood? That too.</p>\\n<p>Playing the game is as simple as starting
      a command like the following:</p>\\n<pre class=\\\"shell\\\"><code>while sleep
      600; do kill -9 $(tr -cd \\\"[:digit:]\\\" &lt; /dev/urandom | head -c5); done</code></pre>\\n<p>This
      one-liner will wake up every 10 minutes, generate a random 5-digit number and
      then kill the process with the corresponding process ID. It will run forever,
      until it is either stopped, kills itself or has successfully crashed the user\u2019s
      session.</p>\\n<p>Of course, there are some problems with this code. The time
      at which the next process will be killed is predictable, making it easier to
      prepare for the eventuality of a dying process. Worse, the range of random process
      ids (0 to 99999) is about three times as large as the actual range of process
      ids on a typical linux system (0 to 32768). This lowers the chance of hitting
      a valid process ID quite a bit. So let\u2019s put our scripting-fu to some misguided
      use and \u201Coptimize\u201D the code.</p>\\n<p>The first step is to write a
      function which gives uniformly distributed random numbers below a threshold.</p>\\n<pre
      class=\\\"shell\\\"><code>random_number_below () {\\n  local upperbound=$1\\n
      \ local candidate=$(( $1 + 1 ))\\n  local maxlen=$(printf $upperbound | wc -c)\\n
      \ while [ $candidate -gt $upperbound ]\\n  do\\n      candidate=$(tr -cd '[:digit:]'
      &lt; /dev/urandom | head -c \\\"$maxlen\\\" )\\n  done\\n  echo $candidate\\n}</code></pre>\\n<p>Our
      random number generator is very very wasteful in terms of processor cycles.
      Even more, if the output of <code>/dev/urandom</code> is truly random, the function
      were not even guaranteed to terminate in any specified time frame. But given
      the nature of the application we have in mind, both caveats are completely acceptable
      here. Candidate numbers are generated by reading random characters from the
      systems urandom device, throwing away every character that isn\u2019t a digit.
      After this, the candidate number is checked to make sure we haven\u2019t generated
      a number greater than the specified upper bound. If that should be the case,
      we run the whole procedure again. Otherwise, the random number is returned.
      While wasteful, this function produces an unbiased uniform distribution on the
      interval [0, upperbound].</p>\\n<p>The second problem, regarding the range of
      possible process identifiers, is easier to fix. A little bit of searching reveals
      that the largest possible process identifier can be read from the file <code>/proc/sys/kernel/pid_max</code>.
      With this functionality in our hands, we can now write a \u201Cbetter\u201D
      Russian Process Roulette script.</p>\\n<pre class=\\\"shell\\\"><code>while
      sleep $(random_number_below 999)\\ndo\\n    local maxpid=$(cat /proc/sys/kernel/pid_max)\\n
      \   kill -9 $(random_number_below \\\"$maxpid\\\")\\ndone</code></pre>\\n<p>We
      should (<em>probably not</em>) run this as <code>root</code>, thereby making
      sure no process is safe from our \u201Cprocess gun\u201D.</p>\\n<p>While the
      result of our efforts isn\u2019t necessarily useful, it is still a nice exercises
      in shell scripting. Our game remains destructive and immature, but the execution
      is slightly more sophisticated. Hope you like it.</p>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb167adf098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - '*/*'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      preference-applied:
      - resolution=merge-duplicates, return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2a10-741d-be76-f35504d40876
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '4'
    http_version: HTTP/2
    status_code: 201
- request:
    body: '{"indexed":false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-length:
      - '17'
      content-profile:
      - public
      content-type:
      - application/json
      cookie:
      - __cf_bm=WooOR0w4hY4sV1mRQY8tbycg0A3_uIqpiIYSr1ekQYI-1754422859-1.0.1.1-Z9PWADFy4f8JwrfuqWvZT1G.p5v3ezWBJugvPkMZIZFNWgd6MXhb_o1Xd9AvqIk9YsZneDEKBnvyrDjbO0rNmmB0MZ3Of..U2B4BZhlIAtc
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      prefer:
      - return=representation
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: PATCH
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?id=eq.c24ad7b9-971f-41c3-9d95-983755a93aef
  response:
    content: "[{\"url\":\"https://tarleb.com/posts/russian-process-roulette/\",\"title\":\"Russian
      Process Roulette\",\"summary\":\"A couple of friends and I just discussed the
      idea of Russian Process Roulette: Everybody starts a little program which kills
      processes at random. The winner is the one whose computer remains usable the
      longest. Is this crazy? Yes. Immature? Sure. Fun? Definitely. Adviced against
      to actually play unless the consequences are fully understood? That too. Playing
      the game is as simple as starting a command like the following: while sleep
      600;\",\"image\":null,\"tags\":[\"Command-line\",\"Nonsense\"],\"language\":\"en\",\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"doi\":null,\"id\":\"c24ad7b9-971f-41c3-9d95-983755a93aef\",\"reference\":[],\"updated_at\":1380240000,\"published_at\":1380240000,\"blog_name\":\"tarleb\",\"indexed_at\":0,\"indexed\":false,\"images\":[],\"blog_slug\":\"tarleb\",\"relationships\":[],\"archive_url\":null,\"guid\":\"https://tarleb.com/posts/russian-process-roulette/\",\"updated\":true,\"category\":\"computerAndInformationSciences\",\"abstract\":null,\"status\":\"active\",\"rid\":null,\"has_content\":false,\"registered_at\":0,\"archived\":false,\"funding_references\":null,\"version\":null,\"parent_doi\":null,\"content_html\":\"<p>A
      couple of friends and I just discussed the idea of Russian Process Roulette:
      Everybody starts a little program which kills processes at random. The winner
      is the one whose computer remains usable the longest. Is this crazy? Yes. Immature?
      Sure. Fun? Definitely. Adviced against to actually play unless the consequences
      are fully understood? That too.</p>\\n<p>Playing the game is as simple as starting
      a command like the following:</p>\\n<pre class=\\\"shell\\\"><code>while sleep
      600; do kill -9 $(tr -cd \\\"[:digit:]\\\" &lt; /dev/urandom | head -c5); done</code></pre>\\n<p>This
      one-liner will wake up every 10 minutes, generate a random 5-digit number and
      then kill the process with the corresponding process ID. It will run forever,
      until it is either stopped, kills itself or has successfully crashed the user\u2019s
      session.</p>\\n<p>Of course, there are some problems with this code. The time
      at which the next process will be killed is predictable, making it easier to
      prepare for the eventuality of a dying process. Worse, the range of random process
      ids (0 to 99999) is about three times as large as the actual range of process
      ids on a typical linux system (0 to 32768). This lowers the chance of hitting
      a valid process ID quite a bit. So let\u2019s put our scripting-fu to some misguided
      use and \u201Coptimize\u201D the code.</p>\\n<p>The first step is to write a
      function which gives uniformly distributed random numbers below a threshold.</p>\\n<pre
      class=\\\"shell\\\"><code>random_number_below () {\\n  local upperbound=$1\\n
      \ local candidate=$(( $1 + 1 ))\\n  local maxlen=$(printf $upperbound | wc -c)\\n
      \ while [ $candidate -gt $upperbound ]\\n  do\\n      candidate=$(tr -cd '[:digit:]'
      &lt; /dev/urandom | head -c \\\"$maxlen\\\" )\\n  done\\n  echo $candidate\\n}</code></pre>\\n<p>Our
      random number generator is very very wasteful in terms of processor cycles.
      Even more, if the output of <code>/dev/urandom</code> is truly random, the function
      were not even guaranteed to terminate in any specified time frame. But given
      the nature of the application we have in mind, both caveats are completely acceptable
      here. Candidate numbers are generated by reading random characters from the
      systems urandom device, throwing away every character that isn\u2019t a digit.
      After this, the candidate number is checked to make sure we haven\u2019t generated
      a number greater than the specified upper bound. If that should be the case,
      we run the whole procedure again. Otherwise, the random number is returned.
      While wasteful, this function produces an unbiased uniform distribution on the
      interval [0, upperbound].</p>\\n<p>The second problem, regarding the range of
      possible process identifiers, is easier to fix. A little bit of searching reveals
      that the largest possible process identifier can be read from the file <code>/proc/sys/kernel/pid_max</code>.
      With this functionality in our hands, we can now write a \u201Cbetter\u201D
      Russian Process Roulette script.</p>\\n<pre class=\\\"shell\\\"><code>while
      sleep $(random_number_below 999)\\ndo\\n    local maxpid=$(cat /proc/sys/kernel/pid_max)\\n
      \   kill -9 $(random_number_below \\\"$maxpid\\\")\\ndone</code></pre>\\n<p>We
      should (<em>probably not</em>) run this as <code>root</code>, thereby making
      sure no process is safe from our \u201Cprocess gun\u201D.</p>\\n<p>While the
      result of our efforts isn\u2019t necessarily useful, it is still a nice exercises
      in shell scripting. Our game remains destructive and immature, but the execution
      is slightly more sophisticated. Hope you like it.</p>\",\"registered\":true}]"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb16cb92098f-FRA
      content-encoding:
      - gzip
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      preference-applied:
      - return=representation
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2a49-700a-800a-4a9ecd8705d0
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '3'
    http_version: HTTP/2
    status_code: 200
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Frussian-process-roulette%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb173ead1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2a8d-7909-bc96-b01dd90ecca2
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '7'
    http_version: HTTP/2
    status_code: 406
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Frussian-process-roulette%2F
  response:
    content: "{\"id\":\"c24ad7b9-971f-41c3-9d95-983755a93aef\",\"guid\":\"https://tarleb.com/posts/russian-process-roulette/\",\"doi\":null,\"parent_doi\":null,\"url\":\"https://tarleb.com/posts/russian-process-roulette/\",\"archive_url\":null,\"title\":\"Russian
      Process Roulette\",\"summary\":\"A couple of friends and I just discussed the
      idea of Russian Process Roulette: Everybody starts a little program which kills
      processes at random. The winner is the one whose computer remains usable the
      longest. Is this crazy? Yes. Immature? Sure. Fun? Definitely. Adviced against
      to actually play unless the consequences are fully understood? That too. Playing
      the game is as simple as starting a command like the following: while sleep
      600;\",\"abstract\":null,\"content_html\":\"<p>A couple of friends and I just
      discussed the idea of Russian Process Roulette: Everybody starts a little program
      which kills processes at random. The winner is the one whose computer remains
      usable the longest. Is this crazy? Yes. Immature? Sure. Fun? Definitely. Adviced
      against to actually play unless the consequences are fully understood? That
      too.</p>\\n<p>Playing the game is as simple as starting a command like the following:</p>\\n<pre
      class=\\\"shell\\\"><code>while sleep 600; do kill -9 $(tr -cd \\\"[:digit:]\\\"
      &lt; /dev/urandom | head -c5); done</code></pre>\\n<p>This one-liner will wake
      up every 10 minutes, generate a random 5-digit number and then kill the process
      with the corresponding process ID. It will run forever, until it is either stopped,
      kills itself or has successfully crashed the user\u2019s session.</p>\\n<p>Of
      course, there are some problems with this code. The time at which the next process
      will be killed is predictable, making it easier to prepare for the eventuality
      of a dying process. Worse, the range of random process ids (0 to 99999) is about
      three times as large as the actual range of process ids on a typical linux system
      (0 to 32768). This lowers the chance of hitting a valid process ID quite a bit.
      So let\u2019s put our scripting-fu to some misguided use and \u201Coptimize\u201D
      the code.</p>\\n<p>The first step is to write a function which gives uniformly
      distributed random numbers below a threshold.</p>\\n<pre class=\\\"shell\\\"><code>random_number_below
      () {\\n  local upperbound=$1\\n  local candidate=$(( $1 + 1 ))\\n  local maxlen=$(printf
      $upperbound | wc -c)\\n  while [ $candidate -gt $upperbound ]\\n  do\\n      candidate=$(tr
      -cd '[:digit:]' &lt; /dev/urandom | head -c \\\"$maxlen\\\" )\\n  done\\n  echo
      $candidate\\n}</code></pre>\\n<p>Our random number generator is very very wasteful
      in terms of processor cycles. Even more, if the output of <code>/dev/urandom</code>
      is truly random, the function were not even guaranteed to terminate in any specified
      time frame. But given the nature of the application we have in mind, both caveats
      are completely acceptable here. Candidate numbers are generated by reading random
      characters from the systems urandom device, throwing away every character that
      isn\u2019t a digit. After this, the candidate number is checked to make sure
      we haven\u2019t generated a number greater than the specified upper bound. If
      that should be the case, we run the whole procedure again. Otherwise, the random
      number is returned. While wasteful, this function produces an unbiased uniform
      distribution on the interval [0, upperbound].</p>\\n<p>The second problem, regarding
      the range of possible process identifiers, is easier to fix. A little bit of
      searching reveals that the largest possible process identifier can be read from
      the file <code>/proc/sys/kernel/pid_max</code>. With this functionality in our
      hands, we can now write a \u201Cbetter\u201D Russian Process Roulette script.</p>\\n<pre
      class=\\\"shell\\\"><code>while sleep $(random_number_below 999)\\ndo\\n    local
      maxpid=$(cat /proc/sys/kernel/pid_max)\\n    kill -9 $(random_number_below \\\"$maxpid\\\")\\ndone</code></pre>\\n<p>We
      should (<em>probably not</em>) run this as <code>root</code>, thereby making
      sure no process is safe from our \u201Cprocess gun\u201D.</p>\\n<p>While the
      result of our efforts isn\u2019t necessarily useful, it is still a nice exercises
      in shell scripting. Our game remains destructive and immature, but the execution
      is slightly more sophisticated. Hope you like it.</p>\",\"published_at\":1380240000,\"updated_at\":1380240000,\"registered_at\":0,\"indexed_at\":0,\"authors\":[{\"given\":
      \"Albert\", \"family\": \"Krewinkel\"}],\"image\":null,\"tags\":[\"Command-line\",\"Nonsense\"],\"language\":\"en\",\"reference\":[],\"relationships\":[],\"funding_references\":null,\"blog_name\":\"tarleb\",\"blog_slug\":\"tarleb\",\"rid\":null,\"version\":null,\"blog\":{\"id\":
      \"c6e3ab7a-a0d9-4ee8-9b16-efa5b5c541b8\", \"ror\": null, \"issn\": null, \"slug\":
      \"tarleb\", \"title\": \"tarleb\", \"filter\": null, \"prefix\": \"10.59350\",
      \"secure\": true, \"status\": \"active\", \"authors\": null, \"doi_reg\": null,
      \"favicon\": null, \"funding\": null, \"indexed\": false, \"license\": \"https://creativecommons.org/licenses/by/4.0/legalcode\",
      \"use_api\": null, \"user_id\": \"dead81b3-8a8b-45c9-85fe-f01bb3948c77\", \"category\":
      \"computerAndInformationSciences\", \"feed_url\": \"https://tarleb.com/index.xml\",
      \"language\": \"en\", \"mastodon\": null, \"generator\": \"Quarto\", \"created_at\":
      1681948800, \"updated_at\": 1679616000, \"description\": \"tarleb's blog\",
      \"doi_as_guid\": false, \"feed_format\": \"application/rss+xml\", \"archive_host\":
      null, \"community_id\": \"b67e853d-a24e-4cba-8499-75aa2ecf6edb\", \"relative_url\":
      null, \"use_mastodon\": false, \"canonical_url\": null, \"generator_raw\": \"Quarto
      1.4.554\", \"home_page_url\": \"https://tarleb.com/index.html\", \"registered_at\":
      1700486796, \"archive_prefix\": \"https://wayback.archive-it.org/22161/20231101171515/\",
      \"current_feed_url\": null, \"archive_collection\": 22161, \"archive_timestamps\":
      null}}"
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb17cf041965-FRA
      content-encoding:
      - gzip
      content-location:
      - /posts?guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Frussian-process-roulette%2F&select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29
      content-profile:
      - public
      content-range:
      - 0-0/*
      content-type:
      - application/vnd.pgrst.object+json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2ae6-7ca3-ac9c-b3499fe4ef12
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '6'
    http_version: HTTP/2
    status_code: 200
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: https://rogue-scholar.org/api/communities?q=slug%3Atarleb&type=blog&type=subject&size=1
  response:
    body:
      string: '{"hits": {"hits": [{"id": "b67e853d-a24e-4cba-8499-75aa2ecf6edb", "created":
        "2024-10-10T20:10:10.900307+00:00", "updated": "2025-08-05T07:44:49.280885+00:00",
        "links": {"featured": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/featured",
        "self": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb",
        "self_html": "https://rogue-scholar.org/communities/tarleb/", "settings_html":
        "https://rogue-scholar.org/communities/tarleb/settings", "logo": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/logo",
        "rename": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/rename",
        "members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members",
        "public_members": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/members/public",
        "invitations": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/invitations",
        "requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/requests",
        "records": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/records",
        "membership_requests": "https://rogue-scholar.org/api/communities/b67e853d-a24e-4cba-8499-75aa2ecf6edb/membership-requests"},
        "revision_id": 297, "slug": "tarleb", "metadata": {"title": "tarleb", "description":
        "tarleb''s blog", "type": {"id": "blog", "title": {"de": "Blog", "en": "Blog",
        "sv": "Blogg"}}, "website": "https://tarleb.com/index.html"}, "access": {"visibility":
        "public", "members_visibility": "public", "member_policy": "open", "record_submission_policy":
        "open", "review_policy": "open"}, "custom_fields": {"rs:feed_url": "https://tarleb.com/index.xml",
        "rs:prefix": "10.59350", "rs:joined": "April 20, 2023", "rs:feed_format":
        "application/rss+xml", "rs:generator": "Quarto", "rs:license": "https://creativecommons.org/licenses/by/4.0/legalcode",
        "rs:language": "English", "rs:category": "Computer and information sciences"},
        "is_verified": false, "deletion_status": {"is_deleted": false, "status": "P"},
        "children": {"allow": false}}], "total": 1}, "aggregations": {"type": {"buckets":
        [{"key": "blog", "doc_count": 1, "label": "blog", "is_selected": true}], "label":
        "Type"}}, "sortBy": "bestmatch", "links": {"self": "https://rogue-scholar.org/api/communities?page=1&q=slug:tarleb&size=1&sort=bestmatch&type=blog&type=subject"}}'
    headers:
      Content-Length:
      - '2470'
      Content-Security-Policy:
      - 'default-src ''self'' data: ''unsafe-inline'' blob: *.rogue-scholar.org plausible.io
        www.youtube.com player.vimeo.com www.blogger.com; img-src *'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      Permissions-Policy:
      - interest-cohort=()
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '0'
      Server:
      - gunicorn
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-Ratelimit-Limit:
      - '500'
      X-Ratelimit-Remaining:
      - '466'
      X-Ratelimit-Reset:
      - '1754423111'
      X-User-Id:
      - '4'
      X-Xss-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29%2Ccitations%3Acitations%21inner%28citation%2Cunstructured%2Cvalidated%2Cupdated_at%2Cpublished_at%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Favoiding-spam%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb19989c1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2c06-778c-9768-5a840fc8cfee
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '8'
    http_version: HTTP/2
    status_code: 406
- request:
    body: !!binary |
      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
    headers:
      Content-Encoding:
      - br
      Content-Type:
      - application/x-sentry-envelope
      User-Agent:
      - sentry.python/2.34.1
      X-Sentry-Auth:
      - Sentry sentry_key=1c9eaaf51fe266c81428811887ed1699, sentry_version=7, sentry_client=sentry.python/2.34.1
    method: POST
    uri: https://o1035963.ingest.us.sentry.io/api/4508128176766976/envelope/
  response:
    body:
      string: '{"id":"0d66e7c10cfd4a9ebbd443a9b56f59b3"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Length:
      - '41'
      Content-Type:
      - application/json
      Date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Via:
      - 1.1 google
      access-control-allow-origin:
      - '*'
      access-control-expose-headers:
      - x-sentry-error,x-sentry-rate-limits,retry-after
      cross-origin-resource-policy:
      - cross-origin
      vary:
      - origin, access-control-request-method, access-control-request-headers
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      accept:
      - application/vnd.pgrst.object+json
      accept-encoding:
      - gzip, deflate, br
      accept-profile:
      - public
      connection:
      - keep-alive
      content-profile:
      - public
      cookie:
      - __cf_bm=oSo220hO1pEdLL0JHHMUXC7T1juQdEvhcR6HRP6amag-1754422840-1.0.1.1-aXIb03vJ.GaKi0NR4L.pki54dDA1mat0hWn8SRMKMGLmkpoUxptfn5iiD9FQ_cZt3.6dfCu0yK2m17.A8dv10SVmmyOtkXpwL9TtCvOMYVk
      host:
      - bosczcmeodcrajtcaddf.supabase.co
      user-agent:
      - python-httpx/0.28.1
      x-client-info:
      - supabase-py/2.17.0
    method: GET
    uri: https://bosczcmeodcrajtcaddf.supabase.co/rest/v1/posts?select=id%2Cguid%2Cdoi%2Cparent_doi%2Curl%2Carchive_url%2Ctitle%2Csummary%2Cabstract%2Ccontent_html%2Cpublished_at%2Cupdated_at%2Cregistered_at%2Cindexed_at%2Cauthors%2Cimage%2Ctags%2Clanguage%2Creference%2Crelationships%2Cfunding_references%2Cblog_name%2Cblog_slug%2Crid%2Cversion%2Cblog%3Ablogs%21inner%28%2A%29&guid=eq.https%3A%2F%2Ftarleb.com%2Fposts%2Favoiding-spam%2F
  response:
    content: '{"code":"PGRST116","details":"The result contains 0 rows","hint":null,"message":"JSON
      object requested, multiple (or no) rows returned"}'
    headers:
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      cf-ray:
      - 96a8cb1a090f1965-FRA
      content-encoding:
      - gzip
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 05 Aug 2025 19:45:10 GMT
      sb-gateway-version:
      - '1'
      sb-project-ref:
      - bosczcmeodcrajtcaddf
      sb-request-id:
      - 01987bc4-2c4b-77d4-bfa4-0ea00f339c65
      server:
      - cloudflare
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-envoy-attempt-count:
      - '1'
      x-envoy-upstream-service-time:
      - '5'
    http_version: HTTP/2
    status_code: 406
version: 1
